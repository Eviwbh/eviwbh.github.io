---
title: C++面试题
date: 2024-07-30 11:50:33
tags:
---
# C++面试题

## 简述下 C++ 语言的特点

1. C++ 在 C 语言基础上引入了面对对象的机制，同时也兼容C语言。

2. C++ 有三大特性（1）封装（2）继承（3）多态。

3. C++ 语言编写出的程序结构清晰、易于扩充，程序可读性好。

4. C++ 生成的代码质量高，运行效率高，仅比汇编语言慢 10%～20%；

5. C++ 更加安全，增加了 const常 量、引用、四类 cast 转换（static_cast、dynamic_cast、const_cast、reinterpret_cast）、智能指针、try—catch 等等；

6. C++ 可复用性高，C++ 引入了模板的概念，后面在此基础上，实现了方便开发的标准模板库STL（StandardTemplate Library）。

7. 同时，C++ 是不断在发展的语言。C++ 后续版本更是发展了不少新特性，如 C++11 中引入了 nullptr、auto变量、Lambda 匿名函数、右值引用、智能指针。

## C 语言和 C++ 的区别

1. C 语言是 C++ 的子集，C++ 可以很好兼容C语言。但是 C++ 又有很多新特性，如引用、智能指针、auto 变
   量等。
2. C++ 是面对对象的编程语言；C 语言是面对过程的编程语言。
3. C 语言有一些不安全的语言特性，如指针使用的潜在危险、强制转换的不确定性、内存泄露等。而 C++ 对此增加了不少新特性来改善安全性，如 const 常量、引用、cast转换、智能指针、try—catch 等等；
4. C++ 可复用性高，C++ 引入了模板的概念，后面在此基础上，实现了方便开发的标准模板库STL。C++ 的
   STL 库相对于 C 语言的函数库更灵活、更通用。

## C++ 结构体和 C 结构体的区别

1. C 的结构体内不允许有函数存在，C++ 允许有内部成员函数，且允许该函数是虚函数。

2. C 的结构体对内部成员变量的访问权限只能是 public，而 C++ 允许 public,protected,private 三种。

3. C语言的结构体是不可以继承的，C++ 的结构体是可以从其他的结构体或者类继承过来的。

4. C 中使用结构体需要加上 struct 关键字，或者对结构体使用 typedef 取别名，而 C++ 中可以省略 struct 关键
   字直接使用。

   ![image-20220623205847333](C:\Users\JialinLee\AppData\Roaming\Typora\typora-user-images\image-20220623205847333.png)

   使用区别

   C 中使用结构体需要加上 struct 关键字，或者对结构体使用 typedef 取别名，而 C++ 中可以省略 struct 关键字直接使用，例如：

   ```
    struct Student{ int iAgeNum; string strName; }
    typedef struct Student Student2; 		// C 中取别名
    struct Student stu1; 					// C 中正常使用
    Student2 stu2; 						// C 中通过取别名的使用
    Student stu3; 						// C++ 中使用
   ```

## 静态局部变量，全局变量，局部变量的特点

- 从作用域考虑
  - C++ 里作用域可分为6种：全局，局部，类，语句，命名空间和文件作用域。
    全局变量：全局作用域，可以通过extern作用于其他非定义的源文件。
    局部变量：局部作用域，比如函数的参数，函数内的局部变量等等。
    静态局部变量 ：局部作用域，只被初始化一次，直到程序结束。
- 从所在空间考虑
  - 除了局部变量在栈上外，其他都在静态存储区。因为静态变量都在静态存储区，所以下次调用函数的时候还是能取到原来的值。
- 从生命周期考虑
  - 局部变量在栈上，出了作用域就回收内存。
    全局变量、静态全局变量、静态局部变量都在静态存储区，直到程序结束才会回收内存。

## i++ 和 ++i 的区别

代码示例：

```
#include <iostream>
int main()
{
 int i = 2;
 int j = 2;
 j += i++; // 先赋值后加
 std::cout << "i= " << i << ", j = " << j << std::endl; //i= 3, j = 4
 i = 2;
 j = 2;
 j += ++i; // 先加后赋值
 std::cout << "i= " << i << ", j = " << j << std::endl; //i= 3, j = 5
}
```

1. 赋值顺序不同：++ i 是先加后赋值；i ++ 是先赋值后加；++i和i++都是分两步完成的。

2. 效率不同：后置 ++ 执行速度比前置的慢。

3. i++ 不能作为左值，而++i 可以，示例如下：

```
 int i = 0;
 int* p1 = &(++i); // 正确
 int* p2 = &(i++); // 错误
 ++i = 1; 	  	   // 正确
 i++ = 1; 		   // 错误
```

 4.两者都不是原子操作。

- 结构体和类的区别

  C++中的[struct](https://so.csdn.net/so/search?q=struct&spm=1001.2101.3001.7020)对C中的struct进行了扩充，它已经不再只是一个包含不同数据类型的数据结构了，它已经获取了太多的功能。
  struct能包含[成员函数](https://so.csdn.net/so/search?q=成员函数&spm=1001.2101.3001.7020)吗？ 能！
  struct能继承吗？ 能！！
  struct能实现[多态](https://so.csdn.net/so/search?q=多态&spm=1001.2101.3001.7020)吗？ 能！！！

  既然这些它都能实现，那它和class还能有什么区别？

  最本质的一个区别就是默认的访问控制：

  默认的继承[访问权限](https://so.csdn.net/so/search?q=访问权限&spm=1001.2101.3001.7020)

  struct是public的，class是private的。

- C++面向对象

- static的作用

  静态分配方式下的内存在程序编译的时候就已经分配好了且存在于程序的整个运行过程。例如 static 变量，其生命周期随程序的结束而结束，而非像一般变量随函数或作用域的结束而结束。

  除了 static 变量，还有一种全局对象 static object，也可以存放在静态存储区。

  [static](https://so.csdn.net/so/search?q=static&spm=1001.2101.3001.7020)是C++中很常用的修饰符，它被用来控制变量的存储方式和可见性。、

  需要一个数据对象为整个类而非某个对象服务,同时又力求不破坏类的封装性,即要求此成员隐藏在类的内部，对外不可见。

- 变量的声明和定义有什么区别
  为变量分配地址和存储空间的称为定义，不分配地址的称为声明。一个变量可以在多个地方声明，但是只在一个地方定义。加入 extern 修饰的是变量的声明，说明此变量将在文件以外或在文件后面部分定义。说明：很多时候一个变量，只是声明不分配内存空间，直到具体使用时才初始化，分配内存空间，
  如外部变量。

  - extern是什么

    ```
    extern int i; //声明，不是定义
    int i; //声明，也是定义
    ```

    

    