[{"id":"def7331dff58f37eff7cfcc23979e5a9","title":"ç‹¬è§’æ•°å¡-CentOS","content":"ç‹¬è§’æ•°å¡-CentOShttps://github.com/assimon/dujiaoka/releasestar -xvf dujiaoka-2.0.6.tar.gz cd dujiaoka-2.0.6mkdir /usr/share/nginx/fakamv * .[^.]* /usr/share/nginx/fakacd /usr/share/nginx/fakavi .envmysql -uroot -p create database faka character set utf8mb4 collate utf8mb4_unicode_ci;sudo ln -s /usr/bin/php74 /usr/bin/phpsudo curl -sS https://getcomposer.org/installer | phpmv composer.phar /usr/local/bin/composersudo ln -s /usr/local/bin/composer /usr/bin/composerphp -vyum -y install php-bcmathcomposer installå®‰è£…redisphpæ‰©å±•cd /usr/local/srcwget http://pecl.php.net/get/redis-6.0.2.tgztar -zxvf redis-6.0.2.tgzcd redis-6.0.2/opt/remi/php74/root/usr/bin/phpize # **æˆ–è€…ä½ è‡ªå·±çš„phpç›®å½•ä¸‹**/bin/phpize./configure --with-php-config=/opt/remi/php74/root/usr/bin/php-config # **ä½ è‡ªå·±çš„phpç›®å½•ä¸‹**/bin/php-configmake &amp;&amp; make installvi /etc/opt/remi/php74/php.d/20-redis.iniextension=redis.so  systemctl restart php74-php-fpmsudo pip install supervisorecho_supervisord_conf &gt; /etc/supervisord.confvi /etc/supervisord.conf[include]files = /etc/supervisor/*.confmkdir /etc/supervisorsupervisord -c /etc/supervisord.confå¦‚æœæç¤ºå·²ç»æœ‰è¿›ç¨‹åœ¨è¿è¡Œï¼Œé‚£ä¹ˆå…ˆ kill æ‰å®ƒã€‚cd /usr/share/nginx/faka/php artisan queue:workvi /etc/supervisor/faka.conf[program:laravel-worker]process_name=%(program_name)s_%(process_num)02dcommand=php /usr/share/nginx/faka/artisan queue:work --tries=3autostart=trueautorestart=trueuser=rootnumprocs=8redirect_stderr=truestdout_logfile=/var/log/supervisor/laravel-queue.logsudo supervisorctl rereadsudo supervisorctl updatesudo supervisorctl start laravel-worker:*\n\n","slug":"ç‹¬è§’æ•°å¡","date":"2024-07-30T07:41:51.000Z","categories_index":"å¼€å‘ç»éªŒ","tags_index":"ç‹¬è§’æ•°å¡","author_index":"æš—ä½¿å¼€å¼€"},{"id":"2def8f8452c229b4f9321455aa1146d4","title":"æ—¶è¿èµ‹","content":"æ—¶è¿èµ‹å¤©æœ‰ä¸æµ‹é£äº‘ï¼Œäººæœ‰æ—¦å¤•ç¥¸ç¦ï¼Œèœˆèš£ç™¾è¶³ï¼Œè¡Œä¸åŠè›‡ï¼Œå®¶é¸¡ç¿¼å¤§ï¼Œé£ä¸è¿‡é¸¦ï¼Œé©¬æœ‰åƒé‡Œä¹‹ç¨‹ï¼Œæ— éª‘ä¸èƒ½è‡ªå¾€ï¼Œäººæœ‰å‡Œäº‘ä¹‹å¿—ï¼Œéè¿ä¸èƒ½è…¾è¾¾ã€‚\næ–‡ç« ç›–ä¸–ï¼Œå­”å­å„å›°äºé™ˆé‚¦ï¼›æ­¦ç•¥è¶…ç¾¤ï¼Œå¤ªå…¬å‚é’“äºæ¸­æ°´ã€‚ç›—è·–å¹´é•¿ï¼Œä¸æ˜¯å–„è‰¯ä¹‹è¾ˆï¼Œé¢œå›å‘½çŸ­ï¼Œå®éå‡¶æ¶ä¹‹å¾’ã€‚å°§èˆœè‡³åœ£ï¼Œå´ç”Ÿä¸è‚–ä¹‹å­ï¼›ç½åŸé¡½åŠ£ï¼Œåç”Ÿå¤§å­ä¹‹å„¿ã€‚\nå¼ è‰¯åŸæ˜¯å¸ƒè¡£ï¼Œè§ä½•ç§°è°“å¿åã€‚æ™å­ä¸æ»¡äº”å°ºï¼Œä½¿æ¥šæ‹œé½åç›¸ï¼›è¯¸è‘›æ— åŠ›ç¼šé¸¡ï¼Œå‡ºä¸ºèœ€æ±‰å†›å¸ˆã€‚å†¯å”æœ‰å®‰é‚¦ä¹‹æ‰ï¼Œç»ˆèº«ä¸ç¬¬ã€‚æå¹¿æœ‰å°„è™ä¹‹å¨ï¼Œåˆ°è€æœªå°ã€‚éŸ©ä¿¡æœªé‡ä¹‹æ—¶ï¼Œæ— ä¸€æ—¥ä¹‹é¤ï¼ŒåŠè‡³é‡è¡Œï¼Œè…°æ‚¬ä¸‰é½ç‰å°ã€‚æ¥šç‹è™½é›„ï¼Œè´¥äºä¹Œæ±Ÿè‡ªåˆï¼›æ±‰ç‹æŸ”å¼±ï¼Œç«Ÿæœ‰æ²³å±±ä¸‡é‡Œã€‚æ»¡è…¹ç»çº¶ï¼Œç™½å‘ä¸ç¬¬ã€‚æ‰ç–å­¦æµ…ï¼Œå°‘å¹´åŠç¬¬ç™»ç§‘ã€‚æœ‰å…ˆå¯Œè€Œåè´«ï¼Œæœ‰å…ˆè´«è€Œåå¯Œã€‚è›Ÿé¾™æœªé‡ï¼Œæ½œèº«äºé±¼é³–ä¹‹é—´ã€‚å›å­å¤±æ—¶ï¼Œæ‹±æ‰‹äºå°äººä¹‹ä¸‹ã€‚å¤©ä¸å¾—æ—¶ï¼Œæ—¥æœˆæ— å…‰ã€‚åœ°ä¸å¾—æ—¶ï¼Œè‰æœ¨ä¸é•¿ã€‚æ°´ä¸å¾—æ—¶ï¼Œé£æµªä¸é™ã€‚äººä¸å¾—æ—¶ï¼Œåˆ©è¿ä¸é€šã€‚\næ˜”æ—¶ï¼Œä½™åœ¨æ´›é˜³ï¼Œæ—¥æŠ•åƒ§é™¢ï¼Œå¤œå®¿å¯’çª‘ï¼›ç ´è¡£ä¸èƒ½é®å…¶ä½“ï¼Œæ·¡ç²¥ä¸èƒ½å……å…¶é¥¥ï¼›ä¸Šäººæ†ï¼Œä¸‹äººåŒï¼Œçš†è¨€ä½™ä¹‹è´±ä¹Ÿã€‚ä½™æ›°ï¼Œéå¾è´±ä¹Ÿï¼ä¹ƒæ—¶ä¹Ÿï¼Œè¿ä¹Ÿï¼Œå‘½ä¹Ÿã€‚ä½™åŠç¬¬ç™»ç§‘ï¼Œå®˜è‡³æå“ï¼Œä½åˆ—ä¸‰å…¬ï¼›æœ‰æŒç™¾åƒšä¹‹æ–ï¼Œæœ‰æ–©é„™åä¹‹å‰‘ï¼›å‡ºåˆ™å£®å£«æ‰§é­ï¼Œå…¥åˆ™ä½³äººæ§è§ï¼›æ€è¡£åˆ™ç»«ç½—é”¦ç¼ï¼Œæ€é£Ÿåˆ™å±±çæµ·å‘³ï¼›ä¸Šäººå® ï¼Œä¸‹äººæ‹¥ï¼Œäººçš†ä»°æ…•ï¼Œçš†è¨€ä½™ä¹‹è´µä¹Ÿã€‚ä½™æ›°ï¼Œéå¾è´µä¹Ÿï¼Œä¹ƒæ—¶ä¹Ÿï¼Œè¿ä¹Ÿï¼Œå‘½ä¹Ÿã€‚\nç›–ï¼Œäººç”Ÿåœ¨ä¸–ï¼Œå¯Œè´µä¸å¯å°½ç”¨ï¼Œè´«è´±ä¸å¯è‡ªæ¬ºï¼›æ­¤ä¹ƒå¤©åœ°å¾ªç¯ï¼Œç»ˆè€Œå¤å§‹è€…ä¹Ÿã€‚\n","slug":"æ—¶è¿èµ‹","date":"2024-07-30T07:34:51.000Z","categories_index":"ä¿®èº«å…»æ€§","tags_index":"èµ‹","author_index":"æš—ä½¿å¼€å¼€"},{"id":"0f7187f056360c5c434c1ad57a60280d","title":"å­¦ä¹ æ–¹æ³•","content":"å­¦ä¹ æ–¹æ³•è´¹æ›¼å­¦ä¹ æ³•ï¼šä¸è¦æµ®èºï¼Œæ¯ä¸ªæ¦‚å¿µéƒ½æ¸…æ™°çš„ç”¨ç¬”å’Œçº¸ç®€çŸ­çš„ç»™åˆ«äººè®²æ¸…æ¥šã€‚\n","slug":"å­¦ä¹ æ–¹æ³•","date":"2024-07-30T07:33:39.000Z","categories_index":"éšç¬”","tags_index":"éšç¬”","author_index":"æš—ä½¿å¼€å¼€"},{"id":"b7a0c97312b85aac49e7a436cf1976e7","title":"wordpressä¼˜åŒ–","content":"wordpressä¸»é¢˜å®‰è£…ä¸»é¢˜æ–‡ä»¶å¤§å°å—é™åˆ¶\nphp.ini\næŠŠ upload_max_filesize å’Œ post_max_size ä¿®æ”¹ä¸º20M\n\n&#x2F;etc&#x2F;nginx&#x2F;nginx.conf\nclient_max_body_size 20m;\n\n\nä¸Šä¼ ä¸»é¢˜å‹ç¼©åŒ…å®‰è£…æˆ–è€…é€‰æ‹©ç½‘ä¸Šä¸»é¢˜è¿›è¡Œå®‰è£…\nhttpè‡ªåŠ¨è·³è½¬httpsserver &#123;        listen       80;        listen       [::]:80;        server_name  star.amshadow.cn;\t\t        #æŠŠhttpçš„åŸŸåè¯·æ±‚è½¬æˆhttps\t\treturn 301 https://$host$request_uri;\t\t#å¼ºåˆ¶å°†httpçš„URLé‡å†™æˆhttps        #rewrite ^(.*) https://$server_name$1 permanent;    &#125;\n\nwordpressæ’ä»¶AntiVirusmanual Scan \nWordfenceå®‰å…¨æ‰«æ\ngoogleç™»å½•éªŒè¯\nWPSéšè—ç™»å½•WPS CleanerWPS BidouilleåŠ é€Ÿæ’ä»¶\nWP Fastest Cache\nwordpressä¸»é¢˜å¼€å‘æ–‡ä»¶æ¯ä¸ªä¸»é¢˜è‡³å°‘è¦æœ‰è¿™ä¸¤ä¸ªæ–‡ä»¶ - style.css å’Œ index.phpã€‚index.php å‘Šè¯‰ä¸»é¢˜ä¸­æ‰€æœ‰çš„å…ƒç´ å¦‚ä½•å¸ƒå±€ï¼Œstyle.css åˆ™å‘Šè¯‰ä¸»é¢˜ä¸­æ‰€æœ‰çš„å…ƒç´ è¯¥å¦‚ä½•å±•ç¤ºï¼Œä»¥åŠå®ƒä»¬çš„æ ·å¼ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªå®Œæ•´çš„ä¸»é¢˜å«æœ‰çš„æ–‡ä»¶åˆ—è¡¨style.css\n\nindex.php\nhome.php\nsingle.php\npage.php\narchive.php\ncategory.php\nsearch.php\n404.php\ncomments.php\ncomments-popup.php\nauthor.php\ndate.phpã€\n\nWordPress ä¸“ä¸šæœ¯è¯­ï¼š\nTemplateï¼ˆæ¨¡æ¿ï¼‰ â€” å…¶å®å°±æ˜¯ä¸€ä¸ªä»£ç é›†ï¼Œä¸»é¢˜ä¸­å¾ˆå¤šåœ°æ–¹ä¼šåˆ©ç”¨åˆ°è¿™ä¸ªä»£ç é›†ï¼Œæ‰€ä»¥æŠŠå®ƒä»¬æ•´åˆæˆä¸€ä¸ªæ¨¡æ¿ï¼Œè¿™æ ·å°±å°±ä¸å¿…ä¸€ééè¾“å…¥è¿™äº›é‡å¤ä»£ç ã€‚\nTemplate fileï¼ˆæ¨¡æ¿æ–‡ä»¶ï¼‰ â€” ä¸€ä¸ªåŒ…å«ä¸€ä¸ªæˆ–è€…å¤šä¸ªä»£ç é›†ï¼ˆæ¨¡æ¿ï¼‰æ–‡ä»¶ã€‚æ¯ä¸ªä¸»é¢˜æ˜¯ç”±å¤šä¸ªæ¨¡æ¿æ–‡ä»¶ç»„æˆçš„ï¼Œæ¯”å¦‚ï¼šindex.phpï¼Œstyle.cssï¼Œsidebar.php ç­‰ç­‰ã€‚\nThemeï¼ˆä¸»é¢˜ï¼‰æˆ–è€… WordPress themeï¼ˆWordPress ä¸»é¢˜ï¼‰ â€” æ‰€æœ‰ä½ æ­£åœ¨ä½¿ç”¨çš„æ–‡ä»¶ï¼šæ–‡æœ¬ï¼Œå›¾åƒï¼Œä»£ç ç­‰ç­‰ã€‚æ³¨æ„ï¼š WordPress themeï¼ˆä¸»é¢˜ï¼‰å’Œ WordPress template(s)ï¼ˆæ¨¡æ¿ï¼‰æ˜¯ä¸¤ä¸ªä¸åŒçš„ä¸œè¥¿ï¼Œå°½ç®¡æœ‰äº›äººè®¤ä¸ºä»–ä»¬ä¸€æ ·ã€‚\nPostï¼ˆæ—¥å¿—æˆ–è€…æ–‡ç« ï¼‰ â€” ç°åœ¨ä½ è¯»çš„å°±æ˜¯ä¸€ç¯‡æ—¥å¿—ã€‚æ­¤å¤–ï¼Œå®ƒæ˜¯ä½  blog çš„ä¸€ä¸ªç®€å•çš„æ¡ç›®ï¼Œå¦‚ï¼šä¸€ä¸ªé¡µé¢æˆ–è€…ä¸€ç¯‡æ—¥è®°ã€‚\nPageï¼ˆé™æ€é¡µé¢ï¼‰ â€” ä¸€ç§ç‰¹æ®Šçš„ postï¼Œå®ƒä¸æ˜¯ä»¥åˆ†ç±»ç»„ç»‡çš„ã€‚å®ƒæœ‰åˆ«äºä½ å…¶ä»–çš„æ—¥å¿—ã€‚æ³¨æ„ï¼šåœ¨ WordPressï¼Œpageï¼ˆé¡µé¢ï¼‰å’Œ Pageï¼ˆé™æ€é¡µé¢ï¼‰æ˜¯ä¸¤ç§ä¸åŒçš„ä¸œè¥¿ã€‚\n\nWordPress åšå®¢çš„æ¯ä¸ªé¡µé¢æ˜¯ç”±å¤šä¸ªæ¨¡æ¿æ–‡ä»¶ç»„æˆçš„ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºä¸»é¢˜çš„ index.php æ˜¯ç”± 4 ä¸ªæ¨¡æ¿æ–‡ä»¶ç»„æˆï¼š header.phpï¼Œindex.phpï¼Œsidebar.php å’Œ footer.phpã€‚\nHeader æ¨¡æ¿æ–‡ä»¶:é€šå¸¸åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­åŒ…å«åšå®¢çš„æ ‡é¢˜ï¼ˆtitleï¼‰å’Œæè¿°ï¼ˆdescriptionï¼‰ã€‚è€Œä¸”å®ƒä»¬é€šå¸¸åœ¨æ•´ä¸ªåšå®¢ä¸­éƒ½æ˜¯ä¸€æ ·çš„ã€‚\nIndex æ¨¡æ¿æ–‡ä»¶ï¼šè¿™ä¸ªæ¨¡æ¿æ–‡ä»¶åŒ…å«ä½ çš„æ—¥å¿—çš„æ ‡é¢˜ï¼Œæ—¥å¿—çš„å†…å®¹ï¼ˆå°±æ˜¯æ¯ç¯‡æ—¥å¿—çš„æ–‡æœ¬å’Œå›¾ç‰‡ï¼‰å’Œæ—¥å¿—çš„å…ƒæ•°æ® ï¼ˆå…ƒæ•°æ®æ˜¯æ¯ç¯‡æ—¥å¿—çš„é¢å¤–ä¿¡æ¯ï¼Œå¦‚ä½œè€…æ˜¯è°ï¼Œæ—¥å¿—å‘å¸ƒçš„æ—¶é—´ï¼Œåœ¨å“ªä¸ªåˆ†ç±»ä¸‹ï¼Œæœ‰å¤šå°‘ç•™è¨€ç­‰ç­‰ï¼‰ã€‚\nSidebar æ¨¡æ¿æ–‡ä»¶è¿™ä¸ªæ¨¡æ¿æ–‡ä»¶ä¸»è¦ç”¨äºæ§åˆ¶åšå®¢çš„é¡µé¢åˆ—è¡¨ï¼Œç±»åˆ«åˆ—è¡¨ï¼Œå­˜æ¡£åˆ—è¡¨ï¼Œå‹æƒ…é“¾æ¥åˆ—è¡¨å’Œå…¶ä»–ä¸€äº›åˆ—è¡¨ã€‚\nfooter.php é€šå¸¸ä¸ä¼šå› ä¸ºé¡µé¢çš„æ”¹å˜è€Œæ”¹å˜ï¼Œä½ å¯ä»¥åœ¨è¿™é‡Œæ”¾ç½®ä»»ä½•ä¸œè¥¿ï¼Œä½†æ˜¯é€šå¸¸æ˜¯ç‰ˆæƒä¿¡æ¯ã€‚\nç°åœ¨è®©æˆ‘è§£é‡Šä¸ºä»€ä¹ˆæŠŠä¸Šé¢å›¾ç‰‡ä¸­çš„ index.php æ‰€åœ¨çš„åŒºåŸŸæ ‡ä¸ºçº¢è‰²çš„ã€‚å¼•æ–‡è¿™å—åŒºåŸŸæ˜¯ä¼šæ ¹æ®ä¸åŒç±»å‹çš„é¡µé¢è€Œå‘ç”Ÿå˜åŒ–ã€‚\nå¦‚æœä½ åœ¨å•ä¸€æ—¥å¿—é¡µé¢ï¼Œè¿™æ—¶å€™é¡µé¢å°†ä¼šåŒ…å«è¿™å››ä¸ªæ¨¡æ¿æ–‡ä»¶ï¼šheader.phpï¼Œ**single.php**ï¼Œsidebar.php å’Œ footerã€‚\nä¼˜åŒ–wordpresså…ˆé€šè¿‡topçœ‹ä¸‹ä¿¡æ¯(shift + m ä¼šè®©è¿›ç¨‹æŒ‰ç…§memoryæ’åº)å‘ç°é‡Œé¢æœ‰å¤§é‡php-fpmè¿›ç¨‹ï¼Œç»è¿‡æŸ¥æ‰¾èµ„æ–™å‘ç°ï¼Œphp-fpm çš„ FastCGI è¿›ç¨‹ä¸€æ—¦åŠ è½½å°±ä¸ä¼šé‡Šæ”¾ ã€‚å› æ­¤æœ‰å¿…è¦å…ˆé’ˆå¯¹è¿™ä¸ªåšä¸€ä¸ªä¼˜åŒ–ã€‚\nphp-fpmä¼˜åŒ–ä¿®æ”¹php-fpmæ–‡ä»¶ï¼Œä¸€èˆ¬çš„åœ°å€æ˜¯&#x2F;etc&#x2F;php-fpm.d&#x2F;www.conf\nvi &#x2F;etc&#x2F;php-fpm.d&#x2F;www.conf\nä¿®æ”¹ä¸‹é¢è¿™å‡ ä¸ªå‚æ•°ï¼Œæ‰¾ä¸€ä¸‹å°±è¡Œ(å‚è€ƒæ–‡æœ«é“¾æ¥1çš„å†…å®¹ï¼Œç»“æœå‚æ•°å«ä¹‰å¦‚ä¸‹)\n\npmï¼šè¡¨ç¤ºä½¿ç”¨é‚£ç§æ–¹å¼ï¼Œæœ‰ä¸¤ä¸ªå€¼å¯ä»¥é€‰æ‹©ï¼Œå°±æ˜¯staticï¼ˆé™æ€ï¼‰æˆ–è€…dynamicï¼ˆåŠ¨æ€ï¼‰ï¼Œé»˜è®¤ä¸ºdynamicã€‚\npm.max_childrenï¼šé™æ€æ–¹å¼ä¸‹å¼€å¯çš„php-fpmè¿›ç¨‹æ•°é‡ã€‚\npm.start_serversï¼šåŠ¨æ€æ–¹å¼ä¸‹çš„èµ·å§‹php-fpmè¿›ç¨‹æ•°é‡ã€‚\npm.min_spare_serversï¼šåŠ¨æ€æ–¹å¼ä¸‹çš„æœ€å°php-fpmè¿›ç¨‹æ•°é‡ã€‚\npm.max_spare_serversï¼šåŠ¨æ€æ–¹å¼ä¸‹çš„æœ€å¤§php-fpmè¿›ç¨‹æ•°é‡ã€‚\n\npm = dynamicpm.max_children = 20pm.start_servers = 5pm.min_spare_servers = 2pm.max_spare_servers = 10pm.max_requests = 300\n\nä¿å­˜ï¼Œä¹‹åï¼Œé‡å¯php-fpmæœåŠ¡\nsystemctl restart php-fpm\nåˆ é™¤æ²¡ç”¨çš„ä¸»é¢˜åˆ é™¤çš„æ–¹æ³•æ˜¯å°±æ˜¯è¿›å…¥åˆ°wordpressçš„themesç›®å½•æ¯”å¦‚æˆ‘çš„æ˜¯&#x2F;usr&#x2F;share&#x2F;nginx&#x2F;html&#x2F;wordpress&#x2F;wp-content&#x2F;themes\ncd &#x2F;usr&#x2F;share&#x2F;nginx&#x2F;html&#x2F;wordpress&#x2F;wp-content&#x2F;themes\nç„¶åæŠŠthemeçš„æ–‡ä»¶å¤¹åˆ é™¤å°±å¥½äº†ï¼Œ é€šè¿‡rm\nmysqlä¼˜åŒ–è¶…ä¹å¯»å¸¸çš„æœ‰!!! ä½†æ˜¯é™ä½ä¸€ç‚¹æ‰“å¼€çš„é€Ÿåº¦ï¼Œä¸€èˆ¬å¯ä»¥é™ä½50%çš„å†…å­˜æ¶ˆè€—\nç¼–è¾‘ my.cnfæ–‡ä»¶vi  my.cnf\nåœ¨æ–‡æœ«æ·»åŠ ä¸‹é¢è¿™ä¸€æ®µ (å¦‚æœä½ è¿™ä¸ªæ–‡ä»¶ä¸­å·²ç»æœ‰äº†[mysqld]\n[mysqld]performance_schema &#x3D; 0\né‡å¯mysqldæœåŠ¡systemctl restart mysqld\n","slug":"wordpressä¼˜åŒ–","date":"2024-07-30T07:29:37.000Z","categories_index":"å¼€å‘ç»éªŒ","tags_index":"wordpress","author_index":"æš—ä½¿å¼€å¼€"},{"id":"c25419b8d02da82558175dcb4c4ab39b","title":"Wordpress-CentOS7","content":"Wordpress-CentOS7centos7å®‰è£…wordpress\nå®‰è£…mysql5.7mkdir /opt/mysqlcd /opt/mysqlyum -y install wgetwget https://dev.mysql.com/get/Downloads/MySQL-5.7/mysql-5.7.26-1.el7.x86_64.rpm-bundle.tartar -xvf mysql-5.7.26-1.el7.x86_64.rpm-bundle.tarrpm -qa|grep mari  åŸæœ¬å¯èƒ½æœ‰çš„æ•°æ®åº“ æå‰åˆ å¹²å‡€rpm -e --nodeps mariadb-libs åˆ é™¤mariç›¸å…³çš„æ‰€æœ‰rpm -e --nodeps marisarpm -ivh mysql-community-common-5.7.26-1.el7.x86_64.rpmrpm -ivh mysql-community-libs-5.7.26-1.el7.x86_64.rpmrpm -ivh mysql-community-client-5.7.26-1.el7.x86_64.rpm yum -y install libaio yum -y install numactl rpm -ivh mysql-community-server-5.7.26-1.el7.x86_64.rpm --force --nodeps systemctl start mysqld.serviceå¦‚æœæŠ¥é”™Job for mysqld.service failed because the control process exited with error code. See &quot;systemctl status mysqld.service&quot; and &quot;journalctl -xe&quot; for details.mkdir -p /var/run/mysqld/chown mysql.mysql /var/run/mysqld///ormkdir /var/lib/mysql/datavi /etc/my.cnfdatadir=/var/lib/mysql/datasystemctl status mysqld.servicegrep &quot;password&quot; /var/log/mysqld.logmysql -uroot -pALTER USER &#x27;root&#x27;@&#x27;localhost&#x27; IDENTIFIED WITH mysql_native_password BY &#x27;@(PdpyY9%X5S4#&#x27;;ALTER USER &#x27;root&#x27;@&#x27;%&#x27; IDENTIFIED WITH mysql_native_password BY &#x27;@(PdpyY9%X5S4#&#x27;;é…ç½®è¿œç¨‹è¿æ¥USE mysql;UPDATE mysql.user SET host = &#x27;%&#x27; WHERE user = &#x27;root&#x27;;SELECT user, host, plugin, authentication_string FROM mysql.user;FLUSH PRIVILEGES;create database star_amshadow_cn character set utf8mb4 collate utf8mb4_unicode_ci;use wordpress;quité…ç½®å¼€æœºå¯åŠ¨å¯åŠ¨æŸ¥çœ‹MySQLæ˜¯å¦è‡ªå¯ï¼šsystemctl is-enabled mysqldå¼€å¯è‡ªå¯ ï¼šsystemctl enable mysqldå…³é—­è‡ªå¯ ï¼šsystemctl disable mysqldsystemctl enable mysqld.service # å¼€æœºè‡ªå¯åŠ¨systemctl disable mysqld.service # ç¦ç”¨å¼€æœºè‡ªå¯åŠ¨//å¦‚æœæœåŠ¡å™¨å†…å­˜å°å¯ä»¥æ”¹vi /etc/my.cnf[mysqld]performance_schema = 0systemctl restart mysqld\n\n\n\nå®‰è£…mysql8wget https://repo.mysql.com//mysql80-community-release-el7-9.noarch.rpmrpm -qa |grep -i mysqlå¦‚æœæœ‰yum remove -y mysql*rpm -e --nodeps mysql80 ...rpm -qa | grep mariadbå¦‚æœæœ‰rpm -e --nodeps mariadb-libs-5.5.60-1.el7_5.x86_64yum install -y libaiorpm -ivh mysql80-community-release-el7-9.noarch.rpm rpm --import https://repo.mysql.com/RPM-GPG-KEY-mysql-2023yum -y install mysql-community-servervi /etc/my.cnf#æ•°æ®åº“é»˜è®¤å­—ç¬¦é›†, ä¸»æµå­—ç¬¦é›†æ”¯æŒä¸€äº›ç‰¹æ®Šè¡¨æƒ…ç¬¦å·ï¼ˆç‰¹æ®Šè¡¨æƒ…ç¬¦å ç”¨4ä¸ªå­—èŠ‚ï¼‰character-set-server = utf8mb4#æ•°æ®åº“å­—ç¬¦é›†å¯¹åº”ä¸€äº›æ’åºç­‰è§„åˆ™ï¼Œæ³¨æ„è¦å’Œcharacter-set-serverå¯¹åº”collation-server = utf8mb4_general_ci#è®¾ç½®clientè¿æ¥mysqlæ—¶çš„å­—ç¬¦é›†,é˜²æ­¢ä¹±ç init_connect=&#x27;SET NAMES utf8mb4&#x27;#æ˜¯å¦å¯¹sqlè¯­å¥å¤§å°å†™æ•æ„Ÿï¼Œ1è¡¨ç¤ºä¸æ•æ„Ÿlower_case_table_names = 1systemctl start mysqldsystemctl status mysqldgrep &quot;password&quot; /var/log/mysqld.logmysql -uroot -pALTER USER &#x27;root&#x27;@&#x27;localhost&#x27; IDENTIFIED WITH mysql_native_password BY &#x27;password&#x27;;ALTER USER &#x27;root&#x27;@&#x27;%&#x27; IDENTIFIED WITH mysql_native_password BY &#x27;password&#x27;;é…ç½®è¿œç¨‹è¿æ¥USE mysql;UPDATE mysql.user SET host = &#x27;%&#x27; WHERE user = &#x27;root&#x27;;SELECT user, host, plugin, authentication_string FROM mysql.user;FLUSH PRIVILEGES;create database wordpress character set utf8mb4 collate utf8mb4_unicode_ci;use wordpress;quité…ç½®å¼€æœºå¯åŠ¨å¯åŠ¨æŸ¥çœ‹MySQLæ˜¯å¦è‡ªå¯ï¼šsystemctl is-enabled mysqldå¼€å¯è‡ªå¯ ï¼šsystemctl enable mysqldå…³é—­è‡ªå¯ ï¼šsystemctl disable mysqldsystemctl enable mysqld.service # å¼€æœºè‡ªå¯åŠ¨systemctl disable mysqld.service # ç¦ç”¨å¼€æœºè‡ªå¯åŠ¨mysql -V\n\n\n\nå®‰è£…Nginxæ›´æ–°yumåº“å¤‡ä»½mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.bak20240409wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repoyum -y install epel-releaseyum -y install nginx       systemctl start nginx       systemctl enable nginx.service      \n\nè®¾ç½®å®Œæˆååœ¨æµè§ˆå™¨è¾“å…¥ï¼šå…¬ç½‘ipèƒ½çœ‹åˆ°é¡µé¢åˆ™è¡¨ç¤ºå®‰è£…æˆåŠŸ\nä¿®æ”¹nginxä¸»é…ç½®æ–‡ä»¶vi /etc/nginx/nginx.conf\n#server &#123;#\t\tlisten 80;#\t\tserver_name shop.richcai.com;#\t\treturn 301 https://server_name$name$request_uri;#\t&#125;include servers/*;mkdir /etc/nginx/servers /usr/share/nginx/amshadow_cn /etc/nginx/certä¼ å¥½è¯ä¹¦vi /etc/nginx/servers/star_amshadowcn.confserver &#123;\t    listen       443 ssl http2;        listen       [::]:443 ssl http2;        server_name  star.amshadow.cn; \t\troot         /usr/share/nginx/star_amshadow_cn; \t\t\t\t#è¯ä¹¦æ–‡ä»¶åç§°        ssl_certificate &quot;/etc/nginx/cert/amshadowcn.pem&quot;;        #è¯ä¹¦ç§é’¥æ–‡ä»¶åç§°        ssl_certificate_key &quot;/etc/nginx/cert/amshadowcn.key&quot;;        #ssl_session_cache shared:SSL:1m;        #ssléªŒè¯é…ç½®        ssl_session_timeout  10m;        #é…ç½®åŠ å¯†å¥—ä»¶/ç®—æ³•åŠ å¯†ï¼Œå†™æ³•éµå¾ªopensslæ ‡å‡†        ssl_ciphers HIGH:!aNULL:!MD5;        #ä½¿ç”¨æœåŠ¡å™¨ç«¯çš„é¦–é€‰ç®—æ³•        ssl_prefer_server_ciphers on;        #å®‰å…¨é“¾æ¥å¯é€‰åŠ å¯†åè®®        ssl_protocols TLSv1 TLSv1.1 TLSv1.2 TLSv1.3;\t\t\t\t# Load configuration files for the default server block.\t\tinclude /etc/nginx/default.d/*.conf;\t\t\tlocation / &#123;\t\t\tindex index.php index.html index.htm;\t\t\ttry_files $uri $uri/ /index.php?$args;\t\t&#125;\t\t\trewrite /wp-admin$ $scheme://$host$uri/ permanent;\t\t\tlocation ~* ^.+\\.(ogg|ogv|svg|svgz|eot|otf|woff|mp4|ttf|rss|atom|jpg|jpeg|gif|png|ico|zip|tgz|gz|rar|bz2|doc|xls|exe|ppt|tar|mid|midi|wav|bmp|rtf)$ &#123;\t\t\t\t\taccess_log off; log_not_found off; expires max;\t\t&#125;\t\t\tlocation ~ \\.php$ &#123;\t\t\ttry_files $uri =404;\t\t\tfastcgi_split_path_info ^(.+\\.php)(/.+)$;\t\t\tfastcgi_pass 127.0.0.1:9000;\t\t\tfastcgi_index index.php;\t\t\tfastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\t\t\tinclude fastcgi_params;\t\t&#125;\t&#125;------------------------------------------------------------server &#123;\t\tlisten       80 default_server;\t\tlisten       [::]:80 default_server;\t\tserver_name  39.106.159.62; # æ­¤å¤„ä¿®æ”¹ä¸ºåŸŸåæˆ–è€…å…¬ç½‘IP\t\troot         /usr/share/nginx/amshadow_cn; # ç«™ç‚¹çš„ç›®å½•\t\t\t# Load configuration files for the default server block.\t\tinclude /etc/nginx/default.d/*.conf;\t\t\tlocation / &#123;\t\t\tindex index.php index.html index.htm;\t\t\ttry_files $uri $uri/ /index.php?$args;\t\t&#125;\t\t\trewrite /wp-admin$ $scheme://$host$uri/ permanent;\t\t\tlocation ~* ^.+\\.(ogg|ogv|svg|svgz|eot|otf|woff|mp4|ttf|rss|atom|jpg|jpeg|gif|png|ico|zip|tgz|gz|rar|bz2|doc|xls|exe|ppt|tar|mid|midi|wav|bmp|rtf)$ &#123;\t\t\t\t\taccess_log off; log_not_found off; expires max;\t\t&#125;\t\t\tlocation ~ \\.php$ &#123;\t\t\ttry_files $uri =404;\t\t\tfastcgi_split_path_info ^(.+\\.php)(/.+)$;\t\t\tfastcgi_pass 127.0.0.1:9000;\t\t\tfastcgi_index index.php;\t\t\tfastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\t\t\tinclude fastcgi_params;\t\t&#125;\t&#125;\n\nè¾“å…¥ï¼šnginx -t -c /etc/nginx/nginx.confæ£€æŸ¥é…ç½®æ–‡ä»¶é‡è½½ï¼šsystemctl reload nginx\nå®‰è£…php74yum install epel-releaseyum -y install http://rpms.remirepo.net/enterprise/remi-release-7.rpmyum -y install yum-utilsyum install -y php74-php-fpm php74-php-cli php74-php-bcmath php74-php-gd php74-php-json php74-php-mbstring php74-php-mcrypt php74-php-mysqlnd php74-php-opcache php74-php-pdo php74-php-pecl-crypto php74-php-pecl-mcrypt php74-php-pecl-geoip php74-php-recode php74-php-snmp php74-php-soap php74-php-xml --skip-brokenphp74 -vsystemctl start php74-php-fpmsystemctl enable php74-php-fpmreboot\n\n\n\n\n\nå®‰è£…PHP8yum -y install epel-releaseyum -y install http://rpms.remirepo.net/enterprise/remi-release-7.rpmyum -y install yum-utilsyum-config-manager --enable remi-php80rpm -qa | grep phpyum remove -y php*rpm -e --nodeps yum -y install php php-cli php-common php-devel php-fpm php-gd php-intl php-mbstring php-mysqlnd php-opcache php-pdo php-pecl-apcu php-pecl-imagick php-pecl-mongodb php-pecl-redis php-pecl-xdebug php-pecl-zip php-soap php-xmlphp -vsystemctl start php-fpm systemctl enable php-fpm Â   # è®¾ç½®å¼€æœºå¯åŠ¨reboot\n\n\n\næµ‹è¯•php-fpmæ˜¯å¦å®‰è£…æˆåŠŸè¾“å…¥vi /usr/share/nginx/amshadow_cn/index.phpï¼ŒæŒ‰iè¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼Œè¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š\n&lt;?php    echo &quot;&lt;title&gt;Test Page&lt;/title&gt;&quot;;    echo &quot;Hello World!&quot;;?&gt;\n\nåœ¨æµè§ˆå™¨ä¸­è¾“å…¥httpï¼š//å…¬ç½‘IP/index.phpï¼›å¦‚æœæµè§ˆå™¨ä¸­å‡ºç°Hello World!åˆ™è¡¨ç¤ºé…ç½®æˆåŠŸ,å¯ç»§ç»­è¿›è¡Œä»¥ä¸‹æ­¥éª¤ï¼Œè‹¥å‡ºç°æ–‡ä»¶ä¸‹è½½å¼¹çª—ï¼Œåˆ™é…ç½®å¤±è´¥ï¼Œæ£€æŸ¥ä»¥ä¸Šæ­¥éª¤æ˜¯å¦å‡ºé”™ã€‚\nå®‰è£…é…ç½®wordpress wget https://cn.wordpress.org/latest-zh_CN.tar.gz    tar zxvf latest-zh_CN.tar.gz    cd wordpress/    cp wp-config-sample.php wp-config.php   vi wp-config.php  /** The name of the database for WordPress */define(&#x27;DB_NAME&#x27;, &#x27;wordpress&#x27;); /** MySQL database username */define(&#x27;DB_USER&#x27;, &#x27;root&#x27;);  # æ•°æ®åº“ç”¨æˆ·å/** MySQL database password */define(&#x27;DB_PASSWORD&#x27;, &#x27;@(PdpyY9%X5S4#&#x27;);    # æ•°æ®åº“å¯†ç /** Database hostname */define( &#x27;DB_HOST&#x27;, &#x27;localhost/ip&#x27; );//æ–‡ä»¶æœ€ååŠ ï¼Œä¸éœ€è¦FTPdefine(&#x27;FS_METHOD&#x27;, &quot;direct&quot;);mv * /usr/share/nginx/star_amshadow_cn/ # å°†wordpressæ–‡ä»¶ç§»åŠ¨webç«™ç‚¹çš„æ ¹ç›®å½•chown -Rf apache:root /usr/share/nginx/star_amshadow_cn/\n\nå®Œæˆåï¼Œåœ¨æµè§ˆå™¨ä¸­è¾“å…¥http://ä½ çš„ä¸»æœºIPæˆ–è€…åŸŸå/wp-admin/install.phpè¿›å…¥åˆ°wordpressçš„é…ç½®é¡µé¢ï¼Œè¾“å…¥ç½‘ç«™æ ‡é¢˜ï¼Œç”¨æˆ·åå’Œå¯†ç åï¼Œå°±å¯ä»¥è¿›å…¥wordpressåå°ç®¡ç†ç•Œé¢ï¼Œåˆ°æ­¤ä¾¿å¤§åŠŸå‘Šæˆã€‚\n","slug":"Wordpress","date":"2024-07-30T07:26:13.000Z","categories_index":"å¼€å‘ç»éªŒ","tags_index":"wordpress","author_index":"æš—ä½¿å¼€å¼€"},{"id":"cd2b63055568c6245f89eec8be1c73ff","title":"Winsodws","content":"Windowså®‰è£…Cè¯­è¨€å›¾å½¢åº“Easyxå®‰è£…å®‰è£…easyx\nç½‘æ˜“äº‘éŸ³ä¹ç‹—éƒ½ä¸ç”¨ï¼Œä»ç°åœ¨å¼€å§‹é€€å‘äº†ï¼Œå®³æˆ‘æ‰¾äº†åŠä¸ªå°æ—¶é”™è¯¯\n#include &lt;graphics.h&gt;#include &lt;MMSystem.h&gt; //æ’­æ”¾éŸ³ä¹çš„å¤´æ–‡ä»¶,ä¸èƒ½æ”¾åœ¨æœ€ä¸Šé¢#include &lt;stdlib.h&gt;#pragma comment(lib,&quot;winmm.lib&quot;)//pragmaç¼–ç¨‹ ç”¨æ¥åŠ è½½winmm.libåº“æ–‡ä»¶int main(void)&#123;\t//åˆ›å»ºä¸€ä¸ªå›¾å½¢ç•Œé¢\tinitgraph(600, 400);\t//0è¡¨ç¤ºæŠŠå›¾ç‰‡åŠ è½½åˆ°é»˜è®¤çª—å£ï¼Œé»˜è®¤è¾“å‡ºè®¾å¤‡æ˜¯æ§åˆ¶å°\tloadimage(0,&quot;bg.jpg&quot;);//é¡¹ç›®å­—ç¬¦é›†æ”¹æˆä½¿ç”¨å¤šå­—èŠ‚å­—ç¬¦é›†\t//æ’­æ”¾éŸ³ä¹\t//mciSendString(&quot;open bg.mp3 alias song&quot;, NULL, 0, NULL);\t mciSendString(&quot;play bg1.mp3 repeat&quot;,0,0,0);//å¦‚è¿”å›277å¯èƒ½æ˜¯MP3çš„è§£ç å™¨å‡ºäº†é—®é¢˜ï¼Œä¸‹è½½è§£ç å™¨è§£ç MP3ï¼Œfinalcodecs        \t\t\t\t\t\t\t\t\t\t  //ç½‘æ˜“äº‘ä¸‹è½½çš„éŸ³ä¹è™½ç„¶æ˜¯MP3æ ¼å¼çš„ä½†æ˜¯åœ¨è¿™ä¸ªå‡½æ•°æ˜¯æ’­æ”¾ä¸äº†çš„ï¼Œå› ä¸ºä¸‹è½½çš„éŸ³ä¹å…¶å®æ˜¯flacæ ¼å¼ï¼Œæ‰€ä»¥æ’­æ”¾ä¸äº†ï¼Œè¦åœ¨qqéŸ³ä¹ä¸‹è½½æ‰å¯ä»¥æ’­æ”¾ã€‚\t\tsystem(&quot;pause&quot;);//æŠŠçª—å£æš‚åœæŸ¥çœ‹è¿è¡Œ\t\tclosegraph();//æŠŠå½“å‰çª—å£å…³é—­\treturn 0;&#125;\n\n\n\n\n\nnvmå®‰è£…\nç›®å½•ä¸è¦æœ‰ç©ºæ ¼\ncmdè¦ç”¨ç®¡ç†å‘˜å¯åŠ¨ \nnvm list\nNvm  install\nNvm  use\n\n\n\né—®é¢˜Officeæ¿€æ´»é”™è¯¯Error Code: 0x80080005è§£å†³æ–¹æ³•officeç”šè‡³æ²¡æœ‰æä¾›0x80080005é”™è¯¯ç çš„å«ä¹‰ï¼Œæœ€ååœ¨Office-Toolçš„Issuesä¸­æ‰¾åˆ°äº†è§£å†³æ–¹æ³•ï¼šhttps://github.com/YerongAI/Office-Tool/issues/216#issue-836891168\nåˆ é™¤æ³¨å†Œè¡¨ä¸­çš„ KEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\Image File Execution Options\\SppExtComObj.exe, é‡æ–°æ¿€æ´»å³å¯\næ¸…é™¤officeæ¿€æ´»ç§˜é’¥æ–¹æ³•1ã€CMDç®¡ç†å‘˜èº«ä»½è¿è¡Œ2ã€æ‰¾åˆ°OFFICEå®‰è£…ç›®å½•C:\\Program Files (x86)\\Microsoft Office\\Office16 å›è½¦3ã€cmdçª—å£å†…è¿è¡ŒCD C:\\Program Files (x86)\\Microsoft Office\\Office1 6å›è½¦4ã€cmdçª—å£è¿è¡Œcscript ospp.vbs &#x2F;dstatus å›è½¦ï¼ŒæŸ¥çœ‹æ¿€æ´»ç§˜é’¥ç§˜é’¥å5ä½5ã€cmdçª—å£è¿è¡Œcscript ospp.vbs &#x2F;unpkey:XXXXX å›è½¦ï¼ˆXä»£è¡¨ç§˜é’¥å5ä½ï¼‰6ã€cmdçª—å£è¿è¡Œcscript ospp.vbs &#x2F;remhst å›è½¦ï¼Œåˆ·æ–°æ¿€æ´»çŠ¶æ€7ã€cmdçª—å£è¿è¡Œcscript ospp.vbs &#x2F;dstatus å›è½¦ï¼Œé‡æ–°æŸ¥çœ‹æ¿€æ´»çŠ¶æ€è‹¥æœ‰å¤šä¸ªç§˜é’¥éœ€è¦å¸è½½å¯é‡å¤ä¸Šè¿°æ­¥éª¤\nHexoæŠ¥é”™è§£å†³è¿è¡ŒHexoæŠ¥é”™hexo : æ— æ³•åŠ è½½æ–‡ä»¶hexo.ps1ï¼Œå› ä¸ºåœ¨æ­¤ç³»ç»Ÿä¸Šç¦æ­¢è¿è¡Œè„šæœ¬\nè®¾ç½®-&gt;éšç§å’Œå®‰å…¨æ€§-&gt;å¼€å‘è€…é€‰é¡¹-&gt;å…è®¸æœ¬åœ°PowerShellè„šæœ¬åœ¨ä¸ºç­¾åçš„æƒ…å†µä¸‹è¿è¡Œ\nçŸ¥è¯†æŸ¥çœ‹ipipconfig\n\næŸ¥çœ‹ç«¯å£å ç”¨æŸ¥çœ‹å ç”¨ç«¯å£netstat -aon|findstr &quot;port&quot;  æŸ¥çœ‹å ç”¨ç«¯å£å·çš„ç¨‹åºtasklist|findstr &quot;PID&quot;   æ€æ­»å ç”¨ç«¯å£ç¨‹åº taskkill /F /IM è¿›ç¨‹å.exetaskkill /F /PID PID\n\n\n\næ·»åŠ å¯åŠ¨è‡ªåŠ¨è¿è¡Œåº”ç”¨\né€‰æ‹©â€œå¼€å§‹â€æŒ‰é’® ï¼Œç„¶åæ»šåŠ¨æŸ¥æ‰¾ä½ å¸Œæœ›åœ¨å¯åŠ¨æ—¶è¿è¡Œçš„åº”ç”¨ã€‚\nå³é”®å•å‡»è¯¥åº”ç”¨ï¼Œé€‰æ‹©â€œæ›´å¤šâ€ï¼Œç„¶åé€‰æ‹©â€œæ‰“å¼€æ–‡ä»¶ä½ç½®â€ã€‚æ­¤æ“ä½œä¼šæ‰“å¼€ä¿å­˜åº”ç”¨å¿«æ·æ–¹å¼çš„ä½ç½®ã€‚å¦‚æœæ²¡æœ‰â€œæ‰“å¼€æ–‡ä»¶ä½ç½®â€é€‰é¡¹ï¼Œè¿™æ„å‘³ç€è¯¥åº”ç”¨æ— æ³•åœ¨å¯åŠ¨æ—¶è¿è¡Œã€‚\næ–‡ä»¶ä½ç½®æ‰“å¼€åï¼ŒæŒ‰ Windows å¾½æ ‡é”® + Rï¼Œé”®å…¥â€œshell:startupâ€ï¼Œç„¶åé€‰æ‹©â€œç¡®å®šâ€ã€‚è¿™å°†æ‰“å¼€â€œå¯åŠ¨â€æ–‡ä»¶å¤¹ã€‚\nå°†è¯¥åº”ç”¨çš„å¿«æ·æ–¹å¼ä»æ–‡ä»¶ä½ç½®å¤åˆ¶å¹¶ç²˜è´´åˆ°â€œå¯åŠ¨â€æ–‡ä»¶å¤¹ä¸­ã€‚\n\nå…‰æ ‡ç§»åŠ¨å¿«æ·é”®1ã€åŸºæœ¬æ“ä½œå¿«æ·é”®Ctrl + Zï¼š  æ’¤é”€Ctrl + Yï¼š  é‡åšCtrl + Sï¼š  ä¿å­˜Ctrl + Fï¼š  æŸ¥æ‰¾Ctrl + F3ï¼š  æŸ¥æ‰¾ä¸Šä¸€ä¸ªF3ï¼š  æŸ¥æ‰¾ä¸‹ä¸€ä¸ªCtrl + Rï¼š  æ›¿æ¢\n2ã€å…‰æ ‡é€‰ä¸­å¿«æ·é”®Shift + â† &#x2F; â†’ (æ–¹å‘é”®)ï¼š  å…‰æ ‡å‘å·¦&#x2F;å‘å³é€‰ä¸­ä¸€ä¸ªå­—ç¬¦Ctrl + Shift + â† &#x2F; â†’ (æ–¹å‘é”®)ï¼š  å…‰æ ‡å‘å·¦&#x2F;å‘å³é€‰ä¸­ä¸€ä¸ªå•è¯Shift + Homeï¼š  å…‰æ ‡ä»å½“å‰ä½ç½®ä¸€ç›´é€‰ä¸­åˆ°è¡Œé¦–Shift + Endï¼š  å…‰æ ‡ä»å½“å‰ä½ç½®ä¸€ç›´é€‰ä¸­åˆ°è¡Œå°¾\n3ã€å…‰æ ‡è·³è½¬å¿«æ·é”®Homeï¼š  å…‰æ ‡è·³è½¬è‡³è¡Œé¦–Endï¼š   å…‰æ ‡è·³è½¬è‡³è¡Œå°¾PgUpï¼š  å…‰æ ‡è·³è½¬è‡³é¦–è¡ŒPgDnï¼š  å…‰æ ‡è·³è½¬è‡³æœ«è¡ŒCtrl + â† &#x2F; â†’ (æ–¹å‘é”®)ï¼š  å…‰æ ‡å‘å·¦&#x2F;å‘å³è·³è½¬ä¸€ä¸ªå•è¯Ctrl + Homeï¼š  å…‰æ ‡è·³è½¬è‡³é¦–è¡Œé¦–ä¸ªå­—ç¬¦å‰é¢(æ–‡ä»¶å¼€å¤´)Ctrl + Endï¼š  å…‰æ ‡è·³è½¬è‡³æœ«è¡Œæœ€åä¸€ä¸ªå­—ç¬¦åé¢(æ–‡ä»¶ç»“å°¾)\ncapsLocké”®åˆ‡æ¢ä¸­è‹±æ–‡ä½¿ç”¨autohotkey åšäº†çƒ­é”®é…ç½®\n.ahkæ–‡ä»¶ä»£ç å¦‚ä¸‹ï¼š\nSetStoreCapslockMode, offCapsLock::If StartTime    returnStartTime := A_TickCountreturnCapsLock up::TimeLength := A_TickCount - StartTimeif (TimeLength &gt;= 1 and TimeLength &lt; 200)&#123;    Send, ^&#123;Space&#125;&#125;else if (TimeLength &gt;= 200)&#123;    Send, &#123;CapsLock&#125;&#125;StartTime := &quot;&quot;return\n\nä¸Šè¿°ä»£ç æ•ˆæœæ˜¯ï¼šé•¿æŒ‰CapsLocké”®é”å®šå¤§å†™,æ•²å‡»CapsLockè¿›è¡Œåˆ‡æ¢ä¸­è‹±æ–‡ï¼ˆæ›¿ä»£äº†ctrl+ç©ºæ ¼çš„æ•ˆæœï¼‰\nè®¾ç½®æ­¥éª¤ï¼š\n1ï¼šä¸‹è½½å¹¶å®‰è£…autohotkeyï¼›\n2ï¼šå°†ä¸­è‹±æ–‡åˆ‡æ¢æŒ‰é”®è®¾ç½®æ”¹ä¸ºctrl+spaceï¼ˆå³ctrl+ç©ºæ ¼ï¼‰ï¼Œshiftåˆ‡æ¢å‹¾é€‰å»æ‰ï¼›\n3ï¼šä¿å­˜ä¸Šè¿°ä»£ç ä¸º.ahkæ–‡ä»¶è®¾ç½®ä¸ºå¼€æœºå¯åŠ¨ï¼ˆä»¥ç®¡ç†å‘˜æ‰§è¡Œï¼‰ï¼›\nä»¥ä¸Šã€‚\nVSCode æ·»åŠ å³é”®èœå•å‘½ä»¤ç¬¬ä¸€æ­¥ï¼šwin+R è¾“å…¥regeditï¼Œæ‰“å¼€æ³¨å†Œè¡¨ç¼–è¾‘å™¨ç¬¬äºŒæ­¥ï¼šæ·»åŠ å³é”®æ–‡ä»¶VSCodeæ‰“å¼€å‘½ä»¤\nä¾æ¬¡æ‰¾åˆ° HKEY_CLASSES_ROOT &gt; * &gt; shell &gt; VSCode(è‹¥æ— æ‰‹åŠ¨æ–°å»º.é¡¹),ç‚¹å‡»VSCodeæ–‡ä»¶å¤¹ï¼ŒåŒå‡»å³ä¾§é»˜è®¤åœ¨å¼¹å‡ºå¯¹è¯æ¡†çš„æ•°å€¼æ•°æ®é€‰é¡¹ä¸­é”®å…¥å‘½ä»¤åç§°ï¼Œå¦‚ Open with VSCode\næ·»åŠ å‘½ä»¤å›¾æ ‡ï¼Œå³é”®VSCodeæ–‡ä»¶å¤¹ï¼Œæ–°å»ºå­—ç¬¦ä¸²å€¼ï¼ŒåŒå‡»ä¿®æ”¹æ–°å€¼åç§°ä¸º Icon(é¦–å­—æ¯å¤§å†™i)ï¼Œæ•°å€¼æ•°æ®é€‰é¡¹ç²˜è´´ä¸ŠVSCodeæ–‡ä»¶æ‰€åœ¨ä½ç½®è·¯å¾„ï¼Œå¦‚ D:\\develop\\VSCode-win32-x64-1.46.1\\Code.exe\nå³é”®VSCodeï¼Œæ–°å»ºé¡¹ï¼Œåç§°ä¸º command ,åŒå‡»é»˜è®¤ï¼Œåœ¨æ•°å€¼æ•°æ®ä¸­é”®å…¥VSCodeæ–‡ä»¶æ‰€åœ¨ä½ç½®+ç©ºæ ¼+â€%1â€ å¦‚ D:\\develop\\VSCode-win32-x64-1.46.1\\Code.exe â€œ%1â€\næ­¤æ—¶å³é”®æ–‡ä»¶æŸ¥çœ‹å‘½ä»¤æ˜¯å¦å¥½ç”¨ï¼Œæ˜¯å¦æœ‰å›¾æ ‡\n\nç¬¬ä¸‰æ­¥ï¼šæ·»åŠ å³é”®æ–‡ä»¶å¤¹VSCodeæ‰“å¼€å‘½ä»¤\nä¾æ¬¡æ‰¾åˆ° HKEY_CLASSES_ROOT &gt; Directory &gt; shell &gt; VSCode\næ·»åŠ æ“ä½œåŒä¸Š\n\nç¬¬å››æ­¥ï¼šæ·»åŠ å³é”®æ¡Œé¢VSCodeæ‰“å¼€å‘½ä»¤\nä¾æ¬¡æ‰¾åˆ° HKEY_CLASSES_ROOT &gt; Directory &gt; Background &gt; shell &gt; VSCode\næ·»åŠ æ“ä½œåŒä¸Š\næ³¨æ„ï¼šcommandçš„æ•°å€¼æ•°æ®ä¸­ç©ºæ ¼åé¢è¦ç”¨â€%Vâ€\n\nå…³é—­Win10è‡ªåŠ¨æ›´æ–°ä¸€ã€ç¦ç”¨Windows UpdateæœåŠ¡1ã€åŒæ—¶æŒ‰ä¸‹é”®ç›˜ Win + Rï¼Œæ‰“å¼€è¿è¡Œå¯¹è¯æ¡†ï¼Œç„¶åè¾“å…¥å‘½ä»¤ services.msc ï¼Œç‚¹å‡»ä¸‹æ–¹çš„â€œç¡®å®šâ€æ‰“å¼€æœåŠ¡ã€‚\n2ã€æ‰¾åˆ° Windows Update è¿™ä¸€é¡¹ï¼Œå¹¶åŒå‡»æ‰“å¼€ã€‚\n\n3ã€åŒå‡»æ‰“å¼€å®ƒï¼Œç‚¹å‡»â€œåœæ­¢â€ï¼ŒæŠŠå¯åŠ¨ç±»å‹é€‰ä¸ºâ€œç¦ç”¨â€ï¼Œæœ€åç‚¹å‡»åº”ç”¨ã€‚\n4ã€æ¥ä¸‹å†åˆ‡æ¢åˆ°â€œæ¢å¤â€é€‰é¡¹ï¼Œå°†é»˜è®¤çš„â€œé‡æ–°å¯åŠ¨æœåŠ¡â€æ”¹ä¸ºâ€œæ— æ“ä½œâ€ï¼Œç„¶åç‚¹å‡»â€œåº”ç”¨â€â€œç¡®å®šâ€ã€‚\näºŒã€åœ¨ç»„ç­–ç•¥é‡Œå…³é—­Win10è‡ªåŠ¨æ›´æ–°ç›¸å…³æœåŠ¡1ã€åŒæ—¶æŒ‰ä¸‹Win + R ç»„åˆå¿«æ·é”®æ‰“å¼€è¿è¡Œå‘½ä»¤æ“ä½œæ¡†ï¼Œç„¶åè¾“å…¥â€œgpedit.mscâ€ï¼Œç‚¹å‡»ç¡®å®šã€‚\n2ã€åœ¨ç»„ç­–ç•¥ç¼–è¾‘å™¨ä¸­ï¼Œä¾æ¬¡å±•å¼€ è®¡ç®—æœºé…ç½® -&gt; ç®¡ç†æ¨¡æ¿ -&gt; Windowsç»„ä»¶ -&gt; Windowsæ›´æ–°\n\n3ã€ç„¶ååœ¨å³ä¾§â€œé…ç½®è‡ªåŠ¨æ›´æ–°â€è®¾ç½®ä¸­ï¼Œå°†å…¶è®¾ç½®ä¸ºâ€œå·²ç¦ç”¨â€å¹¶ç‚¹å‡»ä¸‹æ–¹çš„â€œåº”ç”¨â€ç„¶åâ€œç¡®å®šâ€ã€‚\n4ã€ä¹‹åè¿˜éœ€è¦å†æ‰¾åˆ°â€œåˆ é™¤ä½¿ç”¨æ‰€æœ‰Windowsæ›´æ–°åŠŸèƒ½çš„è®¿é—®æƒé™â€ï¼Œé€‰æ‹©å·²å¯ç”¨ï¼Œå®Œæˆè®¾ç½®åï¼Œç‚¹å‡»â€œåº”ç”¨â€â€œç¡®å®šâ€ã€‚\nä¸‰ã€ç¦ç”¨ä»»åŠ¡è®¡åˆ’é‡Œè¾¹çš„Win10è‡ªåŠ¨æ›´æ–°1ã€åŒæ—¶æŒ‰ä¸‹ Win + R ç»„åˆå¿«æ·é”®æ‰“å¼€â€œâ€œè¿è¡Œâ€çª—å£ï¼Œç„¶åè¾“å…¥â€œtaskschd.mscâ€ï¼Œå¹¶ç‚¹å‡»ä¸‹æ–¹çš„â€œç¡®å®šâ€æ‰“å¼€ä»»åŠ¡è®¡åˆ’ç¨‹åºã€‚\n\n2ã€åœ¨ä»»åŠ¡è®¡åˆ’ç¨‹åºçš„è®¾ç½®ç•Œé¢ï¼Œä¾æ¬¡å±•å¼€ ä»»åŠ¡è®¡åˆ’ç¨‹åºåº“ -&gt; Microsoft -&gt; Windows -&gt; WindowsUpdateï¼ŒæŠŠé‡Œé¢çš„é¡¹ç›®éƒ½è®¾ç½®ä¸º [ ç¦ç”¨ ] å°±å¯ä»¥äº†ã€‚(æˆ‘è¿™é‡Œè¾¹åªæœ‰ä¸€ä¸ªä»»åŠ¡ï¼Œä½ çš„ç”µè„‘é‡Œå¯èƒ½ä¼šæœ‰2ä¸ªæˆ–è€…æ›´å¤šï¼Œå…¨éƒ¨ç¦ç”¨å°±è¡Œäº†)\nå››ã€åœ¨æ³¨å†Œè¡¨ä¸­å…³é—­Win10è‡ªåŠ¨æ›´æ–°1ã€åŒæ—¶æŒ‰ä¸‹ Win + R ç»„åˆå¿«æ·é”®ï¼Œæ‰“å¼€è¿è¡Œå¯¹è¯æ¡†ï¼Œç„¶åè¾“å…¥å‘½å regeditï¼Œç„¶åç‚¹å‡»ä¸‹æ–¹çš„ã€Œ ç¡®å®š ã€æ‰“å¼€æ³¨å†Œè¡¨ã€‚\n2ã€åœ¨æ³¨å†Œè¡¨è®¾ç½®ä¸­ï¼Œæ‰¾åˆ°å¹¶å®šä½åˆ° [HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Services\\UsoSvc]ã€‚ç„¶ååœ¨å³ä¾§æ‰¾åˆ°â€œStartâ€é”®ã€‚\n\n3ã€ç‚¹å‡»ä¿®æ”¹ï¼ŒæŠŠstartå€¼æ”¹æˆ16è¿›åˆ¶ï¼Œå€¼æ”¹ä¸ºâ€œ4â€ï¼Œç„¶åç‚¹å‡»ã€Œ ç¡®å®š ã€ä¿å­˜æ•°æ®\n4ã€ç»§ç»­åœ¨å³ä¾§æ‰¾åˆ°â€œFailureActionsâ€é”®ï¼Œå³é”®ç‚¹å‡»ä¿®æ”¹è¯¥é”®çš„äºŒè¿›åˆ¶æ•°æ®ï¼Œå°†â€œ0010â€ã€â€œ0018â€è¡Œçš„å·¦èµ·ç¬¬5ä¸ªæ•°å€¼ç”±åŸæ¥çš„â€œ01â€æ”¹ä¸ºâ€œ00â€ï¼Œå®Œæˆåï¼Œç‚¹å‡»ä¸‹æ–¹çš„â€œç¡®å®šâ€å³å¯ã€‚\n\nè‡³æ­¤å½»åº•å…³é—­win10è‡ªåŠ¨æ›´æ–°çš„æ“ä½œæ­¥éª¤å°±å…¨éƒ¨å®Œæˆäº†\ngitä¸Šä¼ å›¾ç‰‡åˆ°GitHub å¾—åˆ°cdnè¿æ¥åŠ é€Ÿ\ngit clone sshé“¾æ¥éœ€è¦ç”µè„‘å…¬é’¥ &#x2F;&#x2F;å…³è”GitHubåº“\nä¸Šä¼ å›¾ç‰‡æ–‡ä»¶\ngit status &#x2F;&#x2F;æŸ¥çœ‹çŠ¶æ€\ngit add\ngit commit -m â€˜æäº¤ä¿¡æ¯â€™\ngit push\nåœ¨GitHubä¸Šå‘å¸ƒç‰ˆæœ¬\nhttps://cdn.jsdelivr.net/gh/user/åº“å@ç‰ˆæœ¬å·/æ–‡ä»¶è·¯å¾„\næ–‡ä»¶ä¸èƒ½è¶…è¿‡50M\n\n","slug":"Winsodws","date":"2024-07-30T07:24:24.000Z","categories_index":"æ“ä½œç³»ç»Ÿ","tags_index":"Windows","author_index":"æš—ä½¿å¼€å¼€"},{"id":"aa27a901d34fd36607694c5571971888","title":"Mac","content":"Macå®‰è£…â€‹\tsudo spctl â€“master-disable\nMacå®‰è£…MySQL8vi ~/.bash_profileexport PATH=$&#123;PATH&#125;:/usr/local/mysql/bin/\n\nsource ~/.zshrc   # If you use Oh-My-Zshsource ~/.bashrc  # If you use Default Bash\n\n\n\nMac10.14.6å®‰è£…Xcode11.3.1æŠŠç³»ç»Ÿæ—¶é—´è®¾å®šä¸ºè·ç¦»ä»Šæ—¥çš„å‰ä¸€ä¸ªæœˆæˆ–è€…æ›´å¤šï¼Œç„¶åå†å»è§£å‹ï¼Œæ³¨æ„åœ¨è§£å‹æˆåŠŸï¼Œå¹¶install è¿™æ®µæ—¶é—´é‡Œä¸è¦æŠŠç³»ç»Ÿæ—¶é—´è°ƒå›å»ï¼Œç­‰installå®Œæˆåï¼Œå†æŠŠç³»ç»Ÿæ—¶é—´è¿˜åŸï¼Œå¦åˆ™installä¼šæŠ¥é”™ã€‚\nMacå®‰è£…brewhttps://brew.sh/\n/bin/zsh -c &quot;$(curl -fsSL https://gitee.com/cunkai/HomebrewCN/raw/master/Homebrew.sh)&quot;/bin/bash -c &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)&quot;\n\n\n\nMacå®‰è£…dartbrew tap dart-lang/dartbrew install dartbrew info dart\n\nIdea å®‰è£…æ’ä»¶ dart\nMacå®‰è£…electronnpm install -g cnpm --registry=https://registry.npmmirror.comcnpm install --save-dev electron\n\n\n\n\n\nMacå®‰è£…Flask,requestsè¿›è¡ŒèŠ‚ç‚¹é—´çš„é€šè®¯\npipenv install flask==0.12.2\n\nè¯·æ±‚å’Œå‘é€åŒ…çš„åº“\npipenv install requests==2.18.4\n\n\n\n\n\nMacä½¿ç”¨gitbrew install gitgitgit config --global user.name &quot;AsherJw&quot;git config --global user.email &quot;china_lijialin@outlook.com&quot;git config --list\n\n\n\nMacå®‰è£…ä½¿ç”¨nvmbrew install nvmecho &quot;source $(brew --prefix nvm)/nvm.sh&quot; &gt;&gt; .bash_profile. ~/.bash_profileå¸¸ç”¨å‘½ä»¤1. nvm list æ˜¯æŸ¥æ‰¾æœ¬ç”µè„‘ä¸Šæ‰€æœ‰çš„nodeç‰ˆæœ¬    - nvm list æŸ¥çœ‹å·²ç»å®‰è£…çš„ç‰ˆæœ¬    - nvm list installed æŸ¥çœ‹å·²ç»å®‰è£…çš„ç‰ˆæœ¬    - nvm list available æŸ¥çœ‹ç½‘ç»œå¯ä»¥å®‰è£…çš„ç‰ˆæœ¬2. nvm install &lt;version&gt; å®‰è£…æŒ‡å®šç‰ˆæœ¬node3. nvm use &lt;version&gt; åˆ‡æ¢ä½¿ç”¨æŒ‡å®šçš„ç‰ˆæœ¬node4. nvm ls åˆ—å‡ºæ‰€æœ‰ç‰ˆæœ¬5. nvm currentæ˜¾ç¤ºå½“å‰ç‰ˆæœ¬6. nvm alias &lt;name&gt; &lt;version&gt; ## ç»™ä¸åŒçš„ç‰ˆæœ¬å·æ·»åŠ åˆ«å7. nvm unalias &lt;name&gt; ## åˆ é™¤å·²å®šä¹‰çš„åˆ«å8. nvm reinstall-packages &lt;version&gt; ## åœ¨å½“å‰ç‰ˆæœ¬nodeç¯å¢ƒä¸‹ï¼Œé‡æ–°å…¨å±€å®‰è£…æŒ‡å®šç‰ˆæœ¬å·çš„npmåŒ…9. nvm on æ‰“å¼€nodejsæ§åˆ¶10. nvm off å…³é—­nodejsæ§åˆ¶11. nvm proxy æŸ¥çœ‹è®¾ç½®ä¸ä»£ç†12. nvm node_mirror [url] è®¾ç½®æˆ–è€…æŸ¥çœ‹setting.txtä¸­çš„node_mirrorï¼Œå¦‚æœä¸è®¾ç½®çš„é»˜è®¤æ˜¯ https://nodejs.org/dist/ã€€ã€€nvm npm_mirror [url] è®¾ç½®æˆ–è€…æŸ¥çœ‹setting.txtä¸­çš„npm_mirror,å¦‚æœä¸è®¾ç½®çš„è¯é»˜è®¤çš„æ˜¯ï¼š https://github.com/npm/npm/archive/.13. nvm uninstall &lt;version&gt; å¸è½½åˆ¶å®šçš„ç‰ˆæœ¬14. nvm use [version] [arch] åˆ‡æ¢åˆ¶å®šçš„nodeç‰ˆæœ¬å’Œä½æ•°15. nvm root [path] è®¾ç½®å’ŒæŸ¥çœ‹rootè·¯å¾„16. nvm version æŸ¥çœ‹å½“å‰çš„ç‰ˆæœ¬\n\nMacå®‰è£…node.jsnvm install 14.19.3nvm alias default vnode -vnpm get registrynpm config set registry http://registry.npm.taobao.org\n\n\n\n\n\nMacå®‰è£…pipenvpipä½¿ç”¨æ¥å®‰è£…pythonåŒ…çš„å·¥å…·\npipenvä¸ºæ¯ä¸€ä¸ªé¡¹ç›®æä¾›ä¸€ä¸ªå•ç‹¬çš„pythonè¿è¡Œç¯å¢ƒ\npip3 install pipenvä½¿ç”¨pipenv --python=python3\n\n\n\nMacå®‰è£…é…ç½®Javaç¯å¢ƒå®‰è£…jdkå\nvim .bash_profileexport JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_281.jdk/Comtents/Homejava -version\n\n\n\n\n\né—®é¢˜Macå…³é—­chromeæ›´æ–°æç¤ºcd ~/Library/Google  sudo chown root:wheel GoogleSoftwareUpdate\n\n\n\nMacè§£å†³ç³»ç»Ÿæ›´æ–°æç¤ºç»ˆç«¯è¾“å…¥ï¼š\nsudo softwareupdate --ignore &quot;macOS Mojaveâ€defaults write com.apple.systempreferences AttentionPrefBundleIDs 0killall Dock\n\nå¼ºåˆ¶æ°¸ä¹…è§£å†³æ–¹æ¡ˆå¦‚æœæƒ³æ°¸ä¹…ç”Ÿæ•ˆï¼Œæˆ‘ä»¬å¿…é¡»æŠŠæ¯æ¬¡å¼€æœºåŠ è½½çš„ç³»ç»Ÿè‡ªåŠ¨æ›´æ–°è¿›ç¨‹å¹²æ‰æ‰è¡Œã€‚\nâ€‹\t\t\tæ­¤æ–¹æ¡ˆé‡‡ç”¨ç¦æ­¢æƒé™çš„æ€è·¯ï¼Œåœ¨ç»ˆç«¯è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼Œå¼ºåˆ¶åŠé”€ç³»ç»Ÿæ›´æ–°é€šçŸ¥æƒé™ã€‚ä½†æ˜¯è¿™æ ·ä¼šç¦ç”¨ç³»ç»Ÿæ›´æ–°çš„è‡ªå¯æƒé™ï¼Œé˜»ç¢æ­£å¸¸çš„ç³»ç»Ÿæ›´æ–°é€šçŸ¥ï¼Œè¯·æ…ç”¨ã€‚\nsudo mount -uw /sudo chmod 600 /System/Library/PrivateFrameworks/SoftwareUpdate.framework/Versions/A/Resources/SoftwareUpdateNotificationManager.app/Contents/MacOS/SoftwareUpdateNotificationManagerdefaults write com.apple.systempreferences AttentionPrefBundleIDs 0killall Dock\n\næ³¨æ„æç¤º:Operation not permittedï¼Œè§£å†³æ–¹å¼æ˜¯\n\né‡å¯åŒæ—¶æŒ‰cmd+r åœ¨æ¢å¤æ¨¡å¼ä¸­æ‰“å¼€ç»ˆç«¯ï¼Œ æ‰§è¡Œ csrutil disable å…³é—­SIPåŠŸèƒ½\nå†æ¬¡æ­£å¸¸é‡æ–°å¯åŠ¨ï¼Œå°±å¯ä»¥æ‰§è¡Œã€Œsudo mount -uw &#x2F;ã€ å’Œåé¢çš„å‘½ä»¤äº†\næ‰§è¡Œå®Œä¹‹åï¼Œåˆ«å¿˜è®°å†æ¬¡é‡å¯è¿›å…¥æ¢å¤æ¨¡å¼ï¼Œæ‰§è¡Œcsrutil enableï¼ŒæŠŠSIPåŠŸèƒ½æ‰“å¼€\n\nç³»ç»Ÿè‡ªåŠ¨æ›´æ–°å¦‚æœä½ å·²ç»ç¦æ­¢äº†ç³»ç»Ÿè‡ªåŠ¨æ›´æ–°æç¤ºè¿›ç¨‹çš„æƒé™ï¼Œåˆåæ‚”äº†ï¼Œæƒ³è¦æ¢å¤ï¼Œåªéœ€è¦è¾“å…¥ä»¥ä¸‹å‘½ä»¤å³å¯ï¼š\nsudo mount -uw /sudo chmod 777 /System/Library/PrivateFrameworks/SoftwareUpdate.framework/Versions/A/Resources/SoftwareUpdateNotificationManager.app/Contents/MacOS/SoftwareUpdateNotificationManagerdefaults write com.apple.systempreferences AttentionPrefBundleIDs 0killall Dock\n\n\n\n\n\nçŸ¥è¯†æŸ¥çœ‹ipifconfig\n\n\n\nMacçš„SIPç³»ç»Ÿå®Œæ•´æ€§æŸ¥çœ‹æ˜¯å¦å¼€å¯â€‹\t\tæ‰“å¼€ç»ˆç«¯â€‹\t\t\tcsrutil statusâ€‹\t\tå·²æ‰“å¼€â€‹\t\t\tSystem Integrity Protection status: enabled.â€‹\t\tå·²å…³é—­â€‹\t\t\tSystem Integrity Protection status: disabled\nå¼€å…³\né‡å¯ç”µè„‘ï¼Œå¼€æœºè¿‡ç¨‹ä¸­æŒ‰ä½ Command + R ç»„åˆé”®ï¼Œç›´åˆ°å‡ºç°è‹¹æœLogo\nç‚¹å‡»ã€Œå®ç”¨å·¥å…·ã€ï¼Œé€‰æ‹©ã€Œç»ˆç«¯ã€csrutil disable           csrutil enable\n\nå¯ç”¨rootç”¨æˆ·â€‹\tç”¨æˆ·ç¾¤ç§Ÿï¼Œç™»é™†é€‰é¡¹ï¼Œç½‘ç»œè´¦æˆ·æœåŠ¡å™¨ï¼Œæ‰“å¼€å®ç”¨å·¥å…·ï¼Œtopæ ç¼–è¾‘ï¼Œå¯ç”¨rootç”¨æˆ·\næ–‡ä»¶æ“ä½œâ€‹\tæ–‡ä»¶è·¯å¾„å¤åˆ¶â€‹\t\toption+command+câ€‹\tæ–‡ä»¶è·¯å¾„æœç´¢â€‹\t\tshift+command+gâ€‹\tæ–‡ä»¶è¯¦æƒ…â€‹\t\tcommand+iâ€‹\téšè—æ–‡ä»¶â€‹\t\tshift+command+.\nè¾“å…¥æ³•â€‹\tç¿»é¡µé€‰è¯ï¼š{ }â€‹\tä¸­è‹±æ–‡æ•°å­—æ··åˆè¾“å…¥ï¼šshift+å­—æ¯ option+æ•°å­—â€‹\tæ‹†å­—è¾“å…¥ï¼šè¾“å…¥æ‹†å­—å shift+ç©ºæ ¼â€‹\tæ ‡å¿—å£°è°ƒï¼šæ·»åŠ ABCæ‰©å±•ï¼Œåœ¨è¿™ç§è¾“å…¥æ³•ä¸‹ å…ˆè¾“å…¥option+AEVï½æ˜¯å››ä¸ªå£°è°ƒ Äâ€‹\tEmojiï¼šcommand+ç©ºæ ¼+controlğŸ˜\nä¸‰æŒ‡æ‹–æ‹½â€‹\tè¾…åŠ©åŠŸèƒ½ï¼Œé¼ æ ‡è§¦æ§æ¿ï¼Œè§¦æ§æ¿é€‰é¡¹ï¼Œå¯åŠ¨æ‹–æ‹½ï¼Œä¸‰æŒ‡æ‹–æ‹½\nä»»æ„æ¥æºâ€‹\tsudo spctl â€“master-disable\nåˆ é™¤1ã€ä½¿ç”¨é”®ç›˜å¿«æ·é”®Command+Deleteå°†ç›´æ¥åˆ é™¤æ–‡ä»¶è€Œä¸ç”¨ç¡®è®¤ï¼Œä½¿ç”¨è¯¥å¿«æ·é”®åˆ é™¤çš„æ–‡ä»¶å¯ä»¥ä»åºŸçº¸ç¯“æ¢å¤ã€‚\n2ã€ä½¿ç”¨é”®ç›˜å¿«æ·é”®Command+Option+Deleteç«‹å³åˆ é™¤æ–‡ä»¶ã€‚ä½¿ç”¨æ­¤å¿«æ·æ–¹å¼åˆ é™¤é€‰å®šæ–‡ä»¶è€Œä¸å°†å…¶å‘é€åˆ°åºŸçº¸ç¯“ã€‚è¯¥é¡¹ç›®å°†ç«‹å³è¢«åˆ é™¤ï¼Œæ— æ³•æ’¤æ¶ˆã€‚\n3ã€ä½¿ç”¨é”®ç›˜å¿«æ·é”®Command+Shift+Deleteæ¸…ç©ºåºŸçº¸ç¯“ã€‚ä½¿ç”¨æ­¤å¿«æ·æ–¹å¼æ¸…ç©ºåƒåœ¾ç®±æ–‡ä»¶å¤¹ã€‚\n4ã€åŠŸèƒ½ (Fn) + Delete â€“æ­¤é”®å…è®¸æ‚¨åˆ é™¤å…‰æ ‡åæˆ–å…‰æ ‡å³ä¾§çš„æ–‡æœ¬ï¼ˆå‘å‰åˆ é™¤ï¼‰ã€‚\n5ã€Control + D â€“å¦‚æœæ‚¨çš„é”®ç›˜æ²¡æœ‰Deleteé”®ï¼Œè¯·ä½¿ç”¨æ­¤ç»„åˆã€‚è¿™å°†åˆ é™¤å…‰æ ‡åçš„æ–‡æœ¬ï¼ˆå‘å‰åˆ é™¤ï¼‰ã€‚\n6ã€**åŠŸèƒ½ (Fn)+Option +Delete-**æ­¤ç»„åˆé”®åˆ é™¤å…‰æ ‡åçš„æ•´ä¸ªå•è¯ï¼ˆä»…å•è¯ï¼‰ï¼ˆå‘å‰åˆ é™¤ï¼‰ã€‚\néšè—æ–‡ä»¶defaults write com.apple.finder AppleShowAllFiles -boolean false;killall Finderdefaults write com.apple.finder AppleShowAllFiles -boolean true;killall Finder\n\nMacç»ˆç«¯è®¾ç½®zshå¼•å…¥bash_profileæ‰§è¡Œvi ~/.zshrcæ‰“å¼€.zshrc,å°† source ~/.bash_profile ç²˜è´´åˆ°æœ€ä¸‹é¢ï¼Œä¿å­˜å³å¯\n\nç»ˆç«¯éšè—è®¡ç®—æœºåç§°è‹¥shellä¸ºzshsudo vi /etc/zshrc# PS1=&quot;%n@%m %1~ %# &quot;PS1=&quot;%1~ %# &quot;:wq!è‹¥shellä¸ºbashsudo vim /etc/bashrc# PS1=&#x27;\\h:\\W \\u\\$ &#x27;PS1=&#x27;\\W \\$ &#x27;:wq!\n\nShellæ›´æ”¹ä¸ºBashchsh -s /bin/bashchsh -s /bin/zsh\n\n\n\n\n\nMac tipsç­¾åxcode-select â€“installsudo codesign â€“force â€“deep â€“sign -è¾“å…¥æ³•ç¿»é¡µé€‰è¯ï¼š{ }ä¸­è‹±æ–‡æ•°å­—æ··åˆè¾“å…¥ï¼šshift+å­—æ¯option+æ•°å­—  \næ‹†å­—è¾“å…¥ï¼šè¾“å…¥æ‹†å­—å shift+ç©ºæ ¼æ ‡å¿—å£°è°ƒï¼šæ·»åŠ ABCæ‰©å±•ï¼Œåœ¨è¿™ç§è¾“å…¥æ³•ä¸‹ å…ˆè¾“å…¥option+AEVï½æ˜¯å››ä¸ªå£°è°ƒ ÄEmojiï¼šcommand+ç©ºæ ¼+controlğŸ˜ä»»æ„æ¥æºsudo spctl â€“master-disableè§£å†³ç³»ç»Ÿæ›´æ–°æç¤ºç»ˆç«¯è¾“å…¥ï¼šsudo softwareupdate â€“ignore â€œmacOS Mojaveâ€defaults write com.apple.systempreferences AttentionPrefBundleIDs 0killall Dockå¼ºåˆ¶æ°¸ä¹…è§£å†³æ–¹æ¡ˆå¦‚æœæƒ³æ°¸ä¹…ç”Ÿæ•ˆï¼Œæˆ‘ä»¬å¿…é¡»æŠŠæ¯æ¬¡å¼€æœºåŠ è½½çš„ç³»ç»Ÿè‡ªåŠ¨æ›´æ–°è¿›ç¨‹å¹²æ‰æ‰è¡Œã€‚æ­¤æ–¹æ¡ˆé‡‡ç”¨ç¦æ­¢æƒé™çš„æ€è·¯ï¼Œåœ¨ç»ˆç«¯è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼Œå¼ºåˆ¶åŠé”€ç³»ç»Ÿæ›´æ–°é€šçŸ¥æƒé™ã€‚ä½†æ˜¯è¿™æ ·ä¼šç¦ç”¨ç³»ç»Ÿæ›´æ–°çš„è‡ªå¯æƒé™ï¼Œé˜»ç¢æ­£å¸¸çš„ç³»ç»Ÿæ›´æ–°é€šçŸ¥ï¼Œè¯·æ…ç”¨ã€‚sudo mount -uw &#x2F;sudo chmod 600 &#x2F;System&#x2F;Library&#x2F;PrivateFrameworks&#x2F;SoftwareUpdate.framework&#x2F;Versions&#x2F;A&#x2F;Resources&#x2F;SoftwareUpdateNotificationManager.app&#x2F;Contents&#x2F;MacOS&#x2F;SoftwareUpdateNotificationManagerdefaults write com.apple.systempreferences AttentionPrefBundleIDs 0killall Dockæ³¨æ„æç¤º:Operation not permittedï¼Œè§£å†³æ–¹å¼æ˜¯1. é‡å¯åŒæ—¶æŒ‰cmd+r  åœ¨æ¢å¤æ¨¡å¼ä¸­æ‰“å¼€ç»ˆç«¯ï¼Œ æ‰§è¡Œ csrutil disable å…³é—­SIPåŠŸèƒ½2. å†æ¬¡æ­£å¸¸é‡æ–°å¯åŠ¨ï¼Œå°±å¯ä»¥æ‰§è¡Œã€Œsudo mount -uw &#x2F;ã€  å’Œåé¢çš„å‘½ä»¤äº†3. æ‰§è¡Œå®Œä¹‹åï¼Œåˆ«å¿˜è®°å†æ¬¡é‡å¯è¿›å…¥æ¢å¤æ¨¡å¼ï¼Œæ‰§è¡Œcsrutil enableï¼ŒæŠŠSIPåŠŸèƒ½æ‰“å¼€å¦‚æœä½ å·²ç»ç¦æ­¢äº†ç³»ç»Ÿè‡ªåŠ¨æ›´æ–°æç¤ºè¿›ç¨‹çš„æƒé™ï¼Œåˆåæ‚”äº†ï¼Œæƒ³è¦æ¢å¤ï¼Œåªéœ€è¦è¾“å…¥ä»¥ä¸‹å‘½ä»¤å³å¯ï¼šsudo mount -uw &#x2F;sudo chmod 777 &#x2F;System&#x2F;Library&#x2F;PrivateFrameworks&#x2F;SoftwareUpdate.framework&#x2F;Versions&#x2F;A&#x2F;Resources&#x2F;SoftwareUpdateNotificationManager.app&#x2F;Contents&#x2F;MacOS&#x2F;SoftwareUpdateNotificationManagerdefaults write com.apple.systempreferences AttentionPrefBundleIDs 0killall Dockæ–‡ä»¶æ“ä½œæ–‡ä»¶è·¯å¾„å¤åˆ¶option+command+cæ–‡ä»¶è·¯å¾„æœç´¢shift+command+gæ–‡ä»¶è¯¦æƒ…command+iéšè—æ–‡ä»¶shift+command+.SIPç³»ç»Ÿå®Œæ•´æ€§æŸ¥çœ‹æ˜¯å¦å¼€å¯æ‰“å¼€ç»ˆç«¯csrutil statuså·²æ‰“å¼€System Integrity Protection status: enabled.å·²å…³é—­System Integrity Protection status: disabledå¼€å…³é‡å¯ç”µè„‘ï¼Œå¼€æœºè¿‡ç¨‹ä¸­æŒ‰ä½ Command + R ç»„åˆé”®ï¼Œç›´åˆ°å‡ºç°è‹¹æœLogoç‚¹å‡»ã€Œå®ç”¨å·¥å…·ã€ï¼Œé€‰æ‹©ã€Œç»ˆç«¯ã€csrutil disablecsrutil enableJavaç¯å¢ƒé…ç½®ç¬¬ä¸€æ¬¡é…ç½®ç¯å¢ƒå˜é‡touch .bash_profileopen -e .bash_profileJAVA_HOME&#x3D;&#x2F;Library&#x2F;Java&#x2F;JavaVirtualMachines&#x2F;jdk1.8.0_40.jdk&#x2F;Contents&#x2F;HomePATH&#x3D;$JAVA_HOME&#x2F;bin:$PATH:.CLASSPATH&#x3D;$JAVA_HOME&#x2F;lib&#x2F;tools.jar:$JAVA_HOME&#x2F;lib&#x2F;dt.jar:.export JAVA_HOMEexport PATHexport CLASSPATH  \nsource .bash_profileecho $JAVA_HOMEä¸‰æŒ‡æ‹–æ‹½è¾…åŠ©åŠŸèƒ½ï¼Œé¼ æ ‡è§¦æ§æ¿ï¼Œè§¦æ§æ¿é€‰é¡¹ï¼Œå¯åŠ¨æ‹–æ‹½Macå¯ç”¨rootç”¨æˆ·ç”¨æˆ·ç¾¤ç§Ÿï¼Œç™»é™†é€‰é¡¹ï¼Œç½‘ç»œè´¦æˆ·æœåŠ¡å™¨ï¼Œæ‰“å¼€å®ç”¨å·¥å…·ï¼Œtopæ ç¼–è¾‘ï¼Œå¯ç”¨rootç”¨æˆ·","slug":"Mac","date":"2024-07-30T07:22:11.000Z","categories_index":"æ“ä½œç³»ç»Ÿ","tags_index":"MacOS","author_index":"æš—ä½¿å¼€å¼€"},{"id":"3fe1ee3f3830128bf539e5f4ed9fbbe9","title":"Linux","content":"LinuxçŸ¥è¯†centosæ¼æ´yum clean all &amp;&amp; yum makecacheyum update polkit -y\nshellç¼–ç¨‹shellè„šæœ¬\nå¼€å¤´ï¼Œä»¥ä»€ä¹ˆshellæ‰§è¡Œ &#x2F;bash\n#!&#x2F;bin&#x2F;bash\n\næ‰§è¡Œ\n\nchmod u+x\n.&#x2F;xxx.sh\n\nsh xxx.sh\n\n\n\n\nè¾“å‡ºechoecho xxx\necho â€œxxxâ€\necho xxx&#x3D;$å˜é‡å\nç³»ç»Ÿå˜é‡\nHOME $PWD $SHELL $USERç­‰\n\næ˜¾ç¤ºå½“å‰shellä¸­æ‰€æœ‰å˜é‡ set\n\n\nè‡ªå®šä¹‰å˜é‡\né€šå¸¸å˜é‡åå¤§å†™\n\nå®šä¹‰å˜é‡ï¼šå˜é‡å&#x3D;å€¼\nå€¼ï¼š`å‡½æ•°`æˆ–$(å‡½æ•°)  éƒ½èƒ½å¾—åˆ°å‡½æ•°è¿”å›å€¼\necho a&#x3D;$(date)\n\nè¾“å‡ºå˜é‡ï¼šecho $å˜é‡å\n\næ’¤é”€å˜é‡ï¼šunset å˜é‡\n\nå£°æ˜é™æ€å˜é‡ï¼šreadonlyå˜é‡ï¼Œæ³¨æ„ä¸èƒ½unset\n\n\nè®¾ç½®ç¯å¢ƒå˜é‡vim &#x2F;etc&#x2F;profile\n\næŠŠshellå˜é‡è¾“å‡ºæˆç¯å¢ƒå˜é‡&#x2F;å…¨å±€å˜é‡ï¼šexport å˜é‡å&#x3D;å˜é‡å€¼\n\nè®©ä¿®æ”¹çš„é…ç½®ä¿¡æ¯ç«‹å³ç”Ÿæ•ˆï¼šsource é…ç½®æ–‡ä»¶\n\n\nå¤šè¡Œæ³¨é‡Š:&lt;&lt;ï¼\nxxxx\nxxxx \nï¼\nlinuxè§£å‹ç¼©gzip&#x2F;gunzip æŒ‡ä»¤gzip ç”¨äºå‹ç¼©æ–‡ä»¶ï¼Œ gunzip ç”¨äºè§£å‹çš„\ngzip æ–‡ä»¶ ï¼ˆåŠŸèƒ½æè¿°ï¼šå‹ç¼©æ–‡ä»¶ï¼Œåªèƒ½å°†æ–‡ä»¶å‹ç¼©ä¸º*.gz æ–‡ä»¶ï¼‰\ngunzip æ–‡ä»¶.gz ï¼ˆåŠŸèƒ½æè¿°ï¼šè§£å‹ç¼©æ–‡ä»¶å‘½ä»¤ï¼‰\næ¡ˆä¾‹ 1: gzip å‹ç¼©ï¼Œ å°† &#x2F;home ä¸‹çš„ hello.txt æ–‡ä»¶è¿›è¡Œå‹ç¼©\ngzip &#x2F;home&#x2F;hello.txt\næ¡ˆä¾‹ 2: gunzip å‹ç¼©ï¼Œ å°† &#x2F;home ä¸‹çš„ hello.txt.gz æ–‡ä»¶è¿›è¡Œè§£å‹ç¼©\ngunzip &#x2F;home&#x2F;hello.txt.gz\nzip&#x2F;unzip æŒ‡ä»¤zip ç”¨äºå‹ç¼©æ–‡ä»¶ï¼Œ unzip ç”¨äºè§£å‹çš„ï¼Œè¿™ä¸ªåœ¨é¡¹ç›®æ‰“åŒ…å‘å¸ƒä¸­å¾ˆæœ‰ç”¨çš„\nzip [é€‰é¡¹] XXX.zip å°†è¦å‹ç¼©çš„å†…å®¹ï¼ˆåŠŸèƒ½æè¿°ï¼šå‹ç¼©æ–‡ä»¶å’Œç›®å½•çš„å‘½ä»¤ï¼‰\nunzip [é€‰é¡¹] XXX.zip ï¼ˆåŠŸèƒ½æè¿°ï¼šè§£å‹ç¼©æ–‡ä»¶ï¼‰\nzip å¸¸ç”¨é€‰é¡¹\n-rï¼šé€’å½’å‹ç¼©ï¼Œå³å‹ç¼©ç›®å½•\nunzip çš„å¸¸ç”¨é€‰é¡¹\n-d&lt;ç›®å½•&gt; ï¼šæŒ‡å®šè§£å‹åæ–‡ä»¶çš„å­˜æ”¾ç›®å½•\nåº”ç”¨å®ä¾‹\næ¡ˆä¾‹ 1: å°† &#x2F;home ä¸‹çš„ æ‰€æœ‰æ–‡ä»¶&#x2F;æ–‡ä»¶å¤¹è¿›è¡Œå‹ç¼©æˆ myhome.zip\nzip -r myhome.zip &#x2F;home&#x2F; [å°† home ç›®å½•åŠå…¶åŒ…å«çš„æ–‡ä»¶å’Œå­æ–‡ä»¶å¤¹éƒ½å‹ç¼©] æ¡ˆä¾‹ 2: å°† myhome.zip è§£å‹åˆ° &#x2F;opt&#x2F;tmp ç›®å½•ä¸‹\nmkdir &#x2F;opt&#x2F;tmp\nunzip -d &#x2F;opt&#x2F;tmp &#x2F;home&#x2F;myhome.zip\ntar æŒ‡ä»¤tar æŒ‡ä»¤ æ˜¯æ‰“åŒ…æŒ‡ä»¤ï¼Œæœ€åæ‰“åŒ…åçš„æ–‡ä»¶æ˜¯ .tar.gz çš„æ–‡ä»¶ã€‚\ntar [é€‰é¡¹] XXX.tar.gz æ‰“åŒ…çš„å†…å®¹ (åŠŸèƒ½æè¿°ï¼šæ‰“åŒ…ç›®å½•ï¼Œå‹ç¼©åçš„æ–‡ä»¶æ ¼å¼.tar.gz)\n\n\n\né€‰é¡¹\nåŠŸèƒ½\n\n\n\n-e\näº§ç”Ÿ.taræ‰“åŒ…æ–‡ä»¶\n\n\n-v\næ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯\n\n\n-f\næŒ‡å®šå‹ç¼©åçš„æ–‡ä»¶å\n\n\n-z\næ‰“åŒ…åŒæ—¶å‹ç¼©\n\n\n-x\nè§£åŒ….taræ–‡ä»¶\n\n\næ¡ˆä¾‹ 1: å‹ç¼©å¤šä¸ªæ–‡ä»¶ï¼Œå°† &#x2F;home&#x2F;pig.txt å’Œ &#x2F;home&#x2F;cat.txt å‹ç¼©æˆ pc.tar.gz tar -zcvf pc.tar.gz &#x2F;home&#x2F;pig.txt &#x2F;home&#x2F;cat.txt\næ¡ˆä¾‹ 2: å°†&#x2F;home çš„æ–‡ä»¶å¤¹ å‹ç¼©æˆ myhome.tar.gz tar -zcvf myhome.tar.gz &#x2F;home&#x2F;\næ¡ˆä¾‹ 3: å°† pc.tar.gz è§£å‹åˆ°å½“å‰ç›®å½•\ntar -zxvf pc.tar.gz\næ¡ˆä¾‹4: å°†myhome.tar.gz è§£å‹åˆ° &#x2F;opt&#x2F;tmp2 ç›®å½•ä¸‹ (1) mkdir &#x2F;opt&#x2F;tmp2 (2) tar -zxvf &#x2F;home&#x2F;myhome.tar.gz -C &#x2F;opt&#x2F;tmp2\né™æ€åº“å’ŒåŠ¨æ€åº“https://blog.csdn.net/Pxx520Tangtian/article/details/122931769\nlinuxå¸®åŠ©æŒ‡ä»¤man è·å¾—å¸®åŠ©ä¿¡æ¯åŸºæœ¬è¯­æ³•ï¼šman [å‘½ä»¤æˆ–é…ç½®æ–‡ä»¶]ï¼ˆåŠŸèƒ½æè¿°ï¼šè·å¾—å¸®åŠ©ä¿¡æ¯ï¼‰\nhelp æŒ‡ä»¤åŸºæœ¬è¯­æ³•ï¼šhelp å‘½ä»¤ ï¼ˆåŠŸèƒ½æè¿°ï¼šè·å¾— shell å†…ç½®å‘½ä»¤çš„å¸®åŠ©ä¿¡æ¯ï¼‰\nè½¯é“¾æ¥ ln æŒ‡ä»¤è½¯é“¾æ¥ä¹Ÿç§°ä¸ºç¬¦å·é“¾æ¥ï¼Œç±»ä¼¼äº windows é‡Œçš„å¿«æ·æ–¹å¼ï¼Œä¸»è¦å­˜æ”¾äº†é“¾æ¥å…¶ä»–æ–‡ä»¶çš„è·¯å¾„ln -s [åŸæ–‡ä»¶æˆ–ç›®å½•] [è½¯é“¾æ¥å] ï¼ˆåŠŸèƒ½æè¿°ï¼šç»™åŸæ–‡ä»¶åˆ›å»ºä¸€ä¸ªè½¯é“¾æ¥ï¼‰\næ¡ˆä¾‹ 1: åœ¨&#x2F;home ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªè½¯è¿æ¥ myrootï¼Œè¿æ¥åˆ° &#x2F;root ç›®å½•\nln -s &#x2F;root &#x2F;home&#x2F;myroot\næ¡ˆä¾‹ 2: åˆ é™¤è½¯è¿æ¥ myroot\nrm &#x2F;home&#x2F;myroot\nå½“æˆ‘ä»¬ä½¿ç”¨ pwd æŒ‡ä»¤æŸ¥çœ‹ç›®å½•æ—¶ï¼Œä»ç„¶çœ‹åˆ°çš„æ˜¯è½¯é“¾æ¥æ‰€åœ¨ç›®å½•ã€‚\næœç´¢æ–‡ä»¶å’Œæ–‡ä»¶ä¸­çš„å†…å®¹findfind ç›®å½•å -name æ–‡ä»¶å -print\nä»&#x2F;tmpç›®å½•å¼€å§‹æœç´¢ï¼ŒæŠŠå…¨éƒ¨çš„*.cæ–‡ä»¶æ˜¾ç¤ºå‡ºæ¥ã€‚\nfind &#x2F;tmp -name *.c -print\n\n\n\né€‰é¡¹\nåŠŸèƒ½\n\n\n\n-name\næŒ‰ç…§æŒ‡å®šçš„æ–‡ä»¶åæŸ¥æ‰¾æ¨¡å¼æŸ¥æ‰¾æ–‡ä»¶\n\n\n-user\næŸ¥æ‰¾å±äºæŒ‡å®šç”¨æˆ·åçš„æ‰€æœ‰æ–‡ä»¶\n\n\n-size\næŒ‰ç…§æŒ‡å®šçš„å›šçŠ¯ä»¬å¤§å°æŸ¥æ‰¾æ–‡ä»¶\n\n\næ¡ˆä¾‹ 1: æŒ‰æ–‡ä»¶åï¼šæ ¹æ®åç§°æŸ¥æ‰¾&#x2F;home ç›®å½•ä¸‹çš„ hello.txt æ–‡ä»¶\nfind &#x2F;home -name hello.txt\næ¡ˆä¾‹ 2ï¼šæŒ‰æ‹¥æœ‰è€…ï¼šæŸ¥æ‰¾&#x2F;opt ç›®å½•ä¸‹ï¼Œç”¨æˆ·åç§°ä¸º nobody çš„æ–‡ä»¶\nfind &#x2F;opt -user nobody\næ¡ˆä¾‹ 3ï¼šæŸ¥æ‰¾æ•´ä¸ª linux ç³»ç»Ÿä¸‹å¤§äº 200M çš„æ–‡ä»¶ï¼ˆ+n å¤§äº -n å°äº n ç­‰äº, å•ä½æœ‰ k,M,Gï¼‰find &#x2F; -size +200M\nlocateyum -y install mlocate\nlocate æŒ‡ä»¤å¯ä»¥å¿«é€Ÿå®šä½æ–‡ä»¶è·¯å¾„ã€‚locate æŒ‡ä»¤åˆ©ç”¨äº‹å…ˆå»ºç«‹çš„ç³»ç»Ÿä¸­æ‰€æœ‰æ–‡ä»¶åç§°åŠè·¯å¾„çš„ locate æ•°æ®åº“å®ç°å¿«é€Ÿå®šä½ç»™å®šçš„æ–‡ä»¶ã€‚Locate æŒ‡ä»¤æ— éœ€éå†æ•´ä¸ªæ–‡ä»¶ç³»ç»Ÿï¼ŒæŸ¥è¯¢é€Ÿåº¦è¾ƒå¿«ã€‚ä¸ºäº†ä¿è¯æŸ¥è¯¢ç»“æœçš„å‡†ç¡®åº¦ï¼Œç®¡ç†å‘˜å¿…é¡»å®šæœŸæ›´æ–° locate æ—¶åˆ»\nupdatedb\nlocate æœç´¢æ–‡ä»¶\nç”±äº locate æŒ‡ä»¤åŸºäºæ•°æ®åº“è¿›è¡ŒæŸ¥è¯¢ï¼Œæ‰€ä»¥ç¬¬ä¸€æ¬¡è¿è¡Œå‰ï¼Œå¿…é¡»ä½¿ç”¨ updatedb æŒ‡ä»¤åˆ›å»º locate æ•°æ®åº“ã€‚\næ¡ˆä¾‹ 1: è¯·ä½¿ç”¨ locate æŒ‡ä»¤å¿«é€Ÿå®šä½ hello.txt æ–‡ä»¶æ‰€åœ¨ç›®å½•\nwhichå¯ä»¥æŸ¥çœ‹æŸä¸ªæŒ‡ä»¤åœ¨å“ªä¸ªç›®å½•ä¸‹ï¼Œæ¯”å¦‚ ls æŒ‡ä»¤åœ¨å“ªä¸ªç›®å½•\nwhich ls\ngrep å’Œ ç®¡é“ç¬¦å· |grep è¿‡æ»¤æŸ¥æ‰¾ ï¼Œ ç®¡é“ç¬¦ï¼Œâ€œ|â€ï¼Œè¡¨ç¤ºå°†å‰ä¸€ä¸ªå‘½ä»¤çš„å¤„ç†ç»“æœè¾“å‡ºä¼ é€’ç»™åé¢çš„å‘½ä»¤å¤„ç†ã€‚\ngrep [é€‰é¡¹] æŸ¥æ‰¾å†…å®¹ æºæ–‡ä»¶\n-n æ˜¾ç¤ºåŒ¹é…è¡ŒåŠè¡Œå·\n-i å¿½ç•¥å­—æ¯å¤§å°å†™\næ¡ˆä¾‹ 1: è¯·åœ¨ hello.txt æ–‡ä»¶ä¸­ï¼ŒæŸ¥æ‰¾ â€œyesâ€ æ‰€åœ¨è¡Œï¼Œå¹¶ä¸”æ˜¾ç¤ºè¡Œå·\nå†™æ³• 1: cat &#x2F;home&#x2F;hello.txt | grep â€œyesâ€\nå†™æ³• 2: grep -n â€œyesâ€ &#x2F;home&#x2F;hello.txt\næ˜¾ç¤ºæ–‡æœ¬æ–‡ä»¶çš„å†…å®¹catcat æ–‡ä»¶å\nmoremore æ–‡ä»¶å\næŒ‰ç©ºæ ¼é”®æ˜¾ç¤ºä¸‹ä¸€é¡µï¼ŒæŒ‰bé”®æ˜¾ä¸Šä¸€é¡µï¼ŒæŒ‰qé”®é€€å‡ºã€‚\ntailtail æ–‡ä»¶ ï¼ˆåŠŸèƒ½æè¿°ï¼šæŸ¥çœ‹æ–‡ä»¶å°¾ 10 è¡Œå†…å®¹ï¼‰\ntail -n 5 æ–‡ä»¶ ï¼ˆåŠŸèƒ½æè¿°ï¼šæŸ¥çœ‹æ–‡ä»¶å°¾ 5 è¡Œå†…å®¹ï¼Œ5 å¯ä»¥æ˜¯ä»»æ„è¡Œæ•°ï¼‰\ntail -f æ–‡ä»¶ ï¼ˆåŠŸèƒ½æè¿°ï¼šå®æ—¶è¿½è¸ªè¯¥æ–‡æ¡£çš„æ‰€æœ‰æ›´æ–°ï¼‰\nheadhead æ–‡ä»¶ (åŠŸèƒ½æè¿°ï¼šæŸ¥çœ‹æ–‡ä»¶å¤´ 10 è¡Œå†…å®¹)\nhead -n 5 æ–‡ä»¶ (åŠŸèƒ½æè¿°ï¼šæŸ¥çœ‹æ–‡ä»¶å¤´ 5 è¡Œå†…å®¹ï¼Œ5 å¯ä»¥æ˜¯ä»»æ„è¡Œæ•°)\nlessless æ–‡ä»¶å\n\n\n\næ“ä½œ\nåŠŸèƒ½è¯´æ˜\n\n\n\nç©ºæ ¼\nå‘ä¸‹ç¿»åŠ¨ä¸€é¡µ\n\n\npagedown\nå‘ä¸‹ç¿»åŠ¨ä¸€é¡µ\n\n\npageup\nå‘ä¸Šç¿»åŠ¨ä¸€é¡µ\n\n\n&#x2F;æˆ–è€…ï¼Ÿå­—ç¬¦\nå‘ä¸‹æœç´¢å­—ä¸²ï¼Œnå‘ä¸‹æ‰¾ï¼ŒNå‘ä¸Šæ‰¾\n\n\nq\nç¦»å¼€lessè¿™ä¸ªç¨‹åº\n\n\nwcç»Ÿè®¡æ–‡æœ¬æ–‡ä»¶çš„è¡Œæ•°ã€å•è¯æ•°å’Œå­—èŠ‚æ•°\nwc æ–‡ä»¶å\næ–‡ä»¶è¡Œæ•° æ–‡ä»¶å­—æ•° æ–‡ä»¶å¤§å°\nlinuxä¿®æ”¹sshç«¯å£centosä¿®æ”¹sshç«¯å£vi /etc/ssh/sshd_configPort ç«¯å£å·systemctl restart sshd\n\ndebianä¿®æ”¹sshç«¯å£vi /etc/ssh/sshd_configPort ç«¯å£å·service ssh restart \n\nubuntuä¿®æ”¹sshç«¯å£vi /etc/ssh/sshd_configPort ç«¯å£å·service ssh restart \n\n\n\n\n\nRPMã€YUMã€wgetrpm åŒ…çš„ç®¡ç†rpm ç”¨äºäº’è”ç½‘ä¸‹è½½åŒ…çš„æ‰“åŒ…åŠå®‰è£…å·¥å…·ï¼Œå®ƒåŒ…å«åœ¨æŸäº› Linux åˆ†å‘ç‰ˆä¸­ã€‚å®ƒç”Ÿæˆå…·æœ‰.RPM æ‰©å±•åçš„æ–‡ä»¶ã€‚RPM æ˜¯ RedHat Package Managerï¼ˆRedHat è½¯ä»¶åŒ…ç®¡ç†å·¥å…·ï¼‰çš„ç¼©å†™ï¼Œç±»ä¼¼ windows çš„ setup.exeï¼Œè¿™ä¸€æ–‡ä»¶æ ¼å¼åç§°è™½ç„¶æ‰“ä¸Šäº† RedHat çš„æ ‡å¿—ï¼Œä½†ç†å¿µæ˜¯é€šç”¨çš„ã€‚\nLinux çš„åˆ†å‘ç‰ˆæœ¬éƒ½æœ‰é‡‡ç”¨ï¼ˆsuse,redhat, centos ç­‰ç­‰ï¼‰ï¼Œå¯ä»¥ç®—æ˜¯å…¬è®¤çš„è¡Œä¸šæ ‡å‡†äº†ã€‚\nrpm åŒ…çš„ç®€å•æŸ¥è¯¢æŒ‡ä»¤æŸ¥è¯¢å·²å®‰è£…çš„ rpm åˆ—è¡¨\nrpm â€“qa|grep xx\n\nä¸¾ä¾‹ï¼š çœ‹çœ‹å½“å‰ç³»ç»Ÿï¼Œæ˜¯å¦å®‰è£…äº† firefox æŒ‡ä»¤: rpm -qa | grep firefox\nrpm åŒ…ååŸºæœ¬æ ¼å¼ä¸€ä¸ª rpm åŒ…åï¼šfirefox-60.2.2-1.el7.centos.x86_64 åç§°:firefox\nç‰ˆæœ¬å·ï¼š60.2.2-1\né€‚ç”¨æ“ä½œç³»ç»Ÿ: el7.centos.x86_64\nè¡¨ç¤º centos7.x çš„ 64 ä½ç³»ç»Ÿ\nå¦‚æœæ˜¯ i686ã€i386 è¡¨ç¤º 32 ä½ç³»ç»Ÿï¼Œnoarch è¡¨ç¤ºé€šç”¨\nrpm åŒ…çš„å…¶å®ƒæŸ¥è¯¢æŒ‡ä»¤ï¼šrpm -qa :æŸ¥è¯¢æ‰€å®‰è£…çš„æ‰€æœ‰ rpm è½¯ä»¶åŒ…\nrpm -qa | more\nrpm -qa | grep X [rpm -qa | grep firefox ]\nrpm -q è½¯ä»¶åŒ…å :æŸ¥è¯¢è½¯ä»¶åŒ…æ˜¯å¦å®‰è£…æ¡ˆä¾‹ï¼šrpm -q firefox\nrpm -qi è½¯ä»¶åŒ…å ï¼šæŸ¥è¯¢è½¯ä»¶åŒ…ä¿¡æ¯æ¡ˆä¾‹: rpm -qi firefox\nrpm -ql è½¯ä»¶åŒ…å : æŸ¥è¯¢è½¯ä»¶åŒ…ä¸­çš„æ–‡ä»¶æ¯”å¦‚ï¼š rpm -ql firefox\nrpm -qf æ–‡ä»¶å…¨è·¯å¾„å æŸ¥è¯¢æ–‡ä»¶æ‰€å±çš„è½¯ä»¶åŒ…\nrpm -qf &#x2F;etc&#x2F;passwd rpm -qf &#x2F;root&#x2F;install.log\nå¸è½½rpm åŒ…ï¼š\nåŸºæœ¬è¯­æ³•\n\nrpm -e RPM åŒ…çš„åç§° &#x2F;&#x2F;erase\n\nåº”ç”¨æ¡ˆä¾‹\n\nåˆ é™¤ firefox è½¯ä»¶åŒ…\nrpm -e firefox\n\nç»†èŠ‚è®¨è®º\n\n\nå¦‚æœå…¶å®ƒè½¯ä»¶åŒ…ä¾èµ–äºæ‚¨è¦å¸è½½çš„è½¯ä»¶åŒ…ï¼Œå¸è½½æ—¶åˆ™ä¼šäº§ç”Ÿé”™è¯¯ä¿¡æ¯ã€‚å¦‚ï¼š $ rpm -e foo\n\nremoving these packages would break dependencies:foo is needed by bar-1.0-1\n\nå¦‚æœæˆ‘ä»¬å°±æ˜¯è¦åˆ é™¤ foo è¿™ä¸ª rpm åŒ…ï¼Œå¯ä»¥å¢åŠ å‚æ•° â€“nodeps ,å°±å¯ä»¥å¼ºåˆ¶åˆ é™¤ï¼Œä½†æ˜¯ä¸€èˆ¬ä¸æ¨èè¿™æ ·åšï¼Œå› ä¸ºä¾èµ–äºè¯¥è½¯ä»¶åŒ…çš„ç¨‹åºå¯èƒ½æ— æ³•è¿è¡Œã€‚å¦‚ï¼š$ rpm -e â€“nodeps foo\n\nå®‰è£…rpm åŒ…\nåŸºæœ¬è¯­æ³•\n\nrpm -ivh RPM åŒ…å…¨è·¯å¾„åç§°\n\nå‚æ•°è¯´æ˜\n\ni&#x3D;install å®‰è£…\nv&#x3D;verbose æç¤º\nh&#x3D;hash è¿›åº¦æ¡\n\nåº”ç”¨å®ä¾‹\n\næ¼”ç¤ºå¸è½½å’Œå®‰è£… firefox æµè§ˆå™¨\nrpm -e firefox\nrpm -ivh firefox\nyumYum æ˜¯ä¸€ä¸ª Shell å‰ç«¯è½¯ä»¶åŒ…ç®¡ç†å™¨ã€‚åŸºäº RPM åŒ…ç®¡ç†ï¼Œèƒ½å¤Ÿä»æŒ‡å®šçš„æœåŠ¡å™¨è‡ªåŠ¨ä¸‹è½½ RPM åŒ…å¹¶ä¸”å®‰è£…ï¼Œå¯ä»¥è‡ªåŠ¨å¤„ç†ä¾èµ–æ€§å…³ç³»ï¼Œå¹¶ä¸”ä¸€æ¬¡å®‰è£…æ‰€æœ‰ä¾èµ–çš„è½¯ä»¶åŒ…ã€‚\nyum çš„åŸºæœ¬æŒ‡ä»¤æŸ¥è¯¢ yum æœåŠ¡å™¨æ˜¯å¦æœ‰éœ€è¦å®‰è£…çš„è½¯ä»¶\nyum list|grep xx è½¯ä»¶åˆ—è¡¨\nå®‰è£…æŒ‡å®šçš„yum åŒ…yum install xxx ä¸‹è½½å®‰è£…\nyum -y install xxx è‡ªåŠ¨åŒæ„è¯¢é—®\nyum åº”ç”¨å®ä¾‹ï¼šæ¡ˆä¾‹ï¼šè¯·ä½¿ç”¨ yum çš„æ–¹å¼æ¥å®‰è£… firefox\nrpm -e firefox\nyum list | grep firefox\nyum install firefox\nwgetwget é“¾æ¥ ä¸‹è½½æ–‡ä»¶\nubuntuç³»ç»ŸsshæœåŠ¡ç»ˆç«¯è¾“å…¥ifconfigæŸ¥çœ‹ip\n\nè¿›å…¥rootç”¨æˆ·æ¨¡å¼ï¼š\næ‰§è¡Œå‘½ä»¤ï¼š apt-get install sshï¼ˆå®‰è£…sshæœåŠ¡ï¼‰\napt-get install vimï¼ˆå®‰è£…vimç¼–è¾‘å™¨ï¼‰\nvi &#x2F;etc&#x2F;ssh&#x2F;sshd_config (æ›´æ”¹SSHæœåŠ¡çš„é…ç½®æ–‡ä»¶ï¼Œå…è®¸è¿œç¨‹ç™»å½•root)\nå°†PermitRootLogin çš„å€¼è®¾ä¸º yes\n\nubuntuç»ˆç«¯ä¸‹MySQLè¾“å…¥ä¸­æ–‡\nç¼–è¾‘mysql.cnfæ–‡ä»¶é¦–å…ˆç¼–è¾‘&#x2F;etc&#x2F;mysql&#x2F;conf.d&#x2F;mysql.cnfæ–‡ä»¶,åº”å½“æ— å†…å®¹\n\nç¼–è¾‘mysqld.cnfæ–‡ä»¶\n\n\nvi &#x2F;etc&#x2F;mysql&#x2F;mysql.conf.d&#x2F;mysqld.cnf\nåœ¨[mysqld]ä¸‹åŠ å…¥character-set-server&#x3D;utf8\n\né‡å¯æœåŠ¡å™¨sudo &#x2F;etc&#x2F;init.d&#x2F;mysql restart\n\nubuntuçš„é»˜è®¤rootå¯†ç è®¾ç½®ä¸€ã€Ubuntuçš„é»˜è®¤rootå¯†ç æ˜¯éšæœºçš„ï¼Œå³æ¯æ¬¡å¼€æœºéƒ½æœ‰ä¸€ä¸ªæ–°çš„rootå¯†ç ã€‚å¯ä»¥åœ¨ç»ˆç«¯è¾“å…¥å‘½ä»¤ sudo passwdï¼Œç„¶åè¾“å…¥å½“å‰ç”¨æˆ·çš„å¯†ç ï¼Œenter.\näºŒã€ç»ˆç«¯ä¼šæç¤ºè¾“å…¥æ–°çš„å¯†ç å¹¶ç¡®è®¤ï¼Œæ­¤æ—¶çš„å¯†ç å°±æ˜¯rootæ–°å¯†ç ã€‚ä¿®æ”¹æˆåŠŸåï¼Œè¾“å…¥å‘½ä»¤ su rootï¼Œå†è¾“å…¥æ–°çš„å¯†ç å°±okäº†ã€‚\næ‰¾å›Linux rootå¯†ç \nå¯åŠ¨ç³»ç»Ÿï¼Œè¿›å…¥å¼€æœºç•Œé¢ï¼Œåœ¨ç•Œé¢ä¸­æŒ‰â€œeâ€è¿›å…¥ç¼–è¾‘ç•Œé¢ã€‚\nè¿›å…¥ç¼–è¾‘ç•Œé¢ï¼Œä½¿ç”¨é”®ç›˜ä¸Šçš„ä¸Šä¸‹é”®æŠŠå…‰æ ‡å¾€ä¸‹ç§»åŠ¨ï¼Œæ‰¾åˆ°ä»¥â€œâ€œLinux16â€å¼€å¤´å†…å®¹æ‰€åœ¨çš„è¡Œæ•°â€ï¼Œåœ¨è¡Œçš„æœ€åé¢è¾“å…¥ï¼šinit&#x3D;&#x2F;bin&#x2F;shã€‚\nè¾“å…¥å®Œæˆåï¼Œç›´æ¥æŒ‰å¿«æ·é”®ï¼šCtrl+x è¿›å…¥å•ç”¨æˆ·æ¨¡å¼ã€‚\nåœ¨å…‰æ ‡é—ªçƒçš„ä½ç½®ä¸­è¾“å…¥ï¼šmount -o remount,rw &#x2F;ï¼ˆæ³¨æ„ï¼šå„ä¸ªå•è¯é—´æœ‰ç©ºæ ¼ï¼‰ï¼Œå®ŒæˆåæŒ‰é”®ç›˜çš„å›è½¦é”®ï¼ˆEnterï¼‰ã€‚\nåœ¨æ–°çš„ä¸€è¡Œæœ€åé¢è¾“å…¥ï¼špasswdï¼Œ å®ŒæˆåæŒ‰é”®ç›˜çš„å›è½¦é”®ï¼ˆEnterï¼‰ã€‚è¾“å…¥å¯†ç ï¼Œç„¶åå†æ¬¡ç¡®è®¤å¯†ç å³å¯, å¯†ç ä¿®æ”¹æˆåŠŸåï¼Œä¼šæ˜¾ç¤ºpasswdâ€¦..çš„æ ·å¼ï¼Œè¯´æ˜å¯†ç ä¿®æ”¹æˆåŠŸ\nåœ¨é¼ æ ‡é—ªçƒçš„ä½ç½®ä¸­ï¼ˆæœ€åä¸€è¡Œä¸­ï¼‰è¾“å…¥ï¼štouch &#x2F;.autorelabelï¼ˆæ³¨æ„ï¼štouchä¸ &#x2F;åé¢æœ‰ä¸€ä¸ªç©ºæ ¼ï¼‰ï¼Œå®ŒæˆåæŒ‰é”®ç›˜çš„å›è½¦é”®ï¼ˆEnterï¼‰\nç»§ç»­åœ¨å…‰æ ‡é—ªçƒçš„ä½ç½®ä¸­ï¼Œè¾“å…¥ï¼šexec &#x2F;sbin&#x2F;initï¼ˆæ³¨æ„ï¼šexecä¸ &#x2F;åé¢æœ‰ä¸€ä¸ªç©ºæ ¼ï¼‰ï¼Œå®ŒæˆåæŒ‰é”®ç›˜çš„å›è½¦é”®ï¼ˆEnterï¼‰,ç­‰å¾…ç³»ç»Ÿè‡ªåŠ¨ä¿®æ”¹å¯†ç ï¼Œå®Œæˆåï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨é‡å¯, æ–°çš„å¯†ç ç”Ÿæ•ˆäº†\n\nLinuxè¿è¡Œçº§åˆ«åŸºæœ¬ä»‹ç»è¿è¡Œçº§åˆ«è¯´æ˜ï¼š\n0 ï¼šå…³æœº\n1 ï¼šå•ç”¨æˆ·ã€æ‰¾å›ä¸¢å¤±å¯†ç ã€‘\n2ï¼šå¤šç”¨æˆ·çŠ¶æ€æ²¡æœ‰ç½‘ç»œæœåŠ¡\n3ï¼šå¤šç”¨æˆ·çŠ¶æ€æœ‰ç½‘ç»œæœåŠ¡\n4ï¼šç³»ç»Ÿæœªä½¿ç”¨ä¿ç•™ç»™ç”¨æˆ·\n5ï¼šå›¾å½¢ç•Œé¢\n6ï¼šç³»ç»Ÿé‡å¯\nå¸¸ç”¨è¿è¡Œçº§åˆ«æ˜¯ 3 å’Œ 5 ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šé»˜è®¤è¿è¡Œçº§åˆ«\nå‘½ä»¤ï¼šinit [0123456] é€šè¿‡ init æ¥åˆ‡æ¢ä¸åŒçš„è¿è¡Œçº§åˆ«\ncentos7 åè¿è¡Œçº§åˆ«è¯´æ˜åœ¨ centos7 ä»¥å‰ï¼Œ &#x2F;etc&#x2F;inittab æ–‡ä»¶ä¸­ .\nè¿›è¡Œäº†ç®€åŒ– ï¼Œå¦‚ä¸‹:\nmulti-user.target: analogous to runlevel 3 graphical.target: analogous to runlevel 5 # To view current default target, run: systemctl get-default# To set a default target, run:systemctl set-default TARGET.target\n\n\n\nLinuxç›®å½•ç»“æ„åœ¨ Linux ä¸–ç•Œé‡Œï¼Œä¸€åˆ‡çš†æ–‡ä»¶\n\n&#x2F;bin [å¸¸ç”¨] (&#x2F;usr&#x2F;bin ã€ &#x2F;usr&#x2F;local&#x2F;bin) æ˜¯ Binary çš„ç¼©å†™, è¿™ä¸ªç›®å½•å­˜æ”¾ç€æœ€ç»å¸¸ä½¿ç”¨çš„å‘½ä»¤\n\n&#x2F;sbin (&#x2F;usr&#x2F;sbin ã€ &#x2F;usr&#x2F;local&#x2F;sbin) s å°±æ˜¯ Super User çš„æ„æ€ï¼Œè¿™é‡Œå­˜æ”¾çš„æ˜¯ç³»ç»Ÿç®¡ç†å‘˜ä½¿ç”¨çš„ç³»ç»Ÿç®¡ç†ç¨‹åºã€‚\n\n&#x2F;home [å¸¸ç”¨] å­˜æ”¾æ™®é€šç”¨æˆ·çš„ä¸»ç›®å½•ï¼Œåœ¨ Linux ä¸­æ¯ä¸ªç”¨æˆ·éƒ½æœ‰ä¸€ä¸ªè‡ªå·±çš„ç›®å½•ï¼Œä¸€èˆ¬è¯¥ç›®å½•åæ˜¯ä»¥ç”¨æˆ·çš„è´¦å·å‘½å\n\n&#x2F;root [å¸¸ç”¨] è¯¥ç›®å½•ä¸ºç³»ç»Ÿç®¡ç†å‘˜ï¼Œä¹Ÿç§°ä½œè¶…çº§æƒé™è€…çš„ç”¨æˆ·ä¸»ç›®å½•\n\n&#x2F;lib ç³»ç»Ÿå¼€æœºæ‰€éœ€è¦æœ€åŸºæœ¬çš„åŠ¨æ€è¿æ¥å…±äº«åº“ï¼Œå…¶ä½œç”¨ç±»ä¼¼äº Windows é‡Œçš„ DLL æ–‡ä»¶ã€‚å‡ ä¹æ‰€æœ‰çš„åº”ç”¨ç¨‹åºéƒ½éœ€è¦ç”¨åˆ°è¿™äº›å…±äº«åº“\n\n&#x2F;lost+found è¿™ä¸ªç›®å½•ä¸€èˆ¬æƒ…å†µä¸‹æ˜¯ç©ºçš„ï¼Œå½“ç³»ç»Ÿéæ³•å…³æœºåï¼Œè¿™é‡Œå°±å­˜æ”¾äº†ä¸€äº›æ–‡ä»¶\n\n&#x2F;etc [å¸¸ç”¨] æ‰€æœ‰çš„ç³»ç»Ÿç®¡ç†æ‰€éœ€è¦çš„é…ç½®æ–‡ä»¶å’Œå­ç›®å½•, æ¯”å¦‚å®‰è£… mysql æ•°æ®åº“ my.conf\n\n&#x2F;usr [å¸¸ç”¨] è¿™æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„ç›®å½•ï¼Œç”¨æˆ·çš„å¾ˆå¤šåº”ç”¨ç¨‹åºå’Œæ–‡ä»¶éƒ½æ”¾åœ¨è¿™ä¸ªç›®å½•ä¸‹ï¼Œç±»ä¼¼ä¸ windows ä¸‹çš„ program files ç›®å½•ã€‚\n\n&#x2F;boot [å¸¸ç”¨] å­˜æ”¾çš„æ˜¯å¯åŠ¨ Linux æ—¶ä½¿ç”¨çš„ä¸€äº›æ ¸å¿ƒæ–‡ä»¶ï¼ŒåŒ…æ‹¬ä¸€äº›è¿æ¥æ–‡ä»¶ä»¥åŠé•œåƒæ–‡ä»¶\n\n&#x2F;proc [ä¸èƒ½åŠ¨] è¿™ä¸ªç›®å½•æ˜¯ä¸€ä¸ªè™šæ‹Ÿçš„ç›®å½•ï¼Œå®ƒæ˜¯ç³»ç»Ÿå†…å­˜çš„æ˜ å°„ï¼Œè®¿é—®è¿™ä¸ªç›®å½•æ¥è·å–ç³»ç»Ÿä¿¡æ¯\n\n&#x2F;srv [ä¸èƒ½åŠ¨] service ç¼©å†™ï¼Œè¯¥ç›®å½•å­˜æ”¾ä¸€äº›æœåŠ¡å¯åŠ¨ä¹‹åéœ€è¦æå–çš„æ•°æ®\n\n&#x2F;sys [ä¸èƒ½åŠ¨]è¿™æ˜¯ linux2.6 å†…æ ¸çš„ä¸€ä¸ªå¾ˆå¤§çš„å˜åŒ–ã€‚è¯¥ç›®å½•ä¸‹å®‰è£…äº† 2.6 å†…æ ¸ä¸­æ–°å‡ºç°çš„ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿ sysfs &#x3D;ã€‹ã€åˆ«åŠ¨ã€‘\n\n&#x2F;tmp è¿™ä¸ªç›®å½•æ˜¯ç”¨æ¥å­˜æ”¾ä¸€äº›ä¸´æ—¶æ–‡ä»¶çš„\n\n&#x2F;dev ç±»ä¼¼äº windows çš„è®¾å¤‡ç®¡ç†å™¨ï¼ŒæŠŠæ‰€æœ‰çš„ç¡¬ä»¶ç”¨æ–‡ä»¶çš„å½¢å¼å­˜å‚¨\n\n&#x2F;media [å¸¸ç”¨] linux ç³»ç»Ÿä¼šè‡ªåŠ¨è¯†åˆ«ä¸€äº›è®¾å¤‡ï¼Œä¾‹å¦‚ U ç›˜ã€å…‰é©±ç­‰ç­‰ï¼Œå½“è¯†åˆ«åï¼Œlinux ä¼šæŠŠè¯†åˆ«çš„è®¾å¤‡æŒ‚è½½åˆ°è¿™ä¸ªç›®å½•ä¸‹\n\n&#x2F;mnt [å¸¸ç”¨] ç³»ç»Ÿæä¾›è¯¥ç›®å½•æ˜¯ä¸ºäº†è®©ç”¨æˆ·ä¸´æ—¶æŒ‚è½½åˆ«çš„æ–‡ä»¶ç³»ç»Ÿçš„ï¼Œæˆ‘ä»¬å¯ä»¥å°†å¤–éƒ¨çš„å­˜å‚¨æŒ‚è½½åœ¨&#x2F;mnt&#x2F;ä¸Šï¼Œç„¶åè¿›å…¥è¯¥ç›®å½•å°±å¯ä»¥æŸ¥çœ‹é‡Œçš„å†…å®¹äº†ã€‚ d:&#x2F;myshare\n\n&#x2F;opt è¿™æ˜¯ç»™ä¸»æœºé¢å¤–å®‰è£…è½¯ä»¶æ‰€å­˜æ”¾çš„ç›®å½•ã€‚å¦‚å®‰è£… ORACLE æ•°æ®åº“å°±å¯æ”¾åˆ°è¯¥ç›®å½•ä¸‹ã€‚é»˜è®¤ä¸ºç©º\n\n&#x2F;usr&#x2F;local [å¸¸ç”¨]è¿™æ˜¯å¦ä¸€ä¸ªç»™ä¸»æœºé¢å¤–å®‰è£…è½¯ä»¶æ‰€å®‰è£…çš„ç›®å½•ã€‚ä¸€èˆ¬æ˜¯é€šè¿‡ç¼–è¯‘æºç æ–¹å¼å®‰è£…çš„ç¨‹åº\n\n&#x2F;var [å¸¸ç”¨]è¿™ä¸ªç›®å½•ä¸­å­˜æ”¾ç€åœ¨ä¸æ–­æ‰©å……ç€çš„ä¸œè¥¿ï¼Œä¹ æƒ¯å°†ç»å¸¸è¢«ä¿®æ”¹çš„ç›®å½•æ”¾åœ¨è¿™ä¸ªç›®å½•ä¸‹ã€‚åŒ…æ‹¬å„ç§æ—¥å¿—æ–‡ä»¶\n\n&#x2F;selinux [security-enhanced linux]SELinux æ˜¯ä¸€ç§å®‰å…¨å­ç³»ç»Ÿ,å®ƒèƒ½æ§åˆ¶ç¨‹åºåªèƒ½è®¿é—®ç‰¹å®šæ–‡ä»¶, æœ‰ä¸‰ç§å·¥ä½œæ¨¡å¼ï¼Œå¯ä»¥è‡ªè¡Œè®¾ç½®.\n\n\nå®‰è£…centoså®‰è£…ä½¿ç”¨Ftpå®‰è£…ftpåœ¨CentOS7ä¸­ï¼Œé‡‡ç”¨yumæ¥å®‰è£…ftpè½¯ä»¶åŒ…ï¼ŒåŒ…æ‹¬ftpæœåŠ¡å™¨å’Œftpå®¢æˆ·ç«¯ã€‚å¦‚æœå·²ç»å®‰è£…ï¼Œå†æ¬¡æ‰§è¡Œyumå°±ä¼šæŠŠè½¯ä»¶åŒ…å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬ã€‚\n1ã€å®‰è£…ftpæœåŠ¡å™¨yum -y install vsftpd\n2ã€å®‰è£…ftpå®¢æˆ·ç«¯yum -y install ftp\né…ç½®ftpæœåŠ¡å™¨ftpçš„ä¼ è¾“æ¨¡å¼æœ‰è¢«åŠ¨æ¨¡å¼å’Œä¸»åŠ¨å¼ä¸¤ç§ï¼Œç¼ºçœæ˜¯è¢«åŠ¨æ¨¡å¼ï¼Œä¸»åŠ¨æ¨¡å¼çš„åº”ç”¨åœºæ™¯æå°‘ï¼Œä¸ºäº†æ–¹ä¾¿è¡¨è¾¾ï¼Œåœ¨æ¥ä¸‹æ¥çš„å†…å®¹ä¸­åªä»‹ç»è¢«åŠ¨æ¨¡å¼ï¼Œä¸»åŠ¨æ¨¡å¼åœ¨æœ¬æ–‡ä¸­ä¹Ÿæœ‰ä»‹ç»ã€‚\n1ã€å…³é—­SELINUXvi /etc/selinux/configSELINUX =disabledsetenforce 0\n\n2ã€é…ç½®ftpæ•°æ®ç«¯å£å‚æ•°ftpçš„æ•°æ®ç«¯å£ä¹Ÿç§°ä¸ºé«˜ç«¯å£ï¼Œåœ¨&#x2F;etc&#x2F;vsftpd&#x2F;vsftpd.confæ–‡ä»¶ä¸­é…ç½®ï¼Œç”±pasv_min_portå’Œpasv_max_portä¸¤ä¸ªå‚æ•°æŒ‡å®šï¼Œå¦‚æœæ–‡ä»¶ä¸­æ²¡æœ‰è¿™ä¸¤ä¸ªå‚æ•°ï¼Œæ‰‹å·¥çš„åŠ è¿›å»ã€‚\nvi /etc/vsftpd/vsftpd.conflisten=YES listen_ipv6=NOpasv_address=&lt;EIP&gt;pasv_min_port=5000  # é«˜ç«¯å£èŒƒå›´çš„æœ€å°å€¼ã€‚pasv_max_port=5500  # é«˜ç«¯å£èŒƒå›´çš„æœ€å¤§å€¼ã€‚\n\n3ã€å¼€é€šé˜²ç«å¢™å¼€é€šé˜²ç«å¢™çš„æ–¹æ³•æœ‰ä¸¤ç§ï¼š\n1ï¼‰å¼€é€šftpæœåŠ¡ã€‚\nfirewall-cmd â€“zone&#x3D;public â€“add-service&#x3D;ftp â€“permanent\n2ï¼‰å¼€é€šftpæœåŠ¡éœ€è¦çš„ç«¯å£ï¼Œ21æ˜¯æ§åˆ¶ç«¯å£ï¼Œ5000-5500æ˜¯æ•°æ®ç«¯å£èŒƒå›´ï¼Œä¹Ÿå°±æ˜¯ä¸Šä¸€èŠ‚ä¸­åœ¨&#x2F;etc&#x2F;vsftpd&#x2F;vsftpd.confæ–‡ä»¶ä¸­é…ç½®çš„pasv_min_portå’Œpasv_max_portå‚æ•°ã€‚\nfirewall-cmd â€“zone&#x3D;public â€“add-port&#x3D;21&#x2F;tcp â€“permanent\nfirewall-cmd â€“zone&#x3D;public â€“add-port&#x3D;5000-5500&#x2F;tcp â€“permanent\né‡å¯é˜²ç«å¢™ï¼š\nsystemctl restart firewalld.service\n4ã€å¯åŠ¨vsftpdæœåŠ¡ftpæœåŠ¡å™¨çš„æœåŠ¡åæ˜¯vsftpdï¼Œç›¸å…³çš„æ“ä½œå¦‚ä¸‹ï¼š\nsystemctl start  vsftpd  # å¯åŠ¨æœåŠ¡ã€‚systemctl stop  vsftpd  # åœæ­¢æœåŠ¡ã€‚systemctl restart vsftpd  # é‡å¯æœåŠ¡ã€‚systemctl status vsftpd  # æŸ¥çœ‹æœåŠ¡çŠ¶æ€ã€‚systemctl enable vsftpd  # å¯ç”¨å¼€æœºè‡ªåŠ¨åŠ¨vsftpdæœåŠ¡ã€‚systemctl disable vsftpd  # ç¦ç”¨å¼€æœºè‡ªåŠ¨åŠ¨vsftpdæœåŠ¡ã€‚\n\n5ã€äº‘å¹³å°è®¿é—®ç­–ç•¥é…ç½®å¦‚æœæ‚¨è´­ä¹°çš„æ˜¯äº‘æœåŠ¡å™¨ä¸Šï¼Œéœ€è¦ç™»å½•äº‘æœåŠ¡å™¨æä¾›å•†çš„ç®¡ç†å¹³å°å¼€é€šè®¿é—®ç­–ç•¥ï¼ˆæˆ–å®‰å…¨ç»„ï¼‰ï¼Œå¼€é€š21å’Œé«˜ç«¯å£çš„è®¿é—®ç­–ç•¥ã€‚\nä¸åŒäº‘æœåŠ¡å™¨æä¾›å•†çš„ç®¡ç†å¹³å°æ“ä½œæ–¹æ³•ä¸åŒï¼Œå…·ä½“æ“ä½œæ–¹æ³•é˜…è¯»æ“ä½œæ‰‹å†Œã€æˆ–è€…ç™¾åº¦ï¼Œæˆ–è€…å’¨è¯¢äº‘æœåŠ¡å™¨æä¾›å•†çš„å®¢æœã€‚\nå¦‚æœäº‘æœåŠ¡å™¨çš„ftpæœåŠ¡ä¸èƒ½å»ºç«‹æ•°æ®ä¼šè¯ï¼Œåœ¨ç™¾åº¦ä¸­è¾“å…¥â€œè¢«åŠ¨æ¨¡å¼ä¸‹FTPä¸èƒ½å»ºç«‹æ•°æ®ä¼šè¯é—®é¢˜â€œå¯ä»¥æ‰¾åˆ°è§£å†³é—®é¢˜çš„æ–¹æ³•ï¼Œç›®å‰çš„é˜¿é‡Œäº‘æœåŠ¡å™¨å°±å­˜åœ¨è¿™ä¸ªé—®é¢˜ã€‚\nftpå¼€å‘ç¤ºä¾‹ï¼š\nvi ftpclient.cpp#include  &quot;_ftp.h&quot;Cftp ftp;int main()&#123;  if (ftp.login(&quot;127.0.0.1:21&quot;,&quot;lijialin&quot;,&quot;mima&quot;)==false)  &#123;    printf(&quot;ftp.login(127.0.0.1:21) failed.\\n&quot;); return -1;  &#125;  printf(&quot;ftp.login(127.0.0.1:21) success.\\n&quot;);  if (ftp.mtime(&quot;/home/lijialin/text.cpp&quot;)==false)  &#123;    printf(&quot;ftp.mtime(/home/lijialin/text.cpp) failed.\\n&quot;); return -1;  &#125;  printf(&quot;ftp.mtime(/home/lijialin/text.cpp) success,mtime=%s.\\n&quot;,ftp.m_mtime);  if (ftp.size(&quot;/home/lijialin/text.cpp&quot;)==false)  &#123;    printf(&quot;ftp.size(/home/lijialin/text.cpp) failed.\\n&quot;); return -1;  &#125;  printf(&quot;ftp.size(/home/lijialin/text.cpp) success,size=%d.\\n&quot;,ftp.m_size);  if (ftp.nlist(&quot;/home/lijialin&quot;,&quot;/tmp/lijialin.lst&quot;)==false)  &#123;    printf(&quot;ftp.nlist(/home/lijialin) failed.\\n&quot;); return -1;  &#125;  printf(&quot;ftp.nlist(/home/lijialin) success.\\n&quot;);  if (ftp.get(&quot;/home/lijialin/text.cpp&quot;,&quot;/tmp/text.cpp.bak&quot;,true)==false)  &#123;    printf(&quot;ftp.get() failed.\\n&quot;); return -1;  &#125;  printf(&quot;ftp.get() success.\\n&quot;);/*  if (ftp.put(&quot;/root/ftpclient.cpp&quot;,&quot;/home/zhangkun/bbb/ftpclient.cpp&quot;,true)===false)  &#123;    printf(&quot;ftp.put() failed.\\n&quot;); return -1;  &#125;  printf(&quot;ftp.put() success.\\n&quot;);*/  ftp.logout();  return 0;&#125;\n\n\n\ng++ -g -o ftpclient ftpclient.cpp /project/public/_ftp.cpp /project/public/_public.cpp -I/project/public -L/project/public -lftp -lm -lc\n\nåŠ¨æ€é“¾æ¥åº“é—®é¢˜./ftpclient: error while loading shared libraries: libftp.so: cannot open shared object file: No such file or directoryexport LD_LIBRARY_PATH=/project/public:.\n\n\n\nftp.nlist(/home/lijialin) failed. \n\n\n\n\n\ncentoså®‰è£…ä½¿ç”¨nginxsudo yum -y install nginx nginx  ps -ef|grep nginxyum install lsoflsof -i:80nginx -s signal // quit/stop/reload/reopen\n\né…ç½®æ–‡ä»¶nginx -V  //--conf-path=/etc/nginx/nginx.conf é…ç½®æ–‡ä»¶ä½ç½®//--prefix=/usr/share/nginx   nginxæ ¹ç›®å½•nginx -t //æ£€æŸ¥é…ç½®æ–‡ä»¶å†…å®¹æ˜¯å¦æ­£ç¡®nginx -s reload vi /etc/nginx/nginx.conf//å…¨å±€å— é…ç½®workerè¿›ç¨‹çš„æ•°é‡ã€æŒ‡å®šè¿è¡ŒæœåŠ¡çš„ç”¨æˆ·ç­‰worker_processes auto; //é…ç½®workerè¿›ç¨‹çš„æ•°é‡//eventså— é…ç½®æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ç½‘ç»œè¿æ¥çš„é…ç½®events &#123;    worker_connections 1024; //æ¯ä¸ªworkerè¿›ç¨‹å¯ä»¥æ¥æ”¶ç½‘ç»œè¿æ¥çš„æ•°é‡&#125;//httpå—     é…ç½®è™šæ‹Ÿä¸»æœºï¼ˆserverå—ï¼‰ã€ åå‘ä»£ç†ã€è´Ÿè½½å‡è¡¡ç­‰ç­‰  http &#123;    log_format  main  &#x27;$remote_addr - $remote_user [$time_local] &quot;$request&quot; &#x27;                      &#x27;$status $body_bytes_sent &quot;$http_referer&quot; &#x27;                      &#x27;&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;&#x27;;    access_log  /var/log/nginx/access.log  main;    sendfile            on;    tcp_nopush          on;    tcp_nodelay         on;    keepalive_timeout   65;    types_hash_max_size 4096;    include             /etc/nginx/mime.types; \t//åŒ…å«å…¶ä»–é…ç½®æ–‡ä»¶    default_type        application/octet-stream;    # Load modular configuration files from the /etc/nginx/conf.d directory.    # See http://nginx.org/en/docs/ngx_core_module.html#include    # for more information.    include /etc/nginx/conf.d/*.conf;    server &#123;        listen       80; //ç›‘å¬ç«¯å£        listen       [::]:80;        server_name  _;\t//æœåŠ¡å        root         /usr/share/nginx/html; //é…ç½®æ ¹ç›®å½•æ–‡ä»¶å¤¹        # Load configuration files for the default server block.        include /etc/nginx/default.d/*.conf;        error_page 404 /404.html;        location = /404.html &#123;        &#125;        error_page 500 502 503 504 /50x.html;        location = /50x.html &#123;        &#125;    &#125;        include servers/* //æŠŠserversç›®å½•ä¸‹çš„æ‰€æœ‰é…ç½®æ–‡ä»¶éƒ½åŒ…å«è¿›æ¥ï¼Œæ¯ä¸ªè™šæ‹Ÿä¸»æœºï¼ˆserverå—ï¼‰çš„é…ç½®æ”¾åœ¨ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶é‡Œ &#125; \n\nç½‘ç«™éƒ¨ç½²ä¾‹å¦‚ï¼šHexoï¼ŒåŸºäºNode.jsçš„åšå®¢æ¡†æ¶\nnpm install hexo-cli -gmkdir ~/nginxcd ~/nginxhexo init blogcd blog/publiccp -rf * /usr/share/nginx/html //æŠŠpublicä¸‹çš„æ–‡ä»¶éƒ½å¤åˆ¶åˆ°nginxé…ç½®çš„serverçš„æ ¹ç›®å½•ä¸­hexoä½¿ç”¨ï¼šnpm install hexo-cli -ghexo init bloghexo s //è¿è¡Œä¸€ä¸‹hexo d //è‡ªåŠ¨éƒ¨ç½² éœ€è¦é…ç½®configæ–‡ä»¶\n\nä¾‹å¦‚ï¼šVue \nå¯ä»¥ä¿®æ”¹é…ç½®æ–‡ä»¶serverå—å®ç°ä¸€ä¸ªæœåŠ¡å™¨ä»£ç†å¤šä¸ªåŸŸåè®¿é—®\nnpm create vitecd vite-projectnpm install//æ‰“åŒ…ä¸€ä¸‹npm run buildæŠŠæ‰“åŒ…åçš„distæ–‡ä»¶æ”¾åœ¨ä¸€ä¸ªæœ‰æƒé™è®¿é—®çš„ä½ç½® åœ¨serversæ–‡ä»¶å¤¹ä¸­æ·»åŠ é…ç½®æ–‡ä»¶ name.conf å†™ä¸Šserverå—server &#123;        listen       80;        listen       [::]:80;        server_name  _;        root         /usr/share/nginx/dist;        # Load configuration files for the default server block.        include /etc/nginx/default.d/*.conf;        error_page 404 /404.html;        location = /404.html &#123;        &#125;        error_page 500 502 503 504 /50x.html;        location = /50x.html &#123;        &#125;    &#125;    nginx -s reloadviteä½¿ç”¨ï¼šnpm create vitenpm installnpm run buildnpm run dev //è¿è¡Œä¸€ä¸‹\n\n\n\nåå‘ä»£ç†ã€è´Ÿè½½å‡è¡¡vi /etc/nginx/nginx.confåœ¨httpå—ä¸­æ·»åŠ åå‘ä»£ç†é…ç½®upstream name357&#123;\tip_hash;\t//è¿™ä¸ªè´Ÿè½½å‡è¡¡ç­–ç•¥ä¼šå¯¹å®¢æˆ·ç«¯çš„ipè¿›è¡Œå“ˆå¸Œï¼ŒåŒä¸€ä¸ªå®¢æˆ·ç«¯çš„è¯·ä¼šåˆ†é…åˆ°åŒä¸€ä¸ªæœåŠ¡å™¨ä¸Šå¯ä»¥è§£å†³ä¸€äº›sessionçš„é—®é¢˜\t//å¦ä¸€ç§è´Ÿè½½å‡è¡¡ç­–ç•¥weight\tserver 127.0.0.1ï¼ˆipï¼‰:8000 weight=5 //è¿™ä¸ªæœåŠ¡å™¨æ€§èƒ½å¥½ï¼Œå°±é…ç½®æƒé‡ï¼ˆweightï¼‰å¤§ç‚¹ï¼Œèƒ½åˆ†é…åˆ°çš„è¯·æ±‚æ¬¡æ•°è¶Šå¤š\tserver 127.0.0.1ï¼ˆipï¼‰:8001\tserver 127.0.0.1ï¼ˆipï¼‰:8002&#125;è®¿é—®localhost/app å°±ç›¸å½“äº è½®æµï¼ˆé»˜è®¤ï¼‰æˆ–è´Ÿè½½å‡è¡¡ï¼ˆweightåˆ†é…çš„æƒé‡ï¼‰ çš„è®¿é—®å¯¹åº”ipæœåŠ¡å™¨çš„å¯¹åº”8000/8001/8002ç«¯å£å¾—åˆ°çš„å†…å®¹server&#123;\tlocation /app&#123;//æ‰€æœ‰ä»¥appå¼€å¤´çš„è¯·æ±‚éƒ½è¢«ä»£ç†åˆ°upstreamä¸­è®¿é—®8000ï¼Œ8001......\t\tproxy_pass http://name357  //åœ°å€è¦å’Œupstreamä¸­çš„åå­—ä¿æŒä¸€è‡´\t&#125;&#125;\n\nHTTPShttp+ssl&#x3D;https\nsslè¯ä¹¦å¯ä»¥é€šè¿‡äº‘å¹³å°è·å–\nåœ¨nginxä¸­é…ç½®\nvi /etc/nginx/nginx.confåœ¨serverä¸­ server &#123;        listen       443 ssl http2;        listen       [::]:443 ssl http2;        server_name  url; //ç½‘ç«™åŸŸå        root         /usr/share/nginx/html;\t\t#è¯ä¹¦æ–‡ä»¶åç§°        ssl_certificate &quot;/root/nginx/cacert.pem&quot;;        #è¯ä¹¦ç§é’¥æ–‡ä»¶åç§°        ssl_certificate_key &quot;/root/nginx/private.key&quot;;        #ssl_session_cache shared:SSL:1m;        #ssléªŒè¯é…ç½®        ssl_session_timeout  10m;        #é…ç½®åŠ å¯†å¥—ä»¶/ç®—æ³•åŠ å¯†ï¼Œå†™æ³•éµå¾ªopensslæ ‡å‡†        ssl_ciphers HIGH:!aNULL:!MD5;        #ä½¿ç”¨æœåŠ¡å™¨ç«¯çš„é¦–é€‰ç®—æ³•        ssl_prefer_server_ciphers on;        #å®‰å…¨é“¾æ¥å¯é€‰åŠ å¯†åè®®        ssl_protocols TLSv1 TLSv1.1 TLSv1.2 TLSv1.3;        # Load configuration files for the default server block.        include /etc/nginx/default.d/*.conf;        error_page 404 /404.html;            location = /40x.html &#123;        &#125;        error_page 500 502 503 504 /50x.html;            location = /50x.html &#123;        &#125;    &#125;\n\n\n\n\n\ncentoså®‰è£…gityum -y install gitgit --version\n\ncentoså®‰è£…ä½¿ç”¨nvmgit clone git://github.com/creationix/nvm.git ~/nvmorwget -qO- https://raw.githubusercontent.com/creationix/nvm/v0.33.11/install.sh | bashcommand -v nvmecho &quot;source ~/nvm/nvm.sh&quot; &gt;&gt; ~/.bashrcsource ~/.bashrcå¸¸ç”¨å‘½ä»¤1. nvm list æ˜¯æŸ¥æ‰¾æœ¬ç”µè„‘ä¸Šæ‰€æœ‰çš„nodeç‰ˆæœ¬    - nvm list æŸ¥çœ‹å·²ç»å®‰è£…çš„ç‰ˆæœ¬    - nvm list installed æŸ¥çœ‹å·²ç»å®‰è£…çš„ç‰ˆæœ¬    - nvm list available æŸ¥çœ‹ç½‘ç»œå¯ä»¥å®‰è£…çš„ç‰ˆæœ¬2. nvm install &lt;version&gt; å®‰è£…æŒ‡å®šç‰ˆæœ¬node3. nvm use &lt;version&gt; åˆ‡æ¢ä½¿ç”¨æŒ‡å®šçš„ç‰ˆæœ¬node4. nvm ls åˆ—å‡ºæ‰€æœ‰ç‰ˆæœ¬5. nvm currentæ˜¾ç¤ºå½“å‰ç‰ˆæœ¬6. nvm alias &lt;name&gt; &lt;version&gt; ## ç»™ä¸åŒçš„ç‰ˆæœ¬å·æ·»åŠ åˆ«å7. nvm unalias &lt;name&gt; ## åˆ é™¤å·²å®šä¹‰çš„åˆ«å8. nvm reinstall-packages &lt;version&gt; ## åœ¨å½“å‰ç‰ˆæœ¬nodeç¯å¢ƒä¸‹ï¼Œé‡æ–°å…¨å±€å®‰è£…æŒ‡å®šç‰ˆæœ¬å·çš„npmåŒ…9. nvm on æ‰“å¼€nodejsæ§åˆ¶10. nvm off å…³é—­nodejsæ§åˆ¶11. nvm proxy æŸ¥çœ‹è®¾ç½®ä¸ä»£ç†12. nvm node_mirror [url] è®¾ç½®æˆ–è€…æŸ¥çœ‹setting.txtä¸­çš„node_mirrorï¼Œå¦‚æœä¸è®¾ç½®çš„é»˜è®¤æ˜¯ https://nodejs.org/dist/ã€€ã€€nvm npm_mirror [url] è®¾ç½®æˆ–è€…æŸ¥çœ‹setting.txtä¸­çš„npm_mirror,å¦‚æœä¸è®¾ç½®çš„è¯é»˜è®¤çš„æ˜¯ï¼š https://github.com/npm/npm/archive/.13. nvm uninstall &lt;version&gt; å¸è½½åˆ¶å®šçš„ç‰ˆæœ¬14. nvm use [version] [arch] åˆ‡æ¢åˆ¶å®šçš„nodeç‰ˆæœ¬å’Œä½æ•°15. nvm root [path] è®¾ç½®å’ŒæŸ¥çœ‹rootè·¯å¾„16. nvm version æŸ¥çœ‹å½“å‰çš„ç‰ˆæœ¬\n\ncentoså®‰è£…node.jsnvm install 16node -v\n\n\n\n\n\ncentos7å‡çº§GCChttps://blog.csdn.net/b_ingram/article/details/121569398\nyum install -y gcc gcc-c++gcc --versiong++ --versionåˆ‡æ¢ç”¨æˆ·ï¼šsu - rootå®‰è£…centos-release-sclï¼šsudo yum install -y http://mirror.centos.org/centos/7/extras/x86_64/Packages/centos-release-scl-rh-2-3.el7.centos.noarch.rpmsudo yum install -y http://mirror.centos.org/centos/7/extras/x86_64/Packages/centos-release-scl-2-3.el7.centos.noarch.rpmå®‰è£…devtoolsetï¼šsudo yum install -y devtoolset-9-gcc-c++æ¿€æ´»å¯¹åº”çš„devtoolset:scl enable devtoolset-9 bashsource /opt/rh/devtoolset-9/enablegcc --version1.ç›´æ¥æ›¿æ¢æ—§ç‰ˆæœ¬çš„gcc:mv /usr/bin/gcc /usr/bin/gcc-4.8.5ln -s /opt/rh/devtoolset-9/root/bin/gcc /usr/bin/gcc2.å¯åŠ¨gccï¼ˆæ°¸ä¹…ï¼‰echo &quot;source /opt/rh/devtoolset-9/enable&quot; &gt;&gt;/etc/profile\n\n\n\ncentoså®‰è£…g++yum install gcc-c++ libstdc++-devel \n\n\n\ncentoså®‰è£…tomcatmkdir /opt/tomcatapache-tomcat-8.5.59.tar.gzä¸Šä¼ åˆ°/opt/tomcatcd /opt/tomcattar -zxvf apache-tomcat-8.5.59.tar.gzcd apache-tomcat-8.5.59/bin/./startup.sh\n\nå¼€æ”¾ç«¯å£ï¼ˆé˜²ç«å¢™æˆ–å®‰å…¨ç»„ï¼‰ 8080\nfirewall -cmd --permanent add-port=8080/tcpfirewall -cmd --reloadfirewall -cmd --query-port=8080/tcp\n\n\n\nubuntuå®‰è£…mysql1ã€#æŸ¥çœ‹æœ‰æ²¡æœ‰å®‰è£…MySQLï¼š\ndpkg -l | grep mysql\n2ã€ å®‰è£…MySQLï¼š\nsudo apt install mysql-server\n3ã€æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸï¼š\nnetstat -tap | grep mysql\ncentoså®‰è£…mysql5.7mkdir /opt/mysqlcd /opt/mysqlwget https://dev.mysql.com/get/Downloads/MySQL-5.7/mysql-5.7.26-1.el7.x86_64.rpm-bundle.tartar -xvf mysql-5.7.26-1.el7.x86_64.rpm-bundle.tarrpm -qa|grep mari  åŸæœ¬å¯èƒ½æœ‰çš„æ•°æ®åº“ æå‰åˆ å¹²å‡€rpm -e --nodeps mariadb-libs åˆ é™¤mariç›¸å…³çš„æ‰€æœ‰rpm -e --nodeps marisarpm -ivh mysql-community-common-5.7.26-1.el7.x86_64.rpmrpm -ivh mysql-community-libs-5.7.26-1.el7.x86_64.rpmrpm -ivh mysql-community-client-5.7.26-1.el7.x86_64.rpmrpm -ivh mysql-community-server-5.7.26-1.el7.x86_64.rpm --force --nodeps  å¦‚æœå¤±è´¥ å¯èƒ½ç¼ºå°‘ä¾èµ–numactl  yum -y install libaio yum -y install numactlsystemctl start mysqld.serviceå¦‚æœæŠ¥é”™Job for mysqld.service failed because the control process exited with error code. See &quot;systemctl status mysqld.service&quot; and &quot;journalctl -xe&quot; for details.mkdir -p /var/run/mysqld/chown mysql.mysql /var/run/mysqld///ormkdir /var/lib/mysql/datavi /etc/my.cnfdatadir=/var/lib/mysql/datasystemctl status mysqld.servicegrep &quot;password&quot; /var/log/mysqld.logmysql -uroot -pALTER USER &#x27;root&#x27;@&#x27;localhost&#x27; IDENTIFIED WITH mysql_native_password BY &#x27;password&#x27;;ALTER USER &#x27;root&#x27;@&#x27;%&#x27; IDENTIFIED WITH mysql_native_password BY &#x27;password&#x27;;é…ç½®è¿œç¨‹è¿æ¥USE mysql;UPDATE mysql.user SET host = &#x27;%&#x27; WHERE user = &#x27;root&#x27;;SELECT user, host, plugin, authentication_string FROM mysql.user;FLUSH PRIVILEGES;quité…ç½®å¼€æœºå¯åŠ¨å¯åŠ¨æŸ¥çœ‹MySQLæ˜¯å¦è‡ªå¯ï¼šsystemctl is-enabled mysqldå¼€å¯è‡ªå¯ ï¼šsystemctl enable mysqldå…³é—­è‡ªå¯ ï¼šsystemctl disable mysqldsystemctl enable mysqld.service # å¼€æœºè‡ªå¯åŠ¨systemctl disable mysqld.service # ç¦ç”¨å¼€æœºè‡ªå¯åŠ¨\n\nmysqlæ‰¾å›rootå¯†ç 1. vi /etc/my.cnf2. skip-grant-tables3. service mysqld restart4. mysql -u root -p5. show databases;6. use mysql;7. show tables;8. desc user;9. update user set authentication_string=password(&quot;lijialin&quot;)  where user=&#x27;root&#x27;;  æˆ–è€…æ”¹æˆç©ºå¯†ç &#x27;&#x27;ç™»å½•ä»¥åå†ä¿®æ”¹10. flush privileges;11. exit12. vi /etc/my.cnf13. #skip-grant-tables14. service mysqld restart15. mysql -u root -p\n\nè¿æ¥mysqlmysql -u root -puse mysql;update user set host = &#x27;%&#x27; where user = &#x27;root&#x27;;FLUSH PRIVILEGES;\n\n1.ping IP æŸ¥çœ‹æ˜¯å¦å¼€æ”¾å…¬ç½‘ 2.telnet IP port æŸ¥çœ‹ç«¯å£æ˜¯å¦å¼€æ”¾ä¸Šé¢ä¸é€šç•…ç™»å½•è¿›å…¥æœåŠ¡å™¨ç™»å½•mysql rootå¦‚æœæ˜¯dockerå®‰è£…docker exec -it mysql /bin/bash  æ‰§è¡Œdockerå®¹å™¨çš„mysqlï¼Œè¿™é‡Œå®¹å™¨åæ˜¯mysqlmysql -u root -p3.use mysql;4. select host,user from user;5. grant all privileges on *.* to &#x27;root&#x27;@&#x27;%&#x27; identified by &#x27;lijialin&#x27;; //5.7 GRANT ALL PRIVILEGES ON *.* TO &#x27;root&#x27;@&#x27;%&#x27; WITH GRANT OPTION; //8.06. flush privileges;\n\nä¸€ã€æŸ¥çœ‹3306ç«¯å£æ˜¯å¦å¼€æ”¾netstat -an|grep 3306\n\nå¦‚æœçœ‹åˆ°ä¸‹å›¾è¿™æ ·çš„ï¼Œè¯´æ˜ç«¯å£å¹¶æœªæ‰“å¼€ï¼š\n\näºŒã€ä¿®æ”¹è®¿é—®æƒé™cd /etc/mysql/mysql.conf.d/sudo vim mysqld.cnf# \n\n# bind-address = 127.0.0.1\n\nCentOS â€˜mysql&#x2F;mysql.hâ€˜: No such file or directoryyum install mysql-devel\nç„¶å\nmysql_config\næŸ¥çœ‹-lmysqlclientè¿™ä¸ªåº“ åœ¨å“ªä¸ªç›®å½•\nç„¶ååªéœ€è¦æŠŠä¹‹å‰çš„ç¼–è¯‘å‘½ä»¤- lmysqlclientæ›¿æ¢æˆ -L&#x2F;usr&#x2F;lib64&#x2F;mysql -lmysqlclientï¼ˆç›®å½•ï¼‰è¿™ä¸ªå°±å¥½äº†ï¼Œå°±èƒ½ç¼–è¯‘è¿‡äº†ã€‚\næ„æ€æ˜¯ ä¸ä»é»˜è®¤çš„æ–‡ä»¶å¤¹&#x2F;usr&#x2F;libé‡Œè¾¹å–åŠ¨æ€åº“-lmysqlclientä»ç»å¯¹ç›®å½•é‡Œè¾¹å–ã€‚\næ‰€ä»¥ä¹Ÿå¯ä»¥åˆ†æå‡ºæ¥å‡ºç°è¿™ä¸ª æ‰¾ä¸åˆ°è¿™ä¸ªåº“çš„åŸå› ä¸æ˜¯ å› ä¸ºlinuxæœºå™¨ä¸Šæ²¡æœ‰è¿™ä¸ªåº“ã€‚\nè€Œæ˜¯ æ‰¾é”™äº† ä½ç½®ï¼Œå¦‚æœå«ŒåŠ ç»å¯¹ç›®å½•å¤ªéº»çƒ¦ï¼Œç›´æ¥å¤åˆ¶ä¸€ä»½åˆ°&#x2F;usr&#x2F;libä¸€ä»½å°±è¡Œäº†\ncentoså®‰è£… JDKmkdir /opt/jdkjdk-8u261-linux-x64.tar.gzä¸Šä¼ åˆ° /opt/jdk ä¸‹cd /opt/jdktar -zxvf jdk-8u261-linux-x64.tar.gzmkdir /usr/local/javamv /opt/jdk/jdk1.8.0_261 /usr/local/javavim /etc/profileexport JAVA_HOME=/usr/local/java/jdk1.8.0_261export PATH=$JAVA_HOME/bin:$PATHsource /etc/profilejava -version\n\n\n\ncentoså®‰è£…Hexocd nginxnpm install hexo-cli -ghexo init blogcd blog;npm installhexo server / hexo s\n\n\n\nubuntuå®‰è£…redisapt update\n\napt install redis-server\n\ncentoså®‰è£…redisgcc -vyum install -y gcccd /opt# ä¸‹è½½ï¼Œæˆ‘æ˜¯åœ¨rootä¸‹æ‰§è¡Œçš„ä¸‹è½½ï¼Œæ‰€ä»¥æˆ‘çš„ä¸‹è½½ç›®å½•ä¸ºï¼š/root/redis-6.2.6ï¼Œè¿™é‡ŒæŒ‰ç…§è‡ªå·±çš„å®é™…æƒ…å†µè°ƒæ•´wget https://download.redis.io/releases/redis-6.2.6.tar.gz# è§£å‹tar -zxvf redis-6.2.6.tar.gz# è¿›å…¥è§£å‹ç›®å½•cd redis-6.2.6# ç¼–è¯‘makeyum install tcl tcl-devel -ymake testmake install é€šè¿‡å®ˆæŠ¤è¿›ç¨‹æ–¹å¼å¯åŠ¨vi redis.conf# ä¿®æ”¹å†…å®¹å¦‚ä¸‹ï¼šdaemonize çš„å€¼ä» no ä¿®æ”¹æˆ yesredis-server redis.confps -ef |grep redisredis-cliè®¾ç½®å¼€æœºè‡ªåŠ¨å¯åŠ¨cd /lib/systemd/system/vi redis.serviceredis.service--------------------------------------------------------[Unit]Description=redis-serverAfter=network.target[Service]Type=forking# ExecStartéœ€è¦æŒ‰ç…§å®é™…æƒ…å†µä¿®æ”¹æˆè‡ªå·±çš„åœ°å€ExecStart=/usr/local/bin/redis-server /opt/redis-6.2.6/redis.confPrivateTmp=true[Install]WantedBy=multi-user.target--------------------------------------------------------# å¼€æœºè‡ªåŠ¨å¯åŠ¨systemctl enable redis.service# å¯åŠ¨redisæœåŠ¡systemctl start redis.service# æŸ¥çœ‹æœåŠ¡çŠ¶æ€systemctl status redis.service# åœæ­¢æœåŠ¡systemctl stop redis.service# å–æ¶ˆå¼€æœºè‡ªåŠ¨å¯åŠ¨(å¸è½½æœåŠ¡)systemctl disabled redis.service\n\n\n\nubuntuå®‰è£…webbenchsudo apt-get install exuberant-cTagswget  http://home.tiscali.cz/cz210552/distfiles/webbench-1.5.tar.gztar -zvxf webbench-1.5.tar.gzcd webbench-1.5make &amp;&amp; sudo make installwebbench --version\n\nä½¿ç”¨\nç”¨æ³•ï¼šwebbench -c 100 -t 10 http://www.iteye.com/ \nå…¶ä¸­ï¼š-cè¡¨ç¤ºå¹¶å‘æ•°ï¼Œ-tè¡¨ç¤ºæ—¶é—´(ç§’)\n æ³¨æ„urlç»“å°¾ä¸€å®šè¦åŠ ä¸Š&#x2F;\nubuntu16.04 å®‰è£…boost1.65å‚è€ƒï¼šhttps://blog.csdn.net/jiandanjinxin/article/details/65632653\n1. ä¸‹è½½æºç https://www.boost.org/users/history/version_1_65_1.html\ntar -zxvf boost_1_65_1.tar.gzcd boost_1_65_1./bootstrap.sh --with-python=PYTHON./bootstrap.sh â€“with-libraries=allä¼šç”Ÿæˆ b2å’Œbjamæ–‡ä»¶ã€‚å¯æŸ¥çœ‹ä½¿ç”¨æ–¹æ³•./bootstrap.sh -help\n\n2. ç¼–è¯‘ boostsudo ./b2 install ./b2 cxxflags=-fPIC cflags=-fPIC --c++11\n\n\n\n\n\né—®é¢˜ubuntuç³»ç»Ÿâ€œè½¯ä»¶ä¸­å¿ƒâ€é—ªé€€æˆ–è€…æ‰“ä¸å¼€è§£å†³æ–¹æ³•sudo apt-get updatesudo apt-get dist-upgradesudo apt-get install --reinstall software-center\n\n\n\nkillall: command not foundè§£å†³ï¼šcentos æ‰§è¡Œå¦‚ä¸‹å®‰è£…å‘½ä»¤ï¼š\nyum install psmisc\n\n\n\nCentOS â€˜mysql&#x2F;mysql.hâ€˜: No such file or directoryè§£å†³ï¼šyum install mysql-devel\nç„¶å\nmysql_config\næŸ¥çœ‹-lmysqlclientè¿™ä¸ªåº“ åœ¨å“ªä¸ªç›®å½•\nç„¶ååªéœ€è¦æŠŠä¹‹å‰çš„ç¼–è¯‘å‘½ä»¤- lmysqlclientæ›¿æ¢æˆ -L&#x2F;usr&#x2F;lib64&#x2F;mysql -lmysqlclientï¼ˆç›®å½•ï¼‰è¿™ä¸ªå°±å¥½äº†ï¼Œå°±èƒ½ç¼–è¯‘è¿‡äº†ã€‚\næ„æ€æ˜¯ ä¸ä»é»˜è®¤çš„æ–‡ä»¶å¤¹&#x2F;usr&#x2F;libé‡Œè¾¹å–åŠ¨æ€åº“-lmysqlclientä»ç»å¯¹ç›®å½•é‡Œè¾¹å–ã€‚\næ‰€ä»¥ä¹Ÿå¯ä»¥åˆ†æå‡ºæ¥å‡ºç°è¿™ä¸ª æ‰¾ä¸åˆ°è¿™ä¸ªåº“çš„åŸå› ä¸æ˜¯ å› ä¸ºlinuxæœºå™¨ä¸Šæ²¡æœ‰è¿™ä¸ªåº“ã€‚\nè€Œæ˜¯ æ‰¾é”™äº† ä½ç½®ï¼Œå¦‚æœå«ŒåŠ ç»å¯¹ç›®å½•å¤ªéº»çƒ¦ï¼Œç›´æ¥å¤åˆ¶ä¸€ä»½åˆ°&#x2F;usr&#x2F;libä¸€ä»½å°±è¡Œäº†\nå‘½ä»¤linuxå…±äº«å†…å­˜æŸ¥çœ‹å½“å‰å…±äº«å†…å­˜ipcs -m\nåˆ é™¤æŒ‡å®šå…±äº«å†…å­˜ipcrm -m 32575(shmid)\nè¿›ç¨‹æ“ä½œæŸ¥çœ‹è¿›ç¨‹ps -ef |grep procctl(ç¨‹åºå)\n\nå¼€æœºå¯åŠ¨è¿›ç¨‹ç”¨rootç™»å½• çœ‹çœ‹æœ‰æ²¡æœ‰è¿™ä¸ªæ–‡ä»¶ls -l /etc/rc.d/rc.localvi /etc/rc.d/rc.localéœ€è¦å¼€æœºå¯åŠ¨ä»€ä¹ˆç›´æ¥åœ¨åé¢åŠ ï¼Œä¾‹å¦‚#!/bin/bash# THIS FILE IS ADDED FOR COMPATIBILITY PURPOSES## It is highly advisable to create own systemd services or udev rules# to run scripts during boot instead of using this file.## In contrast to previous versions due to parallel execution during boot# this script will NOT be run after all other services.## Please note that you must run &#x27;chmod +x /etc/rc.d/rc.local&#x27; to ensure# that this script will be executed during boot.touch /var/lock/subsys/local#å¯åŠ¨å®ˆæŠ¤è¿›ç¨‹/project/tools1/bin/procctl 30 /project/tools1/bin/checkproc#å¯åŠ¨åå°æœåŠ¡ç¨‹åº# su -lijialin -c &quot;/bin/sh /project/idc1/c/start.sh&quot;chmod +x /etc/rc.d/rc.local\n\næ—¶é—´æ“ä½œ1ï¼‰æŸ¥çœ‹æ—¶é—´ã€‚date ï¼ˆåŠŸèƒ½æè¿°ï¼šæ˜¾ç¤ºå½“å‰æ—¶é—´ï¼‰\ndate +%Y ï¼ˆåŠŸèƒ½æè¿°ï¼šæ˜¾ç¤ºå½“å‰å¹´ä»½ï¼‰\ndate +%mï¼ˆåŠŸèƒ½æè¿°ï¼šæ˜¾ç¤ºå½“å‰æœˆä»½ï¼‰\ndate +%d ï¼ˆåŠŸèƒ½æè¿°ï¼šæ˜¾ç¤ºå½“å‰æ˜¯å“ªä¸€å¤©ï¼‰\ndate â€œ+%Y-%m-%d %H:%M:%Sâ€ï¼ˆåŠŸèƒ½æè¿°ï¼šæ˜¾ç¤ºå¹´æœˆæ—¥æ—¶åˆ†ç§’ï¼‰\n2ï¼‰è®¾ç½®æ—¶åŒºä¸ºä¸­å›½ä¸Šæµ·æ—¶é—´ï¼ˆæ³¨æ„ä¸æ˜¯åŒ—äº¬æ—¶é—´ï¼‰ã€‚cp &#x2F;usr&#x2F;share&#x2F;zoneinfo&#x2F;Asia&#x2F;Shanghai &#x2F;etc&#x2F;localtime\n3ï¼‰è®¾ç½®æ—¶é—´ã€‚date -s â€œyyyy-mm-dd hh:mi:ssâ€\n4ï¼‰cal æŒ‡ä»¤æŸ¥çœ‹æ—¥å†æŒ‡ä»¤ cal\ncal [é€‰é¡¹] ï¼ˆåŠŸèƒ½æè¿°ï¼šä¸åŠ é€‰é¡¹ï¼Œæ˜¾ç¤ºæœ¬æœˆæ—¥å†ï¼‰\næ¡ˆä¾‹ 1: æ˜¾ç¤ºå½“å‰æ—¥å† cal\næ¡ˆä¾‹ 2: æ˜¾ç¤º 2020 å¹´æ—¥å† : cal 2020\né‡å¯å’Œå…³æœº1ï¼‰é‡å¯\ninit 6 æˆ– reboot\n2ï¼‰å…³æœº\ninit 0 æˆ– halt\næ¸…å±clear\næŸ¥çœ‹æœåŠ¡å™¨çš„ipåœ°å€ip addr\næŸ¥çœ‹å½“å‰å·¥ä½œç›®å½•pwd\næ”¹å˜å½“å‰å·¥ä½œç›®å½•cd ç›®å½•å\nåˆ—å‡ºç›®å½•å’Œæ–‡ä»¶ä¿¡æ¯ls -lt ç›®å½•æˆ–æ–‡ä»¶å\næ­£åˆ™è¡¨è¾¾å¼\nls &#x2F;tmp&#x2F;exp*.dmp\nåˆ›å»ºç›®å½•æ–‡ä»¶mkdir ç›®å½•åtouch æ–‡ä»¶å\nåˆ é™¤ç›®å½•å’Œæ–‡ä»¶rm -rf ç›®å½•æˆ–æ–‡ä»¶åˆ—è¡¨\nrm -f .*.*.swp\n\nç§»åŠ¨ç›®å½•å’Œæ–‡ä»¶mv æ—§ç›®å½•æˆ–æ–‡ä»¶å æ–°ç›®å½•æˆ–æ–‡ä»¶å\nå¤åˆ¶ç›®å½•å’Œæ–‡ä»¶cp -r æ—§ç›®å½•æˆ–æ–‡ä»¶å æ–°ç›®å½•æˆ–æ–‡ä»¶å\nåˆ¤æ–­ç½‘ç»œæ˜¯å¦è¿é€šWindowsç³»ç»Ÿï¼š\nping -n åŒ…çš„ä¸ªæ•° ipåœ°å€æˆ–åŸŸå\nLinuxç³»ç»Ÿï¼š\nping -c åŒ…çš„ä¸ªæ•° ipåœ°å€æˆ–åŸŸå\nç”¨æˆ·ç®¡ç†æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯id ç”¨æˆ·åwhoami&#x2F;who am I\nç”¨æˆ·å’Œç»„ç›¸å…³æ–‡ä»¶\n&#x2F;etc&#x2F;passwd æ–‡ä»¶ç”¨æˆ·ï¼ˆuserï¼‰çš„é…ç½®æ–‡ä»¶ï¼Œè®°å½•ç”¨æˆ·çš„å„ç§ä¿¡æ¯æ¯è¡Œçš„å«ä¹‰ï¼šç”¨æˆ·å:å£ä»¤:ç”¨æˆ·æ ‡è¯†å·:ç»„æ ‡è¯†å·:æ³¨é‡Šæ€§æè¿°:ä¸»ç›®å½•:ç™»å½• Shell\n\n&#x2F;etc&#x2F;shadow æ–‡ä»¶å£ä»¤çš„é…ç½®æ–‡ä»¶æ¯è¡Œçš„å«ä¹‰ï¼šç™»å½•å:åŠ å¯†å£ä»¤:æœ€åä¸€æ¬¡ä¿®æ”¹æ—¶é—´:æœ€å°æ—¶é—´é—´éš”:æœ€å¤§æ—¶é—´é—´éš”:è­¦å‘Šæ—¶é—´:ä¸æ´»åŠ¨æ—¶é—´:å¤±æ•ˆæ—¶é—´:æ ‡å¿—\n\n&#x2F;etc&#x2F;group æ–‡ä»¶ç»„(group)çš„é…ç½®æ–‡ä»¶ï¼Œè®°å½• Linux åŒ…å«çš„ç»„çš„ä¿¡æ¯æ¯è¡Œå«ä¹‰ï¼šç»„å:å£ä»¤:ç»„æ ‡è¯†å·:ç»„å†…ç”¨æˆ·åˆ—è¡¨\n\n\nå¢åŠ &#x2F;åˆ é™¤ç”¨æˆ·ç»„1ï¼‰å¢åŠ ç”¨æˆ·ç»„\ngroupadd ç»„å\n2ï¼‰åˆ é™¤ç”¨æˆ·ç»„\ngroupdel ç»„å\nå¢åŠ &#x2F;åˆ é™¤ç”¨æˆ·1ï¼‰å¢åŠ ç”¨æˆ·\nuseradd ç”¨æˆ·åuseradd -d æŒ‡å®šç›®å½• ç”¨æˆ·åuseradd -g ç”¨æˆ·ç»„ ç”¨æˆ·åpasswd ç”¨æˆ·å\nuseradd -n ç”¨æˆ·å -g ç»„å -d ç”¨æˆ·çš„ä¸»ç›®å½•\n2ï¼‰åˆ é™¤ç”¨æˆ·\n&#x2F;&#x2F;ä¿ç•™ç”¨æˆ·ä¸»ç›®å½•userdel ç”¨æˆ·å&#x2F;&#x2F;åˆ é™¤ç”¨æˆ·ä»¥åŠä¸»ç›®å½•userdel -r ç”¨æˆ·å\nuserdel ç”¨æˆ·å\nä¿®æ”¹ç”¨æˆ·çš„ç»„usermod â€“g ç”¨æˆ·ç»„ ç”¨æˆ·å\nä¿®æ”¹ç”¨æˆ·çš„å¯†ç passwd ç”¨æˆ·å\nåˆ‡æ¢ç”¨æˆ·su - ç”¨æˆ·å\nexit&#x2F;logout\nä»rootç”¨æˆ·åˆ‡æ¢åˆ°å…¶å®ƒæ™®é€šç”¨æˆ·ä¸éœ€è¦è¾“å…¥å¯†ç \nä¿®æ”¹ç›®å½•å’Œæ–‡ä»¶çš„ä¸»äººå’Œç»„chown [-R] ç”¨æˆ·å:ç»„å ç›®å½•æˆ–æ–‡ä»¶ååˆ—è¡¨\n-R é€‰é¡¹è¡¨ç¤ºå¤„ç†å„åŠå­ç›®å½•ã€‚\n1ï¼‰æŠŠ&#x2F;oracle&#x2F;homeå’Œ&#x2F;oracle&#x2F;baseåŠå…¶å­ç›®å½•çš„ä¸»äººæ”¹ä¸ºoracleï¼Œç»„æ”¹ä¸ºdbaã€‚\nchown -R oracle:dba &#x2F;oracle&#x2F;home &#x2F;oracle&#x2F;base\næŸ¥çœ‹ç³»ç»Ÿç£ç›˜ç©ºé—´df [-h] [-T]\n-h ä»¥æ–¹ä¾¿é˜…è¯»çš„æ–¹å¼æ˜¾ç¤ºä¿¡æ¯ã€‚\n-T åˆ—å‡ºæ–‡ä»¶ç³»ç»Ÿç±»å‹ã€‚\necho æŒ‡ä»¤echo è¾“å‡ºå†…å®¹åˆ°æ§åˆ¶å°\n\nåŸºæœ¬è¯­æ³•\n\necho [é€‰é¡¹] [è¾“å‡ºå†…å®¹]\nå¼€å‘publicæ¡†æ¶:å¿ƒè·³ç¨‹åº-æ¡†æ¶ä¸­çš„å¿ƒè·³ç±»_public.h// ä¿¡å·é‡ã€‚class CSEM&#123;private:  union semun  // ç”¨äºä¿¡å·é‡æ“ä½œçš„å…±åŒä½“ã€‚  &#123;    int val;    struct semid_ds *buf;    unsigned short  *arry;  &#125;;  int   m_semid;         // ä¿¡å·é‡æè¿°ç¬¦ã€‚  // å¦‚æœæŠŠsem_flgè®¾ç½®ä¸ºSEM_UNDOï¼Œæ“ä½œç³»ç»Ÿå°†è·Ÿè¸ªè¿›ç¨‹å¯¹ä¿¡å·é‡çš„ä¿®æ”¹æƒ…å†µï¼Œ  // åœ¨å…¨éƒ¨ä¿®æ”¹è¿‡ä¿¡å·é‡çš„è¿›ç¨‹ï¼ˆæ­£å¸¸æˆ–å¼‚å¸¸ï¼‰ç»ˆæ­¢åï¼Œæ“ä½œç³»ç»Ÿå°†æŠŠä¿¡å·é‡æ¢  // å¤ä¸ºåˆå§‹å€¼ï¼ˆå°±åƒæ’¤æ¶ˆäº†å…¨éƒ¨è¿›ç¨‹å¯¹ä¿¡å·çš„æ“ä½œï¼‰ã€‚  // å¦‚æœä¿¡å·é‡ç”¨äºè¡¨ç¤ºå¯ç”¨èµ„æºçš„æ•°é‡ï¼ˆä¸å˜çš„ï¼‰ï¼Œè®¾ç½®ä¸ºSEM_UNDOæ›´åˆé€‚ã€‚  // å¦‚æœä¿¡å·é‡ç”¨äºç”Ÿäº§æ¶ˆè´¹è€…æ¨¡å‹ï¼Œè®¾ç½®ä¸º0æ›´åˆé€‚ã€‚  // æ³¨æ„ï¼Œç½‘ä¸ŠæŸ¥åˆ°çš„å…³äºsem_flgçš„ç”¨æ³•åŸºæœ¬ä¸Šæ˜¯é”™çš„ï¼Œä¸€å®šè¦è‡ªå·±åŠ¨æ‰‹å¤šæµ‹è¯•ã€‚  short m_sem_flg;public:  CSEM();  // å¦‚æœä¿¡å·é‡å·²å­˜åœ¨ï¼Œè·å–ä¿¡å·é‡ï¼›å¦‚æœä¿¡å·é‡ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºå®ƒå¹¶åˆå§‹åŒ–ä¸ºvalueã€‚  bool init(key_t key,unsigned short value=1,short sem_flg=SEM_UNDO);   bool P(short sem_op=-1); // ä¿¡å·é‡çš„Pæ“ä½œã€‚  bool V(short sem_op=1);  // ä¿¡å·é‡çš„Væ“ä½œã€‚  int  value();            // è·å–ä¿¡å·é‡çš„å€¼ï¼ŒæˆåŠŸè¿”å›ä¿¡å·é‡çš„å€¼ï¼Œå¤±è´¥è¿”å›-1ã€‚  bool destroy();          // é”€æ¯ä¿¡å·é‡ã€‚ ~CSEM();&#125;;// è¿›ç¨‹å¿ƒè·³ä¿¡æ¯çš„ç»“æ„ä½“ã€‚struct st_procinfo&#123;  int    pid;         // è¿›ç¨‹idã€‚  char   pname[51];   // è¿›ç¨‹åç§°ï¼Œå¯ä»¥ä¸ºç©ºã€‚  int    timeout;     // è¶…æ—¶æ—¶é—´ï¼Œå•ä½ï¼šç§’ã€‚  time_t atime;       // æœ€åä¸€æ¬¡å¿ƒè·³çš„æ—¶é—´ï¼Œç”¨æ•´æ•°è¡¨ç¤ºã€‚&#125;;#define MAXNUMP     1000    // æœ€å¤§çš„è¿›ç¨‹æ•°é‡ã€‚#define SHMKEYP   0x5095    // å…±äº«å†…å­˜çš„keyã€‚#define SEMKEYP   0x5095    // ä¿¡å·é‡çš„keyã€‚// æŸ¥çœ‹å…±äº«å†…å­˜ï¼š  ipcs -m// åˆ é™¤å…±äº«å†…å­˜ï¼š  ipcrm -m shmid// æŸ¥çœ‹ä¿¡å·é‡ï¼š    ipcs -s// åˆ é™¤ä¿¡å·é‡ï¼š    ipcrm sem semid// è¿›ç¨‹å¿ƒè·³æ“ä½œç±»ã€‚class CPActive&#123;private:  CSEM m_sem;                 // ç”¨äºç»™å…±äº«å†…å­˜åŠ é”çš„ä¿¡å·é‡idã€‚  int  m_shmid;               // å…±äº«å†…å­˜çš„idã€‚  int  m_pos;                 // å½“å‰è¿›ç¨‹åœ¨å…±äº«å†…å­˜è¿›ç¨‹ç»„ä¸­çš„ä½ç½®ã€‚  st_procinfo *m_shm;         // æŒ‡å‘å…±äº«å†…å­˜çš„åœ°å€ç©ºé—´ã€‚public:  CPActive();  // åˆå§‹åŒ–æˆå‘˜å˜é‡ã€‚  // æŠŠå½“å‰è¿›ç¨‹çš„å¿ƒè·³ä¿¡æ¯åŠ å…¥å…±äº«å†…å­˜è¿›ç¨‹ç»„ä¸­ã€‚  bool AddPInfo(const int timeout,const char *pname=0,CLogFile *logfile=0);  // æ›´æ–°å…±äº«å†…å­˜è¿›ç¨‹ç»„ä¸­å½“å‰è¿›ç¨‹çš„å¿ƒè·³æ—¶é—´ã€‚  bool UptATime();  ~CPActive();  // ä»å…±äº«å†…å­˜ä¸­åˆ é™¤å½“å‰è¿›ç¨‹çš„å¿ƒè·³è®°å½•ã€‚&#125;;\n\n_public.cppCSEM::CSEM()&#123;  m_semid=-1;  m_sem_flg=SEM_UNDO;&#125;// å¦‚æœä¿¡å·é‡å·²å­˜åœ¨ï¼Œè·å–ä¿¡å·é‡ï¼›å¦‚æœä¿¡å·é‡ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºå®ƒå¹¶åˆå§‹åŒ–ä¸ºvalueã€‚bool CSEM::init(key_t key,unsigned short value,short sem_flg)&#123;  if (m_semid!=-1) return false;  m_sem_flg=sem_flg;  // ä¿¡å·é‡çš„åˆå§‹åŒ–ä¸èƒ½ç›´æ¥ç”¨semget(key,1,0666|IPC_CREAT)ï¼Œå› ä¸ºä¿¡å·é‡åˆ›å»ºåï¼Œåˆå§‹å€¼æ˜¯0ã€‚  // ä¿¡å·é‡çš„åˆå§‹åŒ–åˆ†ä¸‰ä¸ªæ­¥éª¤ï¼š  // 1ï¼‰è·å–ä¿¡å·é‡ï¼Œå¦‚æœæˆåŠŸï¼Œå‡½æ•°è¿”å›ã€‚  // 2ï¼‰å¦‚æœå¤±è´¥ï¼Œåˆ™åˆ›å»ºä¿¡å·é‡ã€‚  // 3) è®¾ç½®ä¿¡å·é‡çš„åˆå§‹å€¼ã€‚  // è·å–ä¿¡å·é‡ã€‚  if ( (m_semid=semget(key,1,0666)) == -1)  &#123;    // å¦‚æœä¿¡å·é‡ä¸å­˜åœ¨ï¼Œåˆ›å»ºå®ƒã€‚    if (errno==2)    &#123;      // ç”¨IPC_EXCLæ ‡å¿—ç¡®ä¿åªæœ‰ä¸€ä¸ªè¿›ç¨‹åˆ›å»ºå¹¶åˆå§‹åŒ–ä¿¡å·é‡ï¼Œå…¶å®ƒè¿›ç¨‹åªèƒ½è·å–ã€‚      if ( (m_semid=semget(key,1,0666|IPC_CREAT|IPC_EXCL)) == -1)      &#123;        if (errno!=EEXIST)        &#123;          perror(&quot;init 1 semget()&quot;); return false;        &#125;        if ( (m_semid=semget(key,1,0666)) == -1)        &#123; perror(&quot;init 2 semget()&quot;); return false; &#125;            return true;      &#125;      // ä¿¡å·é‡åˆ›å»ºæˆåŠŸåï¼Œè¿˜éœ€è¦æŠŠå®ƒåˆå§‹åŒ–æˆvalueã€‚      union semun sem_union;      sem_union.val = value;   // è®¾ç½®ä¿¡å·é‡çš„åˆå§‹å€¼ã€‚      if (semctl(m_semid,0,SETVAL,sem_union) &lt;  0) &#123; perror(&quot;init semctl()&quot;); return false; &#125;    &#125;    else    &#123; perror(&quot;init 3 semget()&quot;); return false; &#125;  &#125;  return true;&#125;bool CSEM::P(short sem_op)&#123;  if (m_semid==-1) return false;  struct sembuf sem_b;  sem_b.sem_num = 0;      // ä¿¡å·é‡ç¼–å·ï¼Œ0ä»£è¡¨ç¬¬ä¸€ä¸ªä¿¡å·é‡ã€‚  sem_b.sem_op = sem_op;  // Pæ“ä½œçš„sem_opå¿…é¡»å°äº0ã€‚  sem_b.sem_flg = m_sem_flg;     if (semop(m_semid,&amp;sem_b,1) == -1) &#123; perror(&quot;p semop()&quot;); return false; &#125;  return true;&#125;bool CSEM::V(short sem_op)&#123;  if (m_semid==-1) return false;  struct sembuf sem_b;  sem_b.sem_num = 0;      // ä¿¡å·é‡ç¼–å·ï¼Œ0ä»£è¡¨ç¬¬ä¸€ä¸ªä¿¡å·é‡ã€‚  sem_b.sem_op = sem_op;  // Væ“ä½œçš„sem_opå¿…é¡»å¤§äº0ã€‚  sem_b.sem_flg = m_sem_flg;  if (semop(m_semid,&amp;sem_b,1) == -1) &#123; perror(&quot;V semop()&quot;); return false; &#125;  return true;&#125;// è·å–ä¿¡å·é‡çš„å€¼ï¼ŒæˆåŠŸè¿”å›ä¿¡å·é‡çš„å€¼ï¼Œå¤±è´¥è¿”å›-1ã€‚int CSEM::value()&#123;  return semctl(m_semid,0,GETVAL);&#125;bool CSEM::destroy()&#123;  if (m_semid==-1) return false;  if (semctl(m_semid,0,IPC_RMID) == -1) &#123; perror(&quot;destroy semctl()&quot;); return false; &#125;  return true;&#125;CSEM::~CSEM()&#123;&#125;CPActive::CPActive()&#123;  m_shmid=0;  m_pos=-1;  m_shm=0;&#125;// æŠŠå½“å‰è¿›ç¨‹çš„å¿ƒè·³ä¿¡æ¯åŠ å…¥å…±äº«å†…å­˜è¿›ç¨‹ç»„ä¸­ã€‚bool CPActive::AddPInfo(const int timeout,const char *pname,CLogFile *logfile)&#123;  if (m_pos!=-1) return true;  if (m_sem.init(SEMKEYP) == false)  // åˆå§‹åŒ–ä¿¡å·é‡ã€‚  &#123;    if (logfile!=0) logfile-&gt;Write(&quot;åˆ›å»º/è·å–ä¿¡å·é‡(%x)å¤±è´¥ã€‚\\n&quot;,SEMKEYP);     else printf(&quot;åˆ›å»º/è·å–ä¿¡å·é‡(%x)å¤±è´¥ã€‚\\n&quot;,SEMKEYP);    return false;  &#125;  // åˆ›å»º/è·å–å…±äº«å†…å­˜ï¼Œé”®å€¼ä¸ºSHMKEYPï¼Œå¤§å°ä¸ºMAXNUMPä¸ªst_procinfoç»“æ„ä½“çš„å¤§å°ã€‚  if ( (m_shmid = shmget((key_t)SHMKEYP, MAXNUMP*sizeof(struct st_procinfo), 0666|IPC_CREAT)) == -1)  &#123;     if (logfile!=0) logfile-&gt;Write(&quot;åˆ›å»º/è·å–å…±äº«å†…å­˜(%x)å¤±è´¥ã€‚\\n&quot;,SHMKEYP);     else printf(&quot;åˆ›å»º/è·å–å…±äº«å†…å­˜(%x)å¤±è´¥ã€‚\\n&quot;,SHMKEYP);    return false;   &#125;  // å°†å…±äº«å†…å­˜è¿æ¥åˆ°å½“å‰è¿›ç¨‹çš„åœ°å€ç©ºé—´ã€‚  m_shm=(struct st_procinfo *)shmat(m_shmid, 0, 0);    struct st_procinfo stprocinfo;    // å½“å‰è¿›ç¨‹å¿ƒè·³ä¿¡æ¯çš„ç»“æ„ä½“ã€‚  memset(&amp;stprocinfo,0,sizeof(stprocinfo));  stprocinfo.pid=getpid();            // å½“å‰è¿›ç¨‹å·ã€‚  stprocinfo.timeout=timeout;         // è¶…æ—¶æ—¶é—´ã€‚  stprocinfo.atime=time(0);           // å½“å‰æ—¶é—´ã€‚  STRNCPY(stprocinfo.pname,sizeof(stprocinfo.pname),pname,50); // è¿›ç¨‹åã€‚  // è¿›ç¨‹idæ˜¯å¾ªç¯ä½¿ç”¨çš„ï¼Œå¦‚æœæ›¾ç»æœ‰ä¸€ä¸ªè¿›ç¨‹å¼‚å¸¸é€€å‡ºï¼Œæ²¡æœ‰æ¸…ç†è‡ªå·±çš„å¿ƒè·³ä¿¡æ¯ï¼Œ  // å®ƒçš„è¿›ç¨‹ä¿¡æ¯å°†æ®‹ç•™åœ¨å…±äº«å†…å­˜ä¸­ï¼Œä¸å·§çš„æ˜¯ï¼Œå½“å‰è¿›ç¨‹é‡ç”¨äº†ä¸Šè¿°è¿›ç¨‹çš„idï¼Œ  // è¿™æ ·å°±ä¼šåœ¨å…±äº«å†…å­˜ä¸­å­˜åœ¨ä¸¤ä¸ªè¿›ç¨‹idç›¸åŒçš„è®°å½•ï¼Œå®ˆæŠ¤è¿›ç¨‹æ£€æŸ¥åˆ°æ®‹ç•™è¿›ç¨‹çš„  // å¿ƒè·³æ—¶ï¼Œä¼šå‘è¿›ç¨‹idå‘é€é€€å‡ºä¿¡å·ï¼Œè¿™ä¸ªä¿¡å·å°†è¯¯æ€å½“å‰è¿›ç¨‹ã€‚  // å¦‚æœå…±äº«å†…å­˜ä¸­å­˜åœ¨å½“å‰è¿›ç¨‹ç¼–å·ï¼Œä¸€å®šæ˜¯å…¶å®ƒè¿›ç¨‹æ®‹ç•™çš„æ•°æ®ï¼Œå½“å‰è¿›ç¨‹å°±é‡ç”¨è¯¥ä½ç½®ã€‚  for (int ii=0;ii&lt;MAXNUMP;ii++)  &#123;    if ( (m_shm+ii)-&gt;pid==stprocinfo.pid ) &#123; m_pos=ii; break; &#125;  &#125;  m_sem.P();  // ç»™å…±äº«å†…å­˜ä¸Šé”ã€‚  if (m_pos==-1)  &#123;    // å¦‚æœm_pos==-1ï¼Œå…±äº«å†…å­˜çš„è¿›ç¨‹ç»„ä¸­ä¸å­˜åœ¨å½“å‰è¿›ç¨‹ç¼–å·ï¼Œæ‰¾ä¸€ä¸ªç©ºä½ç½®ã€‚    for (int ii=0;ii&lt;MAXNUMP;ii++)      if ( (m_shm+ii)-&gt;pid==0 ) &#123; m_pos=ii; break; &#125;  &#125;  if (m_pos==-1)   &#123;     if (logfile!=0) logfile-&gt;Write(&quot;å…±äº«å†…å­˜ç©ºé—´å·²ç”¨å®Œã€‚\\n&quot;);    else printf(&quot;å…±äº«å†…å­˜ç©ºé—´å·²ç”¨å®Œã€‚\\n&quot;);    m_sem.V();  // è§£é”ã€‚    return false;   &#125;  // æŠŠå½“å‰è¿›ç¨‹çš„å¿ƒè·³ä¿¡æ¯å­˜å…¥å…±äº«å†…å­˜çš„è¿›ç¨‹ç»„ä¸­ã€‚  memcpy(m_shm+m_pos,&amp;stprocinfo,sizeof(struct st_procinfo));   m_sem.V();   // è§£é”ã€‚  return true;&#125;// æ›´æ–°å…±äº«å†…å­˜è¿›ç¨‹ç»„ä¸­å½“å‰è¿›ç¨‹çš„å¿ƒè·³æ—¶é—´ã€‚bool CPActive::UptATime()&#123;  if (m_pos==-1) return false;  (m_shm+m_pos)-&gt;atime=time(0);  return true;&#125;CPActive::~CPActive()&#123;  // æŠŠå½“å‰è¿›ç¨‹ä»å…±äº«å†…å­˜çš„è¿›ç¨‹ç»„ä¸­ç§»å»ã€‚  if (m_pos!=-1) memset(m_shm+m_pos,0,sizeof(struct st_procinfo));  // æŠŠå…±äº«å†…å­˜ä»å½“å‰è¿›ç¨‹ä¸­åˆ†ç¦»ã€‚  if (m_shm!=0) shmdt(m_shm);&#125;\n\n\n\nè°ƒåº¦ç¨‹åºprocctl.cpp\n#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;#include &lt;string.h&gt;#include &lt;unistd.h&gt;#include &lt;sys/types.h&gt;#include &lt;sys/wait.h&gt;int main(int argc,char *argv[])&#123;  if (argc&lt;3)  &#123;    printf(&quot;Using:./procctl timetvl program argv ...\\n&quot;);    printf(&quot;Example:/project/tools1/bin/procctl 5 /usr/bin/tar zcvf /tmp/tmp.tgz /usr/include\\n\\n&quot;);    printf(&quot;æœ¬ç¨‹åºæ˜¯æœåŠ¡ç¨‹åºçš„è°ƒåº¦ç¨‹åºï¼Œå‘¨æœŸæ€§å¯åŠ¨æœåŠ¡ç¨‹åºæˆ–shellè„šæœ¬ã€‚\\n&quot;);    printf(&quot;timetvl è¿è¡Œå‘¨æœŸï¼Œå•ä½ï¼šç§’ã€‚è¢«è°ƒåº¦çš„ç¨‹åºè¿è¡Œç»“æŸåï¼Œåœ¨timetvlç§’åä¼šè¢«procctlé‡æ–°å¯åŠ¨ã€‚\\n&quot;);    printf(&quot;program è¢«è°ƒåº¦çš„ç¨‹åºåï¼Œå¿…é¡»ä½¿ç”¨å…¨è·¯å¾„ã€‚\\n&quot;);    printf(&quot;argvs   è¢«è°ƒåº¦çš„ç¨‹åºçš„å‚æ•°ã€‚\\n&quot;);    printf(&quot;æ³¨æ„ï¼Œæœ¬ç¨‹åºä¸ä¼šè¢«killæ€æ­»ï¼Œä½†å¯ä»¥ç”¨kill -9å¼ºè¡Œæ€æ­»ã€‚\\n\\n\\n&quot;);    return -1;  &#125;  // å…³é—­ä¿¡å·å’ŒIOï¼Œæœ¬ç¨‹åºä¸å¸Œæœ›è¢«æ‰“æ‰°ã€‚  for (int ii=0;ii&lt;64;ii++)  &#123;    signal(ii,SIG_IGN); close(ii);  &#125;  // ç”Ÿæˆå­è¿›ç¨‹ï¼Œçˆ¶è¿›ç¨‹é€€å‡ºï¼Œè®©ç¨‹åºè¿è¡Œåœ¨åå°ï¼Œç”±ç³»ç»Ÿ1å·è¿›ç¨‹æ‰˜ç®¡ã€‚  if (fork()!=0) exit(0);  // å¯ç”¨SIGCHLDä¿¡å·ï¼Œè®©çˆ¶è¿›ç¨‹å¯ä»¥waitå­è¿›ç¨‹é€€å‡ºçš„çŠ¶æ€ã€‚  signal(SIGCHLD,SIG_DFL);  char *pargv[argc];  for (int ii=2;ii&lt;argc;ii++)    pargv[ii-2]=argv[ii];  pargv[argc-2]=NULL;  while (true)  &#123;    if (fork()==0)    &#123;      execv(argv[2],pargv);      exit(0);    &#125;    else    &#123;      int status;      wait(&amp;status);      sleep(atoi(argv[1]));    &#125;  &#125;&#125;\n\nç¼–è¯‘æ–‡ä»¶makefile\nall: procctl procctl:procctl.cpp\tg++ -o procctl procctl.cpp\tcp procctl ../bin/.clean:\trm -f procctl \n\n\n\nå®ˆæŠ¤è¿›ç¨‹ç¨‹åºcheckproc.cpp\n#include &quot;_public.h&quot;// ç¨‹åºè¿è¡Œçš„æ—¥å¿—ã€‚CLogFile logfile;int main(int argc,char *argv[])&#123;  // ç¨‹åºçš„å¸®åŠ©ã€‚  if (argc != 2)  &#123;    printf(&quot;\\n&quot;);    printf(&quot;Using:./checkproc logfilename\\n&quot;);    printf(&quot;Example:/project/tools1/bin/procctl 10 /project/tools1/bin/checkproc /tmp/log/checkproc.log\\n\\n&quot;);    printf(&quot;æœ¬ç¨‹åºç”¨äºæ£€æŸ¥åå°æœåŠ¡ç¨‹åºæ˜¯å¦è¶…æ—¶ï¼Œå¦‚æœå·²è¶…æ—¶ï¼Œå°±ç»ˆæ­¢å®ƒã€‚\\n&quot;);    printf(&quot;æ³¨æ„ï¼š\\n&quot;);    printf(&quot;  1ï¼‰æœ¬ç¨‹åºç”±procctlå¯åŠ¨ï¼Œè¿è¡Œå‘¨æœŸå»ºè®®ä¸º10ç§’ã€‚\\n&quot;);    printf(&quot;  2ï¼‰ä¸ºäº†é¿å…è¢«æ™®é€šç”¨æˆ·è¯¯æ€ï¼Œæœ¬ç¨‹åºåº”è¯¥ç”¨rootç”¨æˆ·å¯åŠ¨ã€‚\\n&quot;);    printf(&quot;  3ï¼‰å¦‚æœè¦åœæ­¢æœ¬ç¨‹åºï¼Œåªèƒ½ç”¨killall -9 ç»ˆæ­¢ã€‚\\n\\n\\n&quot;);    return 0;  &#125;  // å¿½ç•¥å…¨éƒ¨çš„ä¿¡å·å’ŒIOï¼Œä¸å¸Œæœ›ç¨‹åºè¢«å¹²æ‰°ã€‚  CloseIOAndSignal(true);  // æ‰“å¼€æ—¥å¿—æ–‡ä»¶ã€‚  if (logfile.Open(argv[1],&quot;a+&quot;)==false)  &#123; printf(&quot;logfile.Open(%s) failed.\\n&quot;,argv[1]); return -1; &#125;  int shmid=0;  // åˆ›å»º/è·å–å…±äº«å†…å­˜ï¼Œé”®å€¼ä¸ºSHMKEYPï¼Œå¤§å°ä¸ºMAXNUMPä¸ªst_procinfoç»“æ„ä½“çš„å¤§å°ã€‚  if ( (shmid = shmget((key_t)SHMKEYP, MAXNUMP*sizeof(struct st_procinfo), 0666|IPC_CREAT)) == -1)  &#123;    logfile.Write(&quot;åˆ›å»º/è·å–å…±äº«å†…å­˜(%x)å¤±è´¥ã€‚\\n&quot;,SHMKEYP); return false;  &#125;  // å°†å…±äº«å†…å­˜è¿æ¥åˆ°å½“å‰è¿›ç¨‹çš„åœ°å€ç©ºé—´ã€‚  struct st_procinfo *shm=(struct st_procinfo *)shmat(shmid, 0, 0);  // éå†å…±äº«å†…å­˜ä¸­å…¨éƒ¨çš„è®°å½•ã€‚  for (int ii=0;ii&lt;MAXNUMP;ii++)  &#123;    // å¦‚æœè®°å½•çš„pid==0ï¼Œè¡¨ç¤ºç©ºè®°å½•ï¼Œcontinue;    if (shm[ii].pid==0) continue;    // å¦‚æœè®°å½•çš„pid!=0ï¼Œè¡¨ç¤ºæ˜¯æœåŠ¡ç¨‹åºçš„å¿ƒè·³è®°å½•ã€‚    // ç¨‹åºç¨³å®šè¿è¡Œåï¼Œä»¥ä¸‹ä¸¤è¡Œä»£ç å¯ä»¥æ³¨é‡Šæ‰ã€‚    //logfile.Write(&quot;ii=%d,pid=%d,pname=%s,timeout=%d,atime=%d\\n&quot;,\\    //               ii,shm[ii].pid,shm[ii].pname,shm[ii].timeout,shm[ii].atime);    // å‘è¿›ç¨‹å‘é€ä¿¡å·0ï¼Œåˆ¤æ–­å®ƒæ˜¯å¦è¿˜å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œä»å…±äº«å†…å­˜ä¸­åˆ é™¤è¯¥è®°å½•ï¼Œcontinue;    int iret=kill(shm[ii].pid,0);    if (iret==-1)    &#123;      logfile.Write(&quot;è¿›ç¨‹pid=%d(%s)å·²ç»ä¸å­˜åœ¨ã€‚\\n&quot;,(shm+ii)-&gt;pid,(shm+ii)-&gt;pname);      memset(shm+ii,0,sizeof(struct st_procinfo)); // ä»å…±äº«å†…å­˜ä¸­åˆ é™¤è¯¥è®°å½•ã€‚      continue;    &#125;    time_t now=time(0);   // å–å½“å‰æ—¶é—´ã€‚    // å¦‚æœè¿›ç¨‹æœªè¶…æ—¶ï¼Œcontinue;    if (now-shm[ii].atime&lt;shm[ii].timeout) continue;    // å¦‚æœå·²è¶…æ—¶ã€‚    logfile.Write(&quot;è¿›ç¨‹pid=%d(%s)å·²ç»è¶…æ—¶ã€‚\\n&quot;,(shm+ii)-&gt;pid,(shm+ii)-&gt;pname);    // å‘é€ä¿¡å·15ï¼Œå°è¯•æ­£å¸¸ç»ˆæ­¢è¿›ç¨‹ã€‚    kill(shm[ii].pid,15);         // æ¯éš”1ç§’åˆ¤æ–­ä¸€æ¬¡è¿›ç¨‹æ˜¯å¦å­˜åœ¨ï¼Œç´¯è®¡5ç§’ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œ5ç§’çš„æ—¶é—´è¶³å¤Ÿè®©è¿›ç¨‹é€€å‡ºã€‚    for (int jj=0;jj&lt;5;jj++)    &#123;      sleep(1);      iret=kill(shm[ii].pid,0);     // å‘è¿›ç¨‹å‘é€ä¿¡å·0ï¼Œåˆ¤æ–­å®ƒæ˜¯å¦è¿˜å­˜åœ¨ã€‚      if (iret==-1) break;     // è¿›ç¨‹å·²é€€å‡ºã€‚    &#125;     // å¦‚æœè¿›ç¨‹ä»å­˜åœ¨ï¼Œå°±å‘é€ä¿¡å·9ï¼Œå¼ºåˆ¶ç»ˆæ­¢å®ƒã€‚    if (iret==-1)      logfile.Write(&quot;è¿›ç¨‹pid=%d(%s)å·²ç»æ­£å¸¸ç»ˆæ­¢ã€‚\\n&quot;,(shm+ii)-&gt;pid,(shm+ii)-&gt;pname);    else    &#123;      kill(shm[ii].pid,9);  // å¦‚æœè¿›ç¨‹ä»å­˜åœ¨ï¼Œå°±å‘é€ä¿¡å·9ï¼Œå¼ºåˆ¶ç»ˆæ­¢å®ƒã€‚      logfile.Write(&quot;è¿›ç¨‹pid=%d(%s)å·²ç»å¼ºåˆ¶ç»ˆæ­¢ã€‚\\n&quot;,(shm+ii)-&gt;pid,(shm+ii)-&gt;pname);    &#125;        // ä»å…±äº«å†…å­˜ä¸­åˆ é™¤å·²è¶…æ—¶è¿›ç¨‹çš„å¿ƒè·³è®°å½•ã€‚    memset(shm+ii,0,sizeof(struct st_procinfo)); // ä»å…±äº«å†…å­˜ä¸­åˆ é™¤è¯¥è®°å½•ã€‚  &#125;  // æŠŠå…±äº«å†…å­˜ä»å½“å‰è¿›ç¨‹ä¸­åˆ†ç¦»ã€‚  shmdt(shm);  return 0;&#125;\n\nç¼–è¯‘æ–‡ä»¶makefile\n# å¼€å‘æ¡†æ¶å¤´æ–‡ä»¶è·¯å¾„ã€‚PUBINCL = -I/project/public# å¼€å‘æ¡†æ¶cppæ–‡ä»¶åï¼Œè¿™é‡Œç›´æ¥åŒ…å«è¿›æ¥ï¼Œæ²¡æœ‰é‡‡ç”¨é“¾æ¥åº“ï¼Œæ˜¯ä¸ºäº†æ–¹ä¾¿è°ƒè¯•ã€‚PUBCPP = /project/public/_public.cpp# ç¼–è¯‘å‚æ•°ã€‚CFLAGS = -gall: checkproc checkproc:checkproc.cpp\tg++ $(CFLAGS) -o checkproc checkproc.cpp $(PUBINCL) $(PUBCPP) -lm -lc\tcp checkproc ../bin/.clean:\trm -f checkproc\n\n\n\nå‹ç¼©æ–‡ä»¶ç¨‹åºgzipfiles.cpp\n#include &quot;_public.h&quot;// ç¨‹åºé€€å‡ºå’Œä¿¡å·2ã€15çš„å¤„ç†å‡½æ•°ã€‚void EXIT(int sig);int main(int argc,char *argv[])&#123;  // ç¨‹åºçš„å¸®åŠ©ã€‚  if (argc != 4)  &#123;    printf(&quot;\\n&quot;);    printf(&quot;Using:/project/tools1/bin/gzipfiles pathname matchstr timeout\\n\\n&quot;);    printf(&quot;Example:/project/tools1/bin/gzipfiles /log/idc \\&quot;*.log.20*\\&quot; 0.02\\n&quot;);    printf(&quot;        /project/tools1/bin/gzipfiles /tmp/idc/surfdata \\&quot;*.xml,*.json\\&quot; 0.01\\n&quot;);    printf(&quot;        /project/tools1/bin/procctl 300 /project/tools1/bin/gzipfiles /log/idc \\&quot;*.log.20*\\&quot; 0.02\\n&quot;);    printf(&quot;        /project/tools1/bin/procctl 300 /project/tools1/bin/gzipfiles /tmp/idc/surfdata \\&quot;*.xml,*.json\\&quot; 0.01\\n\\n&quot;);    printf(&quot;è¿™æ˜¯ä¸€ä¸ªå·¥å…·ç¨‹åºï¼Œç”¨äºå‹ç¼©å†å²çš„æ•°æ®æ–‡ä»¶æˆ–æ—¥å¿—æ–‡ä»¶ã€‚\\n&quot;);    printf(&quot;æœ¬ç¨‹åºæŠŠpathnameç›®å½•åŠå­ç›®å½•ä¸­timeoutå¤©ä¹‹å‰çš„åŒ¹é…matchstræ–‡ä»¶å…¨éƒ¨å‹ç¼©ï¼Œtimeoutå¯ä»¥æ˜¯å°æ•°ã€‚\\n&quot;);    printf(&quot;æœ¬ç¨‹åºä¸å†™æ—¥å¿—æ–‡ä»¶ï¼Œä¹Ÿä¸ä¼šåœ¨æ§åˆ¶å°è¾“å‡ºä»»ä½•ä¿¡æ¯ã€‚\\n&quot;);    printf(&quot;æœ¬ç¨‹åºè°ƒç”¨/usr/bin/gzipå‘½ä»¤å‹ç¼©æ–‡ä»¶ã€‚\\n\\n\\n&quot;);    return -1;  &#125;  // å…³é—­å…¨éƒ¨çš„ä¿¡å·å’Œè¾“å…¥è¾“å‡ºã€‚  // è®¾ç½®ä¿¡å·,åœ¨shellçŠ¶æ€ä¸‹å¯ç”¨ &quot;kill + è¿›ç¨‹å·&quot; æ­£å¸¸ç»ˆæ­¢äº›è¿›ç¨‹ã€‚  // ä½†è¯·ä¸è¦ç”¨ &quot;kill -9 +è¿›ç¨‹å·&quot; å¼ºè¡Œç»ˆæ­¢ã€‚  CloseIOAndSignal(true); signal(SIGINT,EXIT);  signal(SIGTERM,EXIT);  // è·å–æ–‡ä»¶è¶…æ—¶çš„æ—¶é—´ç‚¹ã€‚  char strTimeOut[21];  LocalTime(strTimeOut,&quot;yyyy-mm-dd hh24:mi:ss&quot;,0-(int)(atof(argv[3])*24*60*60));  CDir Dir;  // æ‰“å¼€ç›®å½•ï¼ŒCDir.OpenDir()  if (Dir.OpenDir(argv[1],argv[2],10000,true)==false)  &#123;    printf(&quot;Dir.OpenDir(%s) failed.\\n&quot;,argv[1]); return -1;  &#125;  char strCmd[1024]; // å­˜æ”¾gzipå‹ç¼©æ–‡ä»¶çš„å‘½ä»¤ã€‚  // éå†ç›®å½•ä¸­çš„æ–‡ä»¶åã€‚  while (true)  &#123;    // å¾—åˆ°ä¸€ä¸ªæ–‡ä»¶çš„ä¿¡æ¯ï¼ŒCDir.ReadDir()    if (Dir.ReadDir()==false) break;      // ä¸è¶…æ—¶çš„æ—¶é—´ç‚¹æ¯”è¾ƒï¼Œå¦‚æœæ›´æ—©ï¼Œå°±éœ€è¦å‹ç¼©    if ( (strcmp(Dir.m_ModifyTime,strTimeOut)&lt;0) &amp;&amp; (MatchStr(Dir.m_FileName,&quot;*.gz&quot;)==false) )    &#123;      // å‹ç¼©æ–‡ä»¶ï¼Œè°ƒç”¨æ“ä½œç³»ç»Ÿçš„gzipå‘½ä»¤ã€‚      SNPRINTF(strCmd,sizeof(strCmd),1000,&quot;/usr/bin/gzip -f %s 1&gt;/dev/null 2&gt;/dev/null&quot;,Dir.m_FullFileName);      if (system(strCmd)==0)         printf(&quot;gzip %s ok.\\n&quot;,Dir.m_FullFileName);      else        printf(&quot;gzip %s failed.\\n&quot;,Dir.m_FullFileName);    &#125;  &#125;  return 0;&#125;void EXIT(int sig)&#123;  printf(&quot;ç¨‹åºé€€å‡ºï¼Œsig=%d\\n\\n&quot;,sig);  exit(0);&#125;\n\nç¼–è¯‘æ–‡ä»¶makefile\n# å¼€å‘æ¡†æ¶å¤´æ–‡ä»¶è·¯å¾„ã€‚PUBINCL = -I/project/public# å¼€å‘æ¡†æ¶cppæ–‡ä»¶åï¼Œè¿™é‡Œç›´æ¥åŒ…å«è¿›æ¥ï¼Œæ²¡æœ‰é‡‡ç”¨é“¾æ¥åº“ï¼Œæ˜¯ä¸ºäº†æ–¹ä¾¿è°ƒè¯•ã€‚PUBCPP = /project/public/_public.cpp# ç¼–è¯‘å‚æ•°ã€‚CFLAGS = -gall: gzipfilesgzipfiles:gzipfiles.cpp\tg++ $(CFLAGS) -o gzipfiles gzipfiles.cpp $(PUBINCL) $(PUBCPP) -lm -lc\tcp gzipfiles ../bin/.clean:\trm -f gzipfiles\n\n\n\næ¸…ç†æ–‡ä»¶ç¨‹åºdeletefiles.cpp\n#include &quot;_public.h&quot;// ç¨‹åºé€€å‡ºå’Œä¿¡å·2ã€15çš„å¤„ç†å‡½æ•°ã€‚void EXIT(int sig);int main(int argc,char *argv[])&#123;  // ç¨‹åºçš„å¸®åŠ©ã€‚  if (argc != 4)  &#123;    printf(&quot;\\n&quot;);    printf(&quot;Using:/project/tools1/bin/deletefiles pathname matchstr timeout\\n\\n&quot;);    printf(&quot;Example:/project/tools1/bin/deletefiles /log/idc \\&quot;*.log.20*\\&quot; 0.02\\n&quot;);    printf(&quot;        /project/tools1/bin/deletefiles /tmp/idc/surfdata \\&quot;*.xml,*.json\\&quot; 0.01\\n&quot;);    printf(&quot;        /project/tools1/bin/procctl 300 /project/tools1/bin/deletefiles /log/idc \\&quot;*.log.20*\\&quot; 0.02\\n&quot;);    printf(&quot;        /project/tools1/bin/procctl 300 /project/tools1/bin/deletefiles /tmp/idc/surfdata \\&quot;*.xml,*.json\\&quot; 0.01\\n\\n&quot;);    printf(&quot;è¿™æ˜¯ä¸€ä¸ªå·¥å…·ç¨‹åºï¼Œç”¨äºåˆ é™¤å†å²çš„æ•°æ®æ–‡ä»¶æˆ–æ—¥å¿—æ–‡ä»¶ã€‚\\n&quot;);    printf(&quot;æœ¬ç¨‹åºæŠŠpathnameç›®å½•åŠå­ç›®å½•ä¸­timeoutå¤©ä¹‹å‰çš„åŒ¹é…matchstræ–‡ä»¶å…¨éƒ¨åˆ é™¤ï¼Œtimeoutå¯ä»¥æ˜¯å°æ•°ã€‚\\n&quot;);    printf(&quot;æœ¬ç¨‹åºä¸å†™æ—¥å¿—æ–‡ä»¶ï¼Œä¹Ÿä¸ä¼šåœ¨æ§åˆ¶å°è¾“å‡ºä»»ä½•ä¿¡æ¯ã€‚\\n\\n\\n&quot;);    return -1;  &#125;  // å…³é—­å…¨éƒ¨çš„ä¿¡å·å’Œè¾“å…¥è¾“å‡ºã€‚  // è®¾ç½®ä¿¡å·,åœ¨shellçŠ¶æ€ä¸‹å¯ç”¨ &quot;kill + è¿›ç¨‹å·&quot; æ­£å¸¸ç»ˆæ­¢äº›è¿›ç¨‹ã€‚  // ä½†è¯·ä¸è¦ç”¨ &quot;kill -9 +è¿›ç¨‹å·&quot; å¼ºè¡Œç»ˆæ­¢ã€‚  // CloseIOAndSignal(true);   signal(SIGINT,EXIT);  signal(SIGTERM,EXIT);  // è·å–æ–‡ä»¶è¶…æ—¶çš„æ—¶é—´ç‚¹ã€‚  char strTimeOut[21];  LocalTime(strTimeOut,&quot;yyyy-mm-dd hh24:mi:ss&quot;,0-(int)(atof(argv[3])*24*60*60));  CDir Dir;  // æ‰“å¼€ç›®å½•ï¼ŒCDir.OpenDir()  if (Dir.OpenDir(argv[1],argv[2],10000,true)==false)  &#123;    printf(&quot;Dir.OpenDir(%s) failed.\\n&quot;,argv[1]); return -1;  &#125;  // éå†ç›®å½•ä¸­çš„æ–‡ä»¶åã€‚  while (true)  &#123;    // å¾—åˆ°ä¸€ä¸ªæ–‡ä»¶çš„ä¿¡æ¯ï¼ŒCDir.ReadDir()    if (Dir.ReadDir()==false) break;printf(&quot;=%s=\\n&quot;,Dir.m_FullFileName);      // ä¸è¶…æ—¶çš„æ—¶é—´ç‚¹æ¯”è¾ƒï¼Œå¦‚æœæ›´æ—©ï¼Œå°±éœ€è¦åˆ é™¤ã€‚    if (strcmp(Dir.m_ModifyTime,strTimeOut)&lt;0)     &#123;      if (REMOVE(Dir.m_FullFileName)==0)         printf(&quot;REMOVE %s ok.\\n&quot;,Dir.m_FullFileName);      else        printf(&quot;REMOVE %s failed.\\n&quot;,Dir.m_FullFileName);    &#125;  &#125;  return 0;&#125;void EXIT(int sig)&#123;  printf(&quot;ç¨‹åºé€€å‡ºï¼Œsig=%d\\n\\n&quot;,sig);  exit(0);&#125;\n\n\n\nç¼–è¯‘æ–‡ä»¶# å¼€å‘æ¡†æ¶å¤´æ–‡ä»¶è·¯å¾„ã€‚PUBINCL = -I/project/public# å¼€å‘æ¡†æ¶cppæ–‡ä»¶åï¼Œè¿™é‡Œç›´æ¥åŒ…å«è¿›æ¥ï¼Œæ²¡æœ‰é‡‡ç”¨é“¾æ¥åº“ï¼Œæ˜¯ä¸ºäº†æ–¹ä¾¿è°ƒè¯•ã€‚PUBCPP = /project/public/_public.cpp# ç¼–è¯‘å‚æ•°ã€‚CFLAGS = -gall: deletefilesdeletefiles:deletefiles.cpp\tg++ $(CFLAGS) -o deletefiles deletefiles.cpp $(PUBINCL) $(PUBCPP) -lm -lc\tcp deletefiles ../bin/.clean:\trm -f deletefiles\n\n\n\næ¨¡æ‹Ÿç”Ÿäº§æµ‹è¯•æ•°æ®æ–‡ä»¶crtsurfdata.cpp\n/* *  ç¨‹åºåï¼šcrtsurfdata.cpp  æœ¬ç¨‹åºç”¨äºç”Ÿæˆå…¨å›½æ°”è±¡ç«™ç‚¹è§‚æµ‹çš„åˆ†é’Ÿæ•°æ®ã€‚*/#include &quot;_public.h&quot;CPActive PActive;   // è¿›ç¨‹å¿ƒè·³ã€‚// å…¨å›½æ°”è±¡ç«™ç‚¹å‚æ•°ç»“æ„ä½“ã€‚struct st_stcode&#123;  char provname[31]; // çœ  char obtid[11];    // ç«™å·  char obtname[31];  // ç«™å  double lat;        // çº¬åº¦  double lon;        // ç»åº¦  double height;     // æµ·æ‹”é«˜åº¦&#125;;vector&lt;struct st_stcode&gt; vstcode; // å­˜æ”¾å…¨å›½æ°”è±¡ç«™ç‚¹å‚æ•°çš„å®¹å™¨ã€‚// æŠŠç«™ç‚¹å‚æ•°æ–‡ä»¶ä¸­åŠ è½½åˆ°vstcodeå®¹å™¨ä¸­ã€‚bool LoadSTCode(const char *inifile);// å…¨å›½æ°”è±¡ç«™ç‚¹åˆ†é’Ÿè§‚æµ‹æ•°æ®ç»“æ„struct st_surfdata&#123;  char obtid[11];      // ç«™ç‚¹ä»£ç ã€‚  char ddatetime[21];  // æ•°æ®æ—¶é—´ï¼šæ ¼å¼yyyymmddhh24miss  int  t;              // æ°”æ¸©ï¼šå•ä½ï¼Œ0.1æ‘„æ°åº¦ã€‚  int  p;              // æ°”å‹ï¼š0.1ç™¾å¸•ã€‚  int  u;              // ç›¸å¯¹æ¹¿åº¦ï¼Œ0-100ä¹‹é—´çš„å€¼ã€‚  int  wd;             // é£å‘ï¼Œ0-360ä¹‹é—´çš„å€¼ã€‚  int  wf;             // é£é€Ÿï¼šå•ä½0.1m/s  int  r;              // é™é›¨é‡ï¼š0.1mmã€‚  int  vis;            // èƒ½è§åº¦ï¼š0.1ç±³ã€‚&#125;;vector&lt;struct st_surfdata&gt; vsurfdata;  // å­˜æ”¾å…¨å›½æ°”è±¡ç«™ç‚¹åˆ†é’Ÿè§‚æµ‹æ•°æ®çš„å®¹å™¨char strddatetime[21]; // è§‚æµ‹æ•°æ®çš„æ—¶é—´ã€‚// æ¨¡æ‹Ÿç”Ÿæˆå…¨å›½æ°”è±¡ç«™ç‚¹åˆ†é’Ÿè§‚æµ‹æ•°æ®ï¼Œå­˜æ”¾åœ¨vsurfdataå®¹å™¨ä¸­ã€‚void CrtSurfData();CFile File;  // æ–‡ä»¶æ“ä½œå¯¹è±¡ã€‚// æŠŠå®¹å™¨vsurfdataä¸­çš„å…¨å›½æ°”è±¡ç«™ç‚¹åˆ†é’Ÿè§‚æµ‹æ•°æ®å†™å…¥æ–‡ä»¶ã€‚bool CrtSurfFile(const char *outpath,const char *datafmt);CLogFile logfile;    // æ—¥å¿—ç±»ã€‚void EXIT(int sig);  // ç¨‹åºé€€å‡ºå’Œä¿¡å·2ã€15çš„å¤„ç†å‡½æ•°ã€‚int main(int argc,char *argv[])&#123;  if ( (argc!=5) &amp;&amp; (argc!=6) )  &#123;    // å¦‚æœå‚æ•°éæ³•ï¼Œç»™å‡ºå¸®åŠ©æ–‡æ¡£ã€‚    printf(&quot;Using:./crtsurfdata inifile outpath logfile datafmt [datetime]\\n&quot;);    printf(&quot;Example:/project/idc1/bin/crtsurfdata /project/idc1/ini/stcode.ini /tmp/idc/surfdata /log/idc/crtsurfdata.log xml,json,csv\\n&quot;);    printf(&quot;        /project/idc1/bin/crtsurfdata /project/idc1/ini/stcode.ini /tmp/idc/surfdata /log/idc/crtsurfdata.log xml,json,csv 20210710123000\\n&quot;);    printf(&quot;        /project/tools1/bin/procctl 60 /project/idc1/bin/crtsurfdata /project/idc1/ini/stcode.ini /tmp/idc/surfdata /log/idc/crtsurfdata.log xml,json,csv\\n\\n\\n&quot;);    printf(&quot;inifile  å…¨å›½æ°”è±¡ç«™ç‚¹å‚æ•°æ–‡ä»¶åã€‚\\n&quot;);    printf(&quot;outpath  å…¨å›½æ°”è±¡ç«™ç‚¹æ•°æ®æ–‡ä»¶å­˜æ”¾çš„ç›®å½•ã€‚\\n&quot;);    printf(&quot;logfile  æœ¬ç¨‹åºè¿è¡Œçš„æ—¥å¿—æ–‡ä»¶åã€‚\\n&quot;);    printf(&quot;datafmt  ç”Ÿæˆæ•°æ®æ–‡ä»¶çš„æ ¼å¼ï¼Œæ”¯æŒxmlã€jsonå’Œcsvä¸‰ç§æ ¼å¼ï¼Œä¸­é—´ç”¨é€—å·åˆ†éš”ã€‚\\n&quot;);    printf(&quot;datetime è¿™æ˜¯ä¸€ä¸ªå¯é€‰å‚æ•°ï¼Œè¡¨ç¤ºç”ŸæˆæŒ‡å®šæ—¶é—´çš„æ•°æ®å’Œæ–‡ä»¶ã€‚\\n\\n\\n&quot;);    return -1;  &#125;  // å…³é—­å…¨éƒ¨çš„ä¿¡å·å’Œè¾“å…¥è¾“å‡ºã€‚  // è®¾ç½®ä¿¡å·,åœ¨shellçŠ¶æ€ä¸‹å¯ç”¨ &quot;kill + è¿›ç¨‹å·&quot; æ­£å¸¸ç»ˆæ­¢äº›è¿›ç¨‹ã€‚  // ä½†è¯·ä¸è¦ç”¨ &quot;kill -9 +è¿›ç¨‹å·&quot; å¼ºè¡Œç»ˆæ­¢ã€‚  CloseIOAndSignal(true); signal(SIGINT,EXIT);  signal(SIGTERM,EXIT);  // æ‰“å¼€ç¨‹åºçš„æ—¥å¿—æ–‡ä»¶ã€‚  if (logfile.Open(argv[3],&quot;a+&quot;,false)==false)  &#123;    printf(&quot;logfile.Open(%s) failed.\\n&quot;,argv[3]); return -1;  &#125;  logfile.Write(&quot;crtsurfdata å¼€å§‹è¿è¡Œã€‚\\n&quot;);  PActive.AddPInfo(20,&quot;crtsurfdata&quot;);  // æŠŠç«™ç‚¹å‚æ•°æ–‡ä»¶ä¸­åŠ è½½åˆ°vstcodeå®¹å™¨ä¸­ã€‚   if (LoadSTCode(argv[1])==false) return -1;  // è·å–å½“å‰æ—¶é—´ï¼Œå½“ä½œè§‚æµ‹æ—¶é—´ã€‚  memset(strddatetime,0,sizeof(strddatetime));  if (argc==5)    LocalTime(strddatetime,&quot;yyyymmddhh24miss&quot;);  else    STRCPY(strddatetime,sizeof(strddatetime),argv[5]);  // æ¨¡æ‹Ÿç”Ÿæˆå…¨å›½æ°”è±¡ç«™ç‚¹åˆ†é’Ÿè§‚æµ‹æ•°æ®ï¼Œå­˜æ”¾åœ¨vsurfdataå®¹å™¨ä¸­ã€‚  CrtSurfData();  // æŠŠå®¹å™¨vsurfdataä¸­çš„å…¨å›½æ°”è±¡ç«™ç‚¹åˆ†é’Ÿè§‚æµ‹æ•°æ®å†™å…¥æ–‡ä»¶ã€‚  if (strstr(argv[4],&quot;xml&quot;)!=0) CrtSurfFile(argv[2],&quot;xml&quot;);  if (strstr(argv[4],&quot;json&quot;)!=0) CrtSurfFile(argv[2],&quot;json&quot;);  if (strstr(argv[4],&quot;csv&quot;)!=0) CrtSurfFile(argv[2],&quot;csv&quot;);  logfile.Write(&quot;crtsurfdata è¿è¡Œç»“æŸã€‚\\n&quot;);  return 0;&#125;// æŠŠç«™ç‚¹å‚æ•°æ–‡ä»¶ä¸­åŠ è½½åˆ°vstcodeå®¹å™¨ä¸­ã€‚ bool LoadSTCode(const char *inifile)&#123;  // æ‰“å¼€ç«™ç‚¹å‚æ•°æ–‡ä»¶ã€‚  if (File.Open(inifile,&quot;r&quot;)==false)  &#123;    logfile.Write(&quot;File.Open(%s) failed.\\n&quot;,inifile); return false;  &#125;  char strBuffer[301];  CCmdStr CmdStr;  struct st_stcode stcode;  while (true)  &#123;    // ä»ç«™ç‚¹å‚æ•°æ–‡ä»¶ä¸­è¯»å–ä¸€è¡Œï¼Œå¦‚æœå·²è¯»å–å®Œï¼Œè·³å‡ºå¾ªç¯ã€‚    if (File.Fgets(strBuffer,300,true)==false) break;    // æŠŠè¯»å–åˆ°çš„ä¸€è¡Œæ‹†åˆ†ã€‚    CmdStr.SplitToCmd(strBuffer,&quot;,&quot;,true);    if (CmdStr.CmdCount()!=6) continue;     // æ‰”æ‰æ— æ•ˆçš„è¡Œã€‚    // æŠŠç«™ç‚¹å‚æ•°çš„æ¯ä¸ªæ•°æ®é¡¹ä¿å­˜åˆ°ç«™ç‚¹å‚æ•°ç»“æ„ä½“ä¸­ã€‚    memset(&amp;stcode,0,sizeof(struct st_stcode));    CmdStr.GetValue(0, stcode.provname,30); // çœ    CmdStr.GetValue(1, stcode.obtid,10);    // ç«™å·    CmdStr.GetValue(2, stcode.obtname,30);  // ç«™å    CmdStr.GetValue(3,&amp;stcode.lat);         // çº¬åº¦    CmdStr.GetValue(4,&amp;stcode.lon);         // ç»åº¦    CmdStr.GetValue(5,&amp;stcode.height);      // æµ·æ‹”é«˜åº¦    // æŠŠç«™ç‚¹å‚æ•°ç»“æ„ä½“æ”¾å…¥ç«™ç‚¹å‚æ•°å®¹å™¨ã€‚    vstcode.push_back(stcode);  &#125;  /*  for (int ii=0;ii&lt;vstcode.size();ii++)    logfile.Write(&quot;provname=%s,obtid=%s,obtname=%s,lat=%.2f,lon=%.2f,height=%.2f\\n&quot;,\\                   vstcode[ii].provname,vstcode[ii].obtid,vstcode[ii].obtname,vstcode[ii].lat,\\                   vstcode[ii].lon,vstcode[ii].height);  */  return true;&#125;// æ¨¡æ‹Ÿç”Ÿæˆå…¨å›½æ°”è±¡ç«™ç‚¹åˆ†é’Ÿè§‚æµ‹æ•°æ®ï¼Œå­˜æ”¾åœ¨vsurfdataå®¹å™¨ä¸­ã€‚void CrtSurfData()&#123;  // æ’­éšæœºæ•°ç§å­ã€‚  srand(time(0));  struct st_surfdata stsurfdata;  // éå†æ°”è±¡ç«™ç‚¹å‚æ•°çš„vstcodeå®¹å™¨ã€‚  for (int ii=0;ii&lt;vstcode.size();ii++)  &#123;    memset(&amp;stsurfdata,0,sizeof(struct st_surfdata));    // ç”¨éšæœºæ•°å¡«å……åˆ†é’Ÿè§‚æµ‹æ•°æ®çš„ç»“æ„ä½“ã€‚    strncpy(stsurfdata.obtid,vstcode[ii].obtid,10); // ç«™ç‚¹ä»£ç ã€‚    strncpy(stsurfdata.ddatetime,strddatetime,14);  // æ•°æ®æ—¶é—´ï¼šæ ¼å¼yyyymmddhh24miss    stsurfdata.t=rand()%351;       // æ°”æ¸©ï¼šå•ä½ï¼Œ0.1æ‘„æ°åº¦    stsurfdata.p=rand()%265+10000; // æ°”å‹ï¼š0.1ç™¾å¸•    stsurfdata.u=rand()%100+1;     // ç›¸å¯¹æ¹¿åº¦ï¼Œ0-100ä¹‹é—´çš„å€¼ã€‚    stsurfdata.wd=rand()%360;      // é£å‘ï¼Œ0-360ä¹‹é—´çš„å€¼ã€‚    stsurfdata.wf=rand()%150;      // é£é€Ÿï¼šå•ä½0.1m/s    stsurfdata.r=rand()%16;        // é™é›¨é‡ï¼š0.1mm    stsurfdata.vis=rand()%5001+100000;  // èƒ½è§åº¦ï¼š0.1ç±³    // æŠŠè§‚æµ‹æ•°æ®çš„ç»“æ„ä½“æ”¾å…¥vsurfdataå®¹å™¨ã€‚    vsurfdata.push_back(stsurfdata);  &#125;&#125;// æŠŠå®¹å™¨vsurfdataä¸­çš„å…¨å›½æ°”è±¡ç«™ç‚¹åˆ†é’Ÿè§‚æµ‹æ•°æ®å†™å…¥æ–‡ä»¶ã€‚bool CrtSurfFile(const char *outpath,const char *datafmt)&#123;  // æ‹¼æ¥ç”Ÿæˆæ•°æ®çš„æ–‡ä»¶åï¼Œä¾‹å¦‚ï¼š/tmp/idc/surfdata/SURF_ZH_20210629092200_2254.csv  char strFileName[301];  sprintf(strFileName,&quot;%s/SURF_ZH_%s_%d.%s&quot;,outpath,strddatetime,getpid(),datafmt);  // æ‰“å¼€æ–‡ä»¶ã€‚  if (File.OpenForRename(strFileName,&quot;w&quot;)==false)  &#123;    logfile.Write(&quot;File.OpenForRename(%s) failed.\\n&quot;,strFileName); return false;  &#125;  if (strcmp(datafmt,&quot;csv&quot;)==0) File.Fprintf(&quot;ç«™ç‚¹ä»£ç ,æ•°æ®æ—¶é—´,æ°”æ¸©,æ°”å‹,ç›¸å¯¹æ¹¿åº¦,é£å‘,é£é€Ÿ,é™é›¨é‡,èƒ½è§åº¦\\n&quot;);  if (strcmp(datafmt,&quot;xml&quot;)==0) File.Fprintf(&quot;&lt;data&gt;\\n&quot;);  if (strcmp(datafmt,&quot;json&quot;)==0) File.Fprintf(&quot;&#123;\\&quot;data\\&quot;:[\\n&quot;);  // éå†å­˜æ”¾è§‚æµ‹æ•°æ®çš„vsurfdataå®¹å™¨ã€‚  for (int ii=0;ii&lt;vsurfdata.size();ii++)  &#123;    // å†™å…¥ä¸€æ¡è®°å½•ã€‚    if (strcmp(datafmt,&quot;csv&quot;)==0)      File.Fprintf(&quot;%s,%s,%.1f,%.1f,%d,%d,%.1f,%.1f,%.1f\\n&quot;,\\         vsurfdata[ii].obtid,vsurfdata[ii].ddatetime,vsurfdata[ii].t/10.0,vsurfdata[ii].p/10.0,\\         vsurfdata[ii].u,vsurfdata[ii].wd,vsurfdata[ii].wf/10.0,vsurfdata[ii].r/10.0,vsurfdata[ii].vis/10.0);    if (strcmp(datafmt,&quot;xml&quot;)==0)      File.Fprintf(&quot;&lt;obtid&gt;%s&lt;/obtid&gt;&lt;ddatetime&gt;%s&lt;/ddatetime&gt;&lt;t&gt;%.1f&lt;/t&gt;&lt;p&gt;%.1f&lt;/p&gt;&quot;\\                   &quot;&lt;u&gt;%d&lt;/u&gt;&lt;wd&gt;%d&lt;/wd&gt;&lt;wf&gt;%.1f&lt;/wf&gt;&lt;r&gt;%.1f&lt;/r&gt;&lt;vis&gt;%.1f&lt;/vis&gt;&lt;endl/&gt;\\n&quot;,\\         vsurfdata[ii].obtid,vsurfdata[ii].ddatetime,vsurfdata[ii].t/10.0,vsurfdata[ii].p/10.0,\\         vsurfdata[ii].u,vsurfdata[ii].wd,vsurfdata[ii].wf/10.0,vsurfdata[ii].r/10.0,vsurfdata[ii].vis/10.0);    if (strcmp(datafmt,&quot;json&quot;)==0)    &#123;      File.Fprintf(&quot;&#123;\\&quot;obtid\\&quot;:\\&quot;%s\\&quot;,\\&quot;ddatetime\\&quot;:\\&quot;%s\\&quot;,\\&quot;t\\&quot;:\\&quot;%.1f\\&quot;,\\&quot;p\\&quot;:\\&quot;%.1f\\&quot;,&quot;\\                   &quot;\\&quot;u\\&quot;:\\&quot;%d\\&quot;,\\&quot;wd\\&quot;:\\&quot;%d\\&quot;,\\&quot;wf\\&quot;:\\&quot;%.1f\\&quot;,\\&quot;r\\&quot;:\\&quot;%.1f\\&quot;,\\&quot;vis\\&quot;:\\&quot;%.1f\\&quot;&#125;&quot;,\\         vsurfdata[ii].obtid,vsurfdata[ii].ddatetime,vsurfdata[ii].t/10.0,vsurfdata[ii].p/10.0,\\         vsurfdata[ii].u,vsurfdata[ii].wd,vsurfdata[ii].wf/10.0,vsurfdata[ii].r/10.0,vsurfdata[ii].vis/10.0);      if (ii&lt;vsurfdata.size()-1) File.Fprintf(&quot;,\\n&quot;);      else   File.Fprintf(&quot;\\n&quot;);    &#125;  &#125;  if (strcmp(datafmt,&quot;xml&quot;)==0) File.Fprintf(&quot;&lt;/data&gt;\\n&quot;);  if (strcmp(datafmt,&quot;json&quot;)==0) File.Fprintf(&quot;]&#125;\\n&quot;);  // å…³é—­æ–‡ä»¶ã€‚  File.CloseAndRename();  UTime(strFileName,strddatetime);  // ä¿®æ”¹æ–‡ä»¶çš„æ—¶é—´å±æ€§ã€‚  logfile.Write(&quot;ç”Ÿæˆæ•°æ®æ–‡ä»¶%sæˆåŠŸï¼Œæ•°æ®æ—¶é—´%sï¼Œè®°å½•æ•°%dã€‚\\n&quot;,strFileName,strddatetime,vsurfdata.size());  return true;&#125;// ç¨‹åºé€€å‡ºå’Œä¿¡å·2ã€15çš„å¤„ç†å‡½æ•°ã€‚void EXIT(int sig)  &#123;  logfile.Write(&quot;ç¨‹åºé€€å‡ºï¼Œsig=%d\\n\\n&quot;,sig);  exit(0);&#125;\n\nç¼–è¯‘æ–‡ä»¶makfile\n# å¼€å‘æ¡†æ¶å¤´æ–‡ä»¶è·¯å¾„ã€‚PUBINCL = -I/project/public# å¼€å‘æ¡†æ¶cppæ–‡ä»¶åï¼Œè¿™é‡Œç›´æ¥åŒ…å«è¿›æ¥ï¼Œæ²¡æœ‰é‡‡ç”¨é“¾æ¥åº“ï¼Œæ˜¯ä¸ºäº†æ–¹ä¾¿è°ƒè¯•ã€‚PUBCPP = /project/public/_public.cpp# ç¼–è¯‘å‚æ•°ã€‚CFLAGS = -g all:crtsurfdata crtsurfdata:crtsurfdata.cpp\tg++ $(CFLAGS) -o crtsurfdata crtsurfdata.cpp $(PUBINCL) $(PUBCPP) -lm -lc\tcp crtsurfdata ../bin/.clean:\trm -f crtsurfdata \n\n\n\nftpä¸Šä¼ ä¸‹è½½å®‰è£…ftpå»çœ‹å®‰è£…ftpè¯´æ˜\nftpå®¢æˆ·ç«¯ä¸‹è½½ftpgetfiles.cpp\n#include &quot;_public.h&quot;#include &quot;_ftp.h&quot;// ç¨‹åºè¿è¡Œå‚æ•°çš„ç»“æ„ä½“ã€‚struct st_arg&#123;  char host[31];           // è¿œç¨‹æœåŠ¡ç«¯çš„IPå’Œç«¯å£ã€‚  int  mode;               // ä¼ è¾“æ¨¡å¼ï¼Œ1-è¢«åŠ¨æ¨¡å¼ï¼Œ2-ä¸»åŠ¨æ¨¡å¼ï¼Œç¼ºçœé‡‡ç”¨è¢«åŠ¨æ¨¡å¼ã€‚  char username[31];       // è¿œç¨‹æœåŠ¡ç«¯ftpçš„ç”¨æˆ·åã€‚  char password[31];       // è¿œç¨‹æœåŠ¡ç«¯ftpçš„å¯†ç ã€‚  char remotepath[301];    // è¿œç¨‹æœåŠ¡ç«¯å­˜æ”¾æ–‡ä»¶çš„ç›®å½•ã€‚  char localpath[301];     // æœ¬åœ°æ–‡ä»¶å­˜æ”¾çš„ç›®å½•ã€‚  char matchname[101];     // å¾…ä¸‹è½½æ–‡ä»¶åŒ¹é…çš„è§„åˆ™ã€‚  char listfilename[301];  // ä¸‹è½½å‰åˆ—å‡ºæœåŠ¡ç«¯æ–‡ä»¶åçš„æ–‡ä»¶ã€‚  int  ptype;              // ä¸‹è½½åæœåŠ¡ç«¯æ–‡ä»¶çš„å¤„ç†æ–¹å¼ï¼š1-ä»€ä¹ˆä¹Ÿä¸åšï¼›2-åˆ é™¤ï¼›3-å¤‡ä»½ã€‚  char remotepathbak[301]; // ä¸‹è½½åæœåŠ¡ç«¯æ–‡ä»¶çš„å¤‡ä»½ç›®å½•ã€‚  char okfilename[301];    // å·²ä¸‹è½½æˆåŠŸæ–‡ä»¶åæ¸…å•ã€‚  bool checkmtime;         // æ˜¯å¦éœ€è¦æ£€æŸ¥æœåŠ¡ç«¯æ–‡ä»¶çš„æ—¶é—´ï¼Œtrue-éœ€è¦ï¼Œfalse-ä¸éœ€è¦ï¼Œç¼ºçœä¸ºfalseã€‚  int  timeout;            // è¿›ç¨‹å¿ƒè·³çš„è¶…æ—¶æ—¶é—´ã€‚  char pname[51];          // è¿›ç¨‹åï¼Œå»ºè®®ç”¨&quot;ftpgetfiles_åç¼€&quot;çš„æ–¹å¼ã€‚&#125; starg;// æ–‡ä»¶ä¿¡æ¯çš„ç»“æ„ä½“ã€‚struct st_fileinfo&#123;  char filename[301];   // æ–‡ä»¶åã€‚  char mtime[21];       // æ–‡ä»¶æ—¶é—´ã€‚&#125;;vector&lt;struct st_fileinfo&gt; vlistfile1;    // å·²ä¸‹è½½æˆåŠŸæ–‡ä»¶åçš„å®¹å™¨ï¼Œä»okfilenameä¸­åŠ è½½ã€‚vector&lt;struct st_fileinfo&gt; vlistfile2;    // ä¸‹è½½å‰åˆ—å‡ºæœåŠ¡ç«¯æ–‡ä»¶åçš„å®¹å™¨ï¼Œä»nlistæ–‡ä»¶ä¸­åŠ è½½ã€‚vector&lt;struct st_fileinfo&gt; vlistfile3;    // æœ¬æ¬¡ä¸éœ€è¦ä¸‹è½½çš„æ–‡ä»¶çš„å®¹å™¨ã€‚vector&lt;struct st_fileinfo&gt; vlistfile4;    // æœ¬æ¬¡éœ€è¦ä¸‹è½½çš„æ–‡ä»¶çš„å®¹å™¨ã€‚// åŠ è½½okfilenameæ–‡ä»¶ä¸­çš„å†…å®¹åˆ°å®¹å™¨vlistfile1ä¸­ã€‚bool LoadOKFile();// æ¯”è¾ƒvlistfile2å’Œvlistfile1ï¼Œå¾—åˆ°vlistfile3å’Œvlistfile4ã€‚bool CompVector();// æŠŠå®¹å™¨vlistfile3ä¸­çš„å†…å®¹å†™å…¥okfilenameæ–‡ä»¶ï¼Œè¦†ç›–ä¹‹å‰çš„æ—§okfilenameæ–‡ä»¶ã€‚bool WriteToOKFile();// å¦‚æœptype==1ï¼ŒæŠŠä¸‹è½½æˆåŠŸçš„æ–‡ä»¶è®°å½•è¿½åŠ åˆ°okfilenameæ–‡ä»¶ä¸­ã€‚bool AppendToOKFile(struct st_fileinfo *stfileinfo);// æŠŠftp.nlist()æ–¹æ³•è·å–åˆ°çš„listæ–‡ä»¶åŠ è½½åˆ°å®¹å™¨vlistfile2ä¸­ã€‚bool LoadListFile();CLogFile logfile;Cftp ftp;// ç¨‹åºé€€å‡ºå’Œä¿¡å·2ã€15çš„å¤„ç†å‡½æ•°ã€‚void EXIT(int sig);void _help();// æŠŠxmlè§£æåˆ°å‚æ•°stargç»“æ„ä¸­ã€‚bool _xmltoarg(char *strxmlbuffer);// ä¸‹è½½æ–‡ä»¶åŠŸèƒ½çš„ä¸»å‡½æ•°ã€‚bool _ftpgetfiles();CPActive PActive;  // è¿›ç¨‹å¿ƒè·³ã€‚int main(int argc,char *argv[])&#123;  if (argc!=3) &#123; _help(); return -1; &#125;  // å…³é—­å…¨éƒ¨çš„ä¿¡å·å’Œè¾“å…¥è¾“å‡ºã€‚  // è®¾ç½®ä¿¡å·,åœ¨shellçŠ¶æ€ä¸‹å¯ç”¨ &quot;kill + è¿›ç¨‹å·&quot; æ­£å¸¸ç»ˆæ­¢äº›è¿›ç¨‹ã€‚  // ä½†è¯·ä¸è¦ç”¨ &quot;kill -9 +è¿›ç¨‹å·&quot; å¼ºè¡Œç»ˆæ­¢ã€‚  CloseIOAndSignal(); signal(SIGINT,EXIT); signal(SIGTERM,EXIT);  // æ‰“å¼€æ—¥å¿—æ–‡ä»¶ã€‚  if (logfile.Open(argv[1],&quot;a+&quot;)==false)  &#123;    printf(&quot;æ‰“å¼€æ—¥å¿—æ–‡ä»¶å¤±è´¥ï¼ˆ%sï¼‰ã€‚\\n&quot;,argv[1]); return -1;  &#125;  // è§£æxmlï¼Œå¾—åˆ°ç¨‹åºè¿è¡Œçš„å‚æ•°ã€‚  if (_xmltoarg(argv[2])==false) return -1;  PActive.AddPInfo(starg.timeout,starg.pname);  // æŠŠè¿›ç¨‹çš„å¿ƒè·³ä¿¡æ¯å†™å…¥å…±äº«å†…å­˜ã€‚  // ç™»å½•ftpæœåŠ¡ç«¯ã€‚  if (ftp.login(starg.host,starg.username,starg.password,starg.mode)==false)  &#123;    logfile.Write(&quot;ftp.login(%s,%s,%s) failed.\\n&quot;,starg.host,starg.username,starg.password); return -1;  &#125;  // logfile.Write(&quot;ftp.login ok.\\n&quot;);  // æ­£å¼è¿è¡Œåï¼Œå¯ä»¥æ³¨é‡Šè¿™è¡Œä»£ç ã€‚  _ftpgetfiles();  ftp.logout();  return 0;&#125;// ä¸‹è½½æ–‡ä»¶åŠŸèƒ½çš„ä¸»å‡½æ•°ã€‚bool _ftpgetfiles()&#123;  // è¿›å…¥ftpæœåŠ¡ç«¯å­˜æ”¾æ–‡ä»¶çš„ç›®å½•ã€‚  if (ftp.chdir(starg.remotepath)==false)  &#123;    logfile.Write(&quot;ftp.chdir(%s) failed.\\n&quot;,starg.remotepath); return false;  &#125;  // è°ƒç”¨ftp.nlist()æ–¹æ³•åˆ—å‡ºæœåŠ¡ç«¯ç›®å½•ä¸­çš„æ–‡ä»¶ï¼Œç»“æœå­˜æ”¾åˆ°æœ¬åœ°æ–‡ä»¶ä¸­ã€‚  if (ftp.nlist(&quot;.&quot;,starg.listfilename)==false)  &#123;    logfile.Write(&quot;ftp.nlist(%s) failed.\\n&quot;,starg.remotepath); return false;  &#125;  PActive.UptATime();   // æ›´æ–°è¿›ç¨‹çš„å¿ƒè·³ã€‚  // æŠŠftp.nlist()æ–¹æ³•è·å–åˆ°çš„listæ–‡ä»¶åŠ è½½åˆ°å®¹å™¨vlistfile2ä¸­ã€‚  if (LoadListFile()==false)  &#123;    logfile.Write(&quot;LoadListFile() failed.\\n&quot;);  return false;  &#125;  PActive.UptATime();   // æ›´æ–°è¿›ç¨‹çš„å¿ƒè·³ã€‚  if (starg.ptype==1)  &#123;    // åŠ è½½okfilenameæ–‡ä»¶ä¸­çš„å†…å®¹åˆ°å®¹å™¨vlistfile1ä¸­ã€‚    LoadOKFile();    // æ¯”è¾ƒvlistfile2å’Œvlistfile1ï¼Œå¾—åˆ°vlistfile3å’Œvlistfile4ã€‚    CompVector();    // æŠŠå®¹å™¨vlistfile3ä¸­çš„å†…å®¹å†™å…¥okfilenameæ–‡ä»¶ï¼Œè¦†ç›–ä¹‹å‰çš„æ—§okfilenameæ–‡ä»¶ã€‚    WriteToOKFile();    // æŠŠvlistfile4ä¸­çš„å†…å®¹å¤åˆ¶åˆ°vlistfile2ä¸­ã€‚    vlistfile2.clear(); vlistfile2.swap(vlistfile4);  &#125;  PActive.UptATime();   // æ›´æ–°è¿›ç¨‹çš„å¿ƒè·³ã€‚  char strremotefilename[301],strlocalfilename[301];  // éå†å®¹å™¨vlistfile2ã€‚  for (int ii=0;ii&lt;vlistfile2.size();ii++)  &#123;    SNPRINTF(strremotefilename,sizeof(strremotefilename),300,&quot;%s/%s&quot;,starg.remotepath,vlistfile2[ii].filename);    SNPRINTF(strlocalfilename,sizeof(strlocalfilename),300,&quot;%s/%s&quot;,starg.localpath,vlistfile2[ii].filename);    logfile.Write(&quot;get %s ...&quot;,strremotefilename);    // è°ƒç”¨ftp.get()æ–¹æ³•ä»æœåŠ¡ç«¯ä¸‹è½½æ–‡ä»¶ã€‚    if (ftp.get(strremotefilename,strlocalfilename)==false)     &#123;      logfile.WriteEx(&quot;failed.\\n&quot;); return false;    &#125;    logfile.WriteEx(&quot;ok.\\n&quot;);    PActive.UptATime();   // æ›´æ–°è¿›ç¨‹çš„å¿ƒè·³ã€‚        // å¦‚æœptype==1ï¼ŒæŠŠä¸‹è½½æˆåŠŸçš„æ–‡ä»¶è®°å½•è¿½åŠ åˆ°okfilenameæ–‡ä»¶ä¸­ã€‚    if (starg.ptype==1) AppendToOKFile(&amp;vlistfile2[ii]);    // åˆ é™¤æœåŠ¡ç«¯çš„æ–‡ä»¶ã€‚    if (starg.ptype==2)     &#123;      if (ftp.ftpdelete(strremotefilename)==false)      &#123;        logfile.Write(&quot;ftp.ftpdelete(%s) failed.\\n&quot;,strremotefilename); return false;      &#125;    &#125;    // æŠŠæœåŠ¡ç«¯çš„æ–‡ä»¶è½¬å­˜åˆ°å¤‡ä»½ç›®å½•ã€‚    if (starg.ptype==3)     &#123;      char strremotefilenamebak[301];      SNPRINTF(strremotefilenamebak,sizeof(strremotefilenamebak),300,&quot;%s/%s&quot;,starg.remotepathbak,vlistfile2[ii].filename);      if (ftp.ftprename(strremotefilename,strremotefilenamebak)==false)      &#123;        logfile.Write(&quot;ftp.ftprename(%s,%s) failed.\\n&quot;,strremotefilename,strremotefilenamebak); return false;      &#125;    &#125;  &#125;  return true;&#125;void EXIT(int sig)&#123;  printf(&quot;ç¨‹åºé€€å‡ºï¼Œsig=%d\\n\\n&quot;,sig);  exit(0);&#125;void _help()&#123;  printf(&quot;\\n&quot;);  printf(&quot;Using:/project/tools1/bin/ftpgetfiles logfilename xmlbuffer\\n\\n&quot;);  printf(&quot;Sample:/project/tools1/bin/procctl 30 /project/tools1/bin/ftpgetfiles /log/idc/ftpgetfiles.log \\&quot;&lt;host&gt;127.0.0.1:21&lt;/host&gt;&lt;mode&gt;1&lt;/mode&gt;&lt;username&gt;lijialin&lt;/username&gt;&lt;password&gt;6VzFeKBnSoV.&lt;/password&gt;&lt;localpath&gt;/home/lijialin/ftpget&lt;/localpath&gt;&lt;remotepath&gt;/log/idc&lt;/remotepath&gt;&lt;matchname&gt;*&lt;/matchname&gt;&lt;listfilename&gt;/home/lijialin/ftpgetfiles.list&lt;/listfilename&gt;&lt;ptype&gt;1&lt;/ptype&gt;&lt;remotepathbak&gt;/tmp/idc/surfdatabak&lt;/remotepathbak&gt;&lt;okfilename&gt;/home/lijialin/ftpgetfiles.xml&lt;/okfilename&gt;&lt;checkmtime&gt;true&lt;/checkmtime&gt;&lt;timeout&gt;80&lt;/timeout&gt;&lt;pname&gt;ftplijialingetfiles&lt;/pname&gt;\\&quot;\\n\\n\\n&quot;);  printf(&quot;æœ¬ç¨‹åºæ˜¯é€šç”¨çš„åŠŸèƒ½æ¨¡å—ï¼Œç”¨äºæŠŠè¿œç¨‹ftpæœåŠ¡ç«¯çš„æ–‡ä»¶ä¸‹è½½åˆ°æœ¬åœ°ç›®å½•ã€‚\\n&quot;);  printf(&quot;logfilenameæ˜¯æœ¬ç¨‹åºè¿è¡Œçš„æ—¥å¿—æ–‡ä»¶ã€‚\\n&quot;);  printf(&quot;xmlbufferä¸ºæ–‡ä»¶ä¸‹è½½çš„å‚æ•°ï¼Œå¦‚ä¸‹ï¼š\\n&quot;);  printf(&quot;&lt;host&gt;127.0.0.1:21&lt;/host&gt; è¿œç¨‹æœåŠ¡ç«¯çš„IPå’Œç«¯å£ã€‚\\n&quot;);  printf(&quot;&lt;mode&gt;1&lt;/mode&gt; ä¼ è¾“æ¨¡å¼ï¼Œ1-è¢«åŠ¨æ¨¡å¼ï¼Œ2-ä¸»åŠ¨æ¨¡å¼ï¼Œç¼ºçœé‡‡ç”¨è¢«åŠ¨æ¨¡å¼ã€‚\\n&quot;);  printf(&quot;&lt;username&gt;wucz&lt;/username&gt; è¿œç¨‹æœåŠ¡ç«¯ftpçš„ç”¨æˆ·åã€‚\\n&quot;);  printf(&quot;&lt;password&gt;wuczpwd&lt;/password&gt; è¿œç¨‹æœåŠ¡ç«¯ftpçš„å¯†ç ã€‚\\n&quot;);  printf(&quot;&lt;remotepath&gt;/tmp/idc/surfdata&lt;/remotepath&gt; è¿œç¨‹æœåŠ¡ç«¯å­˜æ”¾æ–‡ä»¶çš„ç›®å½•ã€‚\\n&quot;);  printf(&quot;&lt;localpath&gt;/idcdata/surfdata&lt;/localpath&gt; æœ¬åœ°æ–‡ä»¶å­˜æ”¾çš„ç›®å½•ã€‚\\n&quot;);  printf(&quot;&lt;matchname&gt;SURF_ZH*.XML,SURF_ZH*.CSV&lt;/matchname&gt; å¾…ä¸‹è½½æ–‡ä»¶åŒ¹é…çš„è§„åˆ™ã€‚&quot;\\         &quot;ä¸åŒ¹é…çš„æ–‡ä»¶ä¸ä¼šè¢«ä¸‹è½½ï¼Œæœ¬å­—æ®µå°½å¯èƒ½è®¾ç½®ç²¾ç¡®ï¼Œä¸å»ºè®®ç”¨*åŒ¹é…å…¨éƒ¨çš„æ–‡ä»¶ã€‚\\n&quot;);  printf(&quot;&lt;listfilename&gt;/idcdata/ftplist/ftpgetfiles_surfdata.list&lt;/listfilename&gt; ä¸‹è½½å‰åˆ—å‡ºæœåŠ¡ç«¯æ–‡ä»¶åçš„æ–‡ä»¶ã€‚\\n&quot;);  printf(&quot;&lt;ptype&gt;1&lt;/ptype&gt; æ–‡ä»¶ä¸‹è½½æˆåŠŸåï¼Œè¿œç¨‹æœåŠ¡ç«¯æ–‡ä»¶çš„å¤„ç†æ–¹å¼ï¼š1-ä»€ä¹ˆä¹Ÿä¸åšï¼›2-åˆ é™¤ï¼›3-å¤‡ä»½ï¼Œå¦‚æœä¸º3ï¼Œè¿˜è¦æŒ‡å®šå¤‡ä»½çš„ç›®å½•ã€‚\\n&quot;);  printf(&quot;&lt;remotepathbak&gt;/tmp/idc/surfdatabak&lt;/remotepathbak&gt; æ–‡ä»¶ä¸‹è½½æˆåŠŸåï¼ŒæœåŠ¡ç«¯æ–‡ä»¶çš„å¤‡ä»½ç›®å½•ï¼Œæ­¤å‚æ•°åªæœ‰å½“ptype=3æ—¶æ‰æœ‰æ•ˆã€‚\\n&quot;);  printf(&quot;&lt;okfilename&gt;/idcdata/ftplist/ftpgetfiles_surfdata.xml&lt;/okfilename&gt; å·²ä¸‹è½½æˆåŠŸæ–‡ä»¶åæ¸…å•ï¼Œæ­¤å‚æ•°åªæœ‰å½“ptype=1æ—¶æ‰æœ‰æ•ˆã€‚\\n&quot;);  printf(&quot;&lt;checkmtime&gt;true&lt;/checkmtime&gt; æ˜¯å¦éœ€è¦æ£€æŸ¥æœåŠ¡ç«¯æ–‡ä»¶çš„æ—¶é—´ï¼Œtrue-éœ€è¦ï¼Œfalse-ä¸éœ€è¦ï¼Œæ­¤å‚æ•°åªæœ‰å½“ptype=1æ—¶æ‰æœ‰æ•ˆï¼Œç¼ºçœä¸ºfalseã€‚\\n&quot;);  printf(&quot;&lt;timeout&gt;80&lt;/timeout&gt; ä¸‹è½½æ–‡ä»¶è¶…æ—¶æ—¶é—´ï¼Œå•ä½ï¼šç§’ï¼Œè§†æ–‡ä»¶å¤§å°å’Œç½‘ç»œå¸¦å®½è€Œå®šã€‚\\n&quot;);  printf(&quot;&lt;pname&gt;ftpgetfiles_surfdata&lt;/pname&gt; è¿›ç¨‹åï¼Œå°½å¯èƒ½é‡‡ç”¨æ˜“æ‡‚çš„ã€ä¸å…¶å®ƒè¿›ç¨‹ä¸åŒçš„åç§°ï¼Œæ–¹ä¾¿æ•…éšœæ’æŸ¥ã€‚\\n\\n\\n&quot;);&#125;// æŠŠxmlè§£æåˆ°å‚æ•°stargç»“æ„ä¸­ã€‚bool _xmltoarg(char *strxmlbuffer)&#123;  memset(&amp;starg,0,sizeof(struct st_arg));  GetXMLBuffer(strxmlbuffer,&quot;host&quot;,starg.host,30);   // è¿œç¨‹æœåŠ¡ç«¯çš„IPå’Œç«¯å£ã€‚  if (strlen(starg.host)==0)  &#123; logfile.Write(&quot;host is null.\\n&quot;);  return false; &#125;  GetXMLBuffer(strxmlbuffer,&quot;mode&quot;,&amp;starg.mode);   // ä¼ è¾“æ¨¡å¼ï¼Œ1-è¢«åŠ¨æ¨¡å¼ï¼Œ2-ä¸»åŠ¨æ¨¡å¼ï¼Œç¼ºçœé‡‡ç”¨è¢«åŠ¨æ¨¡å¼ã€‚  if (starg.mode!=2)  starg.mode=1;  GetXMLBuffer(strxmlbuffer,&quot;username&quot;,starg.username,30);   // è¿œç¨‹æœåŠ¡ç«¯ftpçš„ç”¨æˆ·åã€‚  if (strlen(starg.username)==0)  &#123; logfile.Write(&quot;username is null.\\n&quot;);  return false; &#125;  GetXMLBuffer(strxmlbuffer,&quot;password&quot;,starg.password,30);   // è¿œç¨‹æœåŠ¡ç«¯ftpçš„å¯†ç ã€‚  if (strlen(starg.password)==0)  &#123; logfile.Write(&quot;password is null.\\n&quot;);  return false; &#125;  GetXMLBuffer(strxmlbuffer,&quot;remotepath&quot;,starg.remotepath,300);   // è¿œç¨‹æœåŠ¡ç«¯å­˜æ”¾æ–‡ä»¶çš„ç›®å½•ã€‚  if (strlen(starg.remotepath)==0)  &#123; logfile.Write(&quot;remotepath is null.\\n&quot;);  return false; &#125;  GetXMLBuffer(strxmlbuffer,&quot;localpath&quot;,starg.localpath,300);   // æœ¬åœ°æ–‡ä»¶å­˜æ”¾çš„ç›®å½•ã€‚  if (strlen(starg.localpath)==0)  &#123; logfile.Write(&quot;localpath is null.\\n&quot;);  return false; &#125;  GetXMLBuffer(strxmlbuffer,&quot;matchname&quot;,starg.matchname,100);   // å¾…ä¸‹è½½æ–‡ä»¶åŒ¹é…çš„è§„åˆ™ã€‚  if (strlen(starg.matchname)==0)  &#123; logfile.Write(&quot;matchname is null.\\n&quot;);  return false; &#125;  GetXMLBuffer(strxmlbuffer,&quot;listfilename&quot;,starg.listfilename,300);   // ä¸‹è½½å‰åˆ—å‡ºæœåŠ¡ç«¯æ–‡ä»¶åçš„æ–‡ä»¶ã€‚  if (strlen(starg.listfilename)==0)  &#123; logfile.Write(&quot;listfilename is null.\\n&quot;);  return false; &#125;  // ä¸‹è½½åæœåŠ¡ç«¯æ–‡ä»¶çš„å¤„ç†æ–¹å¼ï¼š1-ä»€ä¹ˆä¹Ÿä¸åšï¼›2-åˆ é™¤ï¼›3-å¤‡ä»½ã€‚  GetXMLBuffer(strxmlbuffer,&quot;ptype&quot;,&amp;starg.ptype);     if ( (starg.ptype!=1) &amp;&amp; (starg.ptype!=2) &amp;&amp; (starg.ptype!=3) )  &#123; logfile.Write(&quot;ptype is error.\\n&quot;); return false; &#125;  GetXMLBuffer(strxmlbuffer,&quot;remotepathbak&quot;,starg.remotepathbak,300); // ä¸‹è½½åæœåŠ¡ç«¯æ–‡ä»¶çš„å¤‡ä»½ç›®å½•ã€‚  if ( (starg.ptype==3) &amp;&amp; (strlen(starg.remotepathbak)==0) )  &#123; logfile.Write(&quot;remotepathbak is null.\\n&quot;);  return false; &#125;  GetXMLBuffer(strxmlbuffer,&quot;okfilename&quot;,starg.okfilename,300); // å·²ä¸‹è½½æˆåŠŸæ–‡ä»¶åæ¸…å•ã€‚  if ( (starg.ptype==1) &amp;&amp; (strlen(starg.okfilename)==0) )  &#123; logfile.Write(&quot;okfilename is null.\\n&quot;);  return false; &#125;  // æ˜¯å¦éœ€è¦æ£€æŸ¥æœåŠ¡ç«¯æ–‡ä»¶çš„æ—¶é—´ï¼Œtrue-éœ€è¦ï¼Œfalse-ä¸éœ€è¦ï¼Œæ­¤å‚æ•°åªæœ‰å½“ptype=1æ—¶æ‰æœ‰æ•ˆï¼Œç¼ºçœä¸ºfalseã€‚  GetXMLBuffer(strxmlbuffer,&quot;checkmtime&quot;,&amp;starg.checkmtime);  GetXMLBuffer(strxmlbuffer,&quot;timeout&quot;,&amp;starg.timeout);   // è¿›ç¨‹å¿ƒè·³çš„è¶…æ—¶æ—¶é—´ã€‚  if (starg.timeout==0) &#123; logfile.Write(&quot;timeout is null.\\n&quot;);  return false; &#125;  GetXMLBuffer(strxmlbuffer,&quot;pname&quot;,starg.pname,50);     // è¿›ç¨‹åã€‚  if (strlen(starg.pname)==0) &#123; logfile.Write(&quot;pname is null.\\n&quot;);  return false; &#125;  return true;&#125;// æŠŠftp.nlist()æ–¹æ³•è·å–åˆ°çš„listæ–‡ä»¶åŠ è½½åˆ°å®¹å™¨vlistfile2ä¸­ã€‚bool LoadListFile()&#123;  vlistfile2.clear();  CFile  File;  if (File.Open(starg.listfilename,&quot;r&quot;)==false)  &#123;    logfile.Write(&quot;File.Open(%s) å¤±è´¥ã€‚\\n&quot;,starg.listfilename); return false;  &#125;  struct st_fileinfo stfileinfo;  while (true)  &#123;    memset(&amp;stfileinfo,0,sizeof(struct st_fileinfo));       if (File.Fgets(stfileinfo.filename,300,true)==false) break;    if (MatchStr(stfileinfo.filename,starg.matchname)==false) continue;    if ( (starg.ptype==1) &amp;&amp; (starg.checkmtime==true) )    &#123;      // è·å–ftpæœåŠ¡ç«¯æ–‡ä»¶æ—¶é—´ã€‚      if (ftp.mtime(stfileinfo.filename)==false)      &#123;        logfile.Write(&quot;ftp.mtime(%s) failed.\\n&quot;,stfileinfo.filename); return false;      &#125;          strcpy(stfileinfo.mtime,ftp.m_mtime);    &#125;    vlistfile2.push_back(stfileinfo);  &#125;  /*  for (int ii=0;ii&lt;vlistfile2.size();ii++)    logfile.Write(&quot;filename=%s=\\n&quot;,vlistfile2[ii].filename);  */  return true;&#125;// åŠ è½½okfilenameæ–‡ä»¶ä¸­çš„å†…å®¹åˆ°å®¹å™¨vlistfile1ä¸­ã€‚bool LoadOKFile()&#123;  vlistfile1.clear();  CFile File;  // æ³¨æ„ï¼šå¦‚æœç¨‹åºæ˜¯ç¬¬ä¸€æ¬¡ä¸‹è½½ï¼Œokfilenameæ˜¯ä¸å­˜åœ¨çš„ï¼Œå¹¶ä¸æ˜¯é”™è¯¯ï¼Œæ‰€ä»¥ä¹Ÿè¿”å›trueã€‚  if ( (File.Open(starg.okfilename,&quot;r&quot;))==false )  return true;  char strbuffer[501];  struct st_fileinfo stfileinfo;  while (true)  &#123;    memset(&amp;stfileinfo,0,sizeof(struct st_fileinfo));    if (File.Fgets(strbuffer,300,true)==false) break;    GetXMLBuffer(strbuffer,&quot;filename&quot;,stfileinfo.filename);    GetXMLBuffer(strbuffer,&quot;mtime&quot;,stfileinfo.mtime);    vlistfile1.push_back(stfileinfo);  &#125;  return true;&#125;// æ¯”è¾ƒvlistfile2å’Œvlistfile1ï¼Œå¾—åˆ°vlistfile3å’Œvlistfile4ã€‚bool CompVector()&#123;  vlistfile3.clear(); vlistfile4.clear();  int ii,jj;  // éå†vlistfile2ã€‚  for (ii=0;ii&lt;vlistfile2.size();ii++)  &#123;    // åœ¨vlistfile1ä¸­æŸ¥æ‰¾vlistfile2[ii]çš„è®°å½•ã€‚    for (jj=0;jj&lt;vlistfile1.size();jj++)    &#123;      // å¦‚æœæ‰¾åˆ°äº†ï¼ŒæŠŠè®°å½•æ”¾å…¥vlistfile3ã€‚      if ( (strcmp(vlistfile2[ii].filename,vlistfile1[jj].filename)==0) &amp;&amp;           (strcmp(vlistfile2[ii].mtime,vlistfile1[jj].mtime)==0) )      &#123;        vlistfile3.push_back(vlistfile2[ii]); break;      &#125;    &#125;    // å¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼ŒæŠŠè®°å½•æ”¾å…¥vlistfile4ã€‚    if (jj==vlistfile1.size()) vlistfile4.push_back(vlistfile2[ii]);  &#125;  return true;&#125;// æŠŠå®¹å™¨vlistfile3ä¸­çš„å†…å®¹å†™å…¥okfilenameæ–‡ä»¶ï¼Œè¦†ç›–ä¹‹å‰çš„æ—§okfilenameæ–‡ä»¶ã€‚bool WriteToOKFile()&#123;  CFile File;      if (File.Open(starg.okfilename,&quot;w&quot;)==false)  &#123;    logfile.Write(&quot;File.Open(%s) failed.\\n&quot;,starg.okfilename); return false;  &#125;  for (int ii=0;ii&lt;vlistfile3.size();ii++)    File.Fprintf(&quot;&lt;filename&gt;%s&lt;/filename&gt;&lt;mtime&gt;%s&lt;/mtime&gt;\\n&quot;,vlistfile3[ii].filename,vlistfile3[ii].mtime);  return true;&#125;// å¦‚æœptype==1ï¼ŒæŠŠä¸‹è½½æˆåŠŸçš„æ–‡ä»¶è®°å½•è¿½åŠ åˆ°okfilenameæ–‡ä»¶ä¸­ã€‚bool AppendToOKFile(struct st_fileinfo *stfileinfo)&#123;  CFile File;  if (File.Open(starg.okfilename,&quot;a&quot;)==false)  &#123;    logfile.Write(&quot;File.Open(%s) failed.\\n&quot;,starg.okfilename); return false;  &#125;  File.Fprintf(&quot;&lt;filename&gt;%s&lt;/filename&gt;&lt;mtime&gt;%s&lt;/mtime&gt;\\n&quot;,stfileinfo-&gt;filename,stfileinfo-&gt;mtime);  return true;&#125;\n\nftpå®¢æˆ·ç«¯ä¸Šä¼ ftpputfiles.cpp\n#include &quot;_public.h&quot;#include &quot;_ftp.h&quot;// ç¨‹åºè¿è¡Œå‚æ•°çš„ç»“æ„ä½“ã€‚struct st_arg&#123;  char host[31];           // è¿œç¨‹æœåŠ¡ç«¯çš„IPå’Œç«¯å£ã€‚  int  mode;               // ä¼ è¾“æ¨¡å¼ï¼Œ1-è¢«åŠ¨æ¨¡å¼ï¼Œ2-ä¸»åŠ¨æ¨¡å¼ï¼Œç¼ºçœé‡‡ç”¨è¢«åŠ¨æ¨¡å¼ã€‚  char username[31];       // è¿œç¨‹æœåŠ¡ç«¯ftpçš„ç”¨æˆ·åã€‚  char password[31];       // è¿œç¨‹æœåŠ¡ç«¯ftpçš„å¯†ç ã€‚  char remotepath[301];    // è¿œç¨‹æœåŠ¡ç«¯å­˜æ”¾æ–‡ä»¶çš„ç›®å½•ã€‚  char localpath[301];     // æœ¬åœ°æ–‡ä»¶å­˜æ”¾çš„ç›®å½•ã€‚  char matchname[101];     // å¾…ä¸Šä¼ æ–‡ä»¶åŒ¹é…çš„è§„åˆ™ã€‚  int  ptype;              // ä¸Šä¼ åå®¢æˆ·ç«¯æ–‡ä»¶çš„å¤„ç†æ–¹å¼ï¼š1-ä»€ä¹ˆä¹Ÿä¸åšï¼›2-åˆ é™¤ï¼›3-å¤‡ä»½ã€‚  char localpathbak[301];  // ä¸Šä¼ åå®¢æˆ·ç«¯æ–‡ä»¶çš„å¤‡ä»½ç›®å½•ã€‚  char okfilename[301];    // å·²ä¸Šä¼ æˆåŠŸæ–‡ä»¶åæ¸…å•ã€‚  int  timeout;            // è¿›ç¨‹å¿ƒè·³çš„è¶…æ—¶æ—¶é—´ã€‚  char pname[51];          // è¿›ç¨‹åï¼Œå»ºè®®ç”¨&quot;ftpputfiles_åç¼€&quot;çš„æ–¹å¼ã€‚&#125; starg;// æ–‡ä»¶ä¿¡æ¯çš„ç»“æ„ä½“ã€‚struct st_fileinfo&#123;  char filename[301];   // æ–‡ä»¶åã€‚  char mtime[21];       // æ–‡ä»¶æ—¶é—´ã€‚&#125;;vector&lt;struct st_fileinfo&gt; vlistfile1;    // å·²ä¸Šä¼ æˆåŠŸæ–‡ä»¶åçš„å®¹å™¨ï¼Œä»okfilenameä¸­åŠ è½½ã€‚vector&lt;struct st_fileinfo&gt; vlistfile2;    // ä¸Šä¼ å‰åˆ—å‡ºå®¢æˆ·ç«¯æ–‡ä»¶åçš„å®¹å™¨ï¼Œä»nlistæ–‡ä»¶ä¸­åŠ è½½ã€‚vector&lt;struct st_fileinfo&gt; vlistfile3;    // æœ¬æ¬¡ä¸éœ€è¦ä¸Šä¼ çš„æ–‡ä»¶çš„å®¹å™¨ã€‚vector&lt;struct st_fileinfo&gt; vlistfile4;    // æœ¬æ¬¡éœ€è¦ä¸Šä¼ çš„æ–‡ä»¶çš„å®¹å™¨ã€‚// åŠ è½½okfilenameæ–‡ä»¶ä¸­çš„å†…å®¹åˆ°å®¹å™¨vlistfile1ä¸­ã€‚bool LoadOKFile();// æ¯”è¾ƒvlistfile2å’Œvlistfile1ï¼Œå¾—åˆ°vlistfile3å’Œvlistfile4ã€‚bool CompVector();// æŠŠå®¹å™¨vlistfile3ä¸­çš„å†…å®¹å†™å…¥okfilenameæ–‡ä»¶ï¼Œè¦†ç›–ä¹‹å‰çš„æ—§okfilenameæ–‡ä»¶ã€‚bool WriteToOKFile();// å¦‚æœptype==1ï¼ŒæŠŠä¸Šä¼ æˆåŠŸçš„æ–‡ä»¶è®°å½•è¿½åŠ åˆ°okfilenameæ–‡ä»¶ä¸­ã€‚bool AppendToOKFile(struct st_fileinfo *stfileinfo);// æŠŠlocalpathç›®å½•ä¸‹çš„æ–‡ä»¶åŠ è½½åˆ°vlistfile2å®¹å™¨ä¸­ã€‚bool LoadLocalFile();CLogFile logfile;Cftp ftp;// ç¨‹åºé€€å‡ºå’Œä¿¡å·2ã€15çš„å¤„ç†å‡½æ•°ã€‚void EXIT(int sig);void _help();// æŠŠxmlè§£æåˆ°å‚æ•°stargç»“æ„ä¸­ã€‚bool _xmltoarg(char *strxmlbuffer);// ä¸Šä¼ æ–‡ä»¶åŠŸèƒ½çš„ä¸»å‡½æ•°ã€‚bool _ftpputfiles();CPActive PActive;  // è¿›ç¨‹å¿ƒè·³ã€‚int main(int argc,char *argv[])&#123;  if (argc!=3) &#123; _help(); return -1; &#125;  // å…³é—­å…¨éƒ¨çš„ä¿¡å·å’Œè¾“å…¥è¾“å‡ºã€‚  // è®¾ç½®ä¿¡å·,åœ¨shellçŠ¶æ€ä¸‹å¯ç”¨ &quot;kill + è¿›ç¨‹å·&quot; æ­£å¸¸ç»ˆæ­¢äº›è¿›ç¨‹ã€‚  // ä½†è¯·ä¸è¦ç”¨ &quot;kill -9 +è¿›ç¨‹å·&quot; å¼ºè¡Œç»ˆæ­¢ã€‚  CloseIOAndSignal(); signal(SIGINT,EXIT); signal(SIGTERM,EXIT);  // æ‰“å¼€æ—¥å¿—æ–‡ä»¶ã€‚  if (logfile.Open(argv[1],&quot;a+&quot;)==false)  &#123;    printf(&quot;æ‰“å¼€æ—¥å¿—æ–‡ä»¶å¤±è´¥ï¼ˆ%sï¼‰ã€‚\\n&quot;,argv[1]); return -1;  &#125;  // è§£æxmlï¼Œå¾—åˆ°ç¨‹åºè¿è¡Œçš„å‚æ•°ã€‚  if (_xmltoarg(argv[2])==false) return -1;  PActive.AddPInfo(starg.timeout,starg.pname);  // æŠŠè¿›ç¨‹çš„å¿ƒè·³ä¿¡æ¯å†™å…¥å…±äº«å†…å­˜ã€‚  // ç™»å½•ftpæœåŠ¡ç«¯ã€‚  if (ftp.login(starg.host,starg.username,starg.password,starg.mode)==false)  &#123;    logfile.Write(&quot;ftp.login(%s,%s,%s) failed.\\n&quot;,starg.host,starg.username,starg.password); return -1;  &#125;  // logfile.Write(&quot;ftp.login ok.\\n&quot;);  // æ­£å¼è¿è¡Œåï¼Œå¯ä»¥æ³¨é‡Šè¿™è¡Œä»£ç ã€‚  _ftpputfiles();  ftp.logout();  return 0;&#125;// ä¸Šä¼ æ–‡ä»¶åŠŸèƒ½çš„ä¸»å‡½æ•°ã€‚bool _ftpputfiles()&#123;  // æŠŠlocalpathç›®å½•ä¸‹çš„æ–‡ä»¶åŠ è½½åˆ°vlistfile2å®¹å™¨ä¸­ã€‚  if (LoadLocalFile()==false)  &#123;    logfile.Write(&quot;LoadLocalFile() failed.\\n&quot;);  return false;  &#125;  PActive.UptATime();   // æ›´æ–°è¿›ç¨‹çš„å¿ƒè·³ã€‚  if (starg.ptype==1)  &#123;    // åŠ è½½okfilenameæ–‡ä»¶ä¸­çš„å†…å®¹åˆ°å®¹å™¨vlistfile1ä¸­ã€‚    LoadOKFile();    // æ¯”è¾ƒvlistfile2å’Œvlistfile1ï¼Œå¾—åˆ°vlistfile3å’Œvlistfile4ã€‚    CompVector();    // æŠŠå®¹å™¨vlistfile3ä¸­çš„å†…å®¹å†™å…¥okfilenameæ–‡ä»¶ï¼Œè¦†ç›–ä¹‹å‰çš„æ—§okfilenameæ–‡ä»¶ã€‚    WriteToOKFile();    // æŠŠvlistfile4ä¸­çš„å†…å®¹å¤åˆ¶åˆ°vlistfile2ä¸­ã€‚    vlistfile2.clear(); vlistfile2.swap(vlistfile4);  &#125;  PActive.UptATime();   // æ›´æ–°è¿›ç¨‹çš„å¿ƒè·³ã€‚  char strremotefilename[301],strlocalfilename[301];  // éå†å®¹å™¨vlistfile2ã€‚  for (int ii=0;ii&lt;vlistfile2.size();ii++)  &#123;    SNPRINTF(strremotefilename,sizeof(strremotefilename),300,&quot;%s/%s&quot;,starg.remotepath,vlistfile2[ii].filename);    SNPRINTF(strlocalfilename,sizeof(strlocalfilename),300,&quot;%s/%s&quot;,starg.localpath,vlistfile2[ii].filename);    logfile.Write(&quot;put %s ...&quot;,strlocalfilename);    // è°ƒç”¨ftp.put()æ–¹æ³•æŠŠæ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡ç«¯ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°å¡«trueçš„ç›®çš„æ˜¯ç¡®ä¿æ–‡ä»¶ä¸Šä¼ æˆåŠŸï¼Œå¯¹æ–¹ä¸å¯æŠµèµ–ã€‚    if (ftp.put(strlocalfilename,strremotefilename,true)==false)     &#123;      logfile.WriteEx(&quot;failed.\\n&quot;); return false;    &#125;    logfile.WriteEx(&quot;ok.\\n&quot;);    PActive.UptATime();   // æ›´æ–°è¿›ç¨‹çš„å¿ƒè·³ã€‚        // å¦‚æœptype==1ï¼ŒæŠŠä¸Šä¼ æˆåŠŸçš„æ–‡ä»¶è®°å½•è¿½åŠ åˆ°okfilenameæ–‡ä»¶ä¸­ã€‚    if (starg.ptype==1) AppendToOKFile(&amp;vlistfile2[ii]);    // åˆ é™¤æ–‡ä»¶ã€‚    if (starg.ptype==2)    &#123;      if (REMOVE(strlocalfilename)==false)      &#123;        logfile.Write(&quot;REMOVE(%s) failed.\\n&quot;,strlocalfilename); return false;      &#125;    &#125;    // è½¬å­˜åˆ°å¤‡ä»½ç›®å½•ã€‚    if (starg.ptype==3)    &#123;      char strlocalfilenamebak[301];      SNPRINTF(strlocalfilenamebak,sizeof(strlocalfilenamebak),300,&quot;%s/%s&quot;,starg.localpathbak,vlistfile2[ii].filename);      if (RENAME(strlocalfilename,strlocalfilenamebak)==false)      &#123;        logfile.Write(&quot;RENAME(%s,%s) failed.\\n&quot;,strlocalfilename,strlocalfilenamebak); return false;      &#125;    &#125;  &#125;  return true;&#125;void EXIT(int sig)&#123;  printf(&quot;ç¨‹åºé€€å‡ºï¼Œsig=%d\\n\\n&quot;,sig);  exit(0);&#125;void _help()&#123;  printf(&quot;\\n&quot;);  printf(&quot;Using:/project/tools1/bin/ftpputfiles logfilename xmlbuffer\\n\\n&quot;);  printf(&quot;Sample:/project/tools1/bin/procctl 30 /project/tools1/bin/ftpputfiles /log/idc/ftpputfiles.log \\&quot;&lt;host&gt;127.0.0.1:21&lt;/host&gt;&lt;mode&gt;1&lt;/mode&gt;&lt;username&gt;lijialin&lt;/username&gt;&lt;password&gt;6VzFeKBnSoV.&lt;/password&gt;&lt;localpath&gt;/home/lijialin/ftptext&lt;/localpath&gt;&lt;remotepath&gt;/tmp/ftptext&lt;/remotepath&gt;&lt;matchname&gt;*&lt;/matchname&gt;&lt;ptype&gt;1&lt;/ptype&gt;&lt;localpathbak&gt;/tmp/idc/surfdatabak&lt;/localpathbak&gt;&lt;okfilename&gt;/home/lijialin/textlist.xml&lt;/okfilename&gt;&lt;timeout&gt;80&lt;/timeout&gt;&lt;pname&gt;ftplijialinputfiletext&lt;/pname&gt;\\&quot;\\n\\n\\n&quot;);  printf(&quot;æœ¬ç¨‹åºæ˜¯é€šç”¨çš„åŠŸèƒ½æ¨¡å—ï¼Œç”¨äºæŠŠæœ¬åœ°ç›®å½•ä¸­çš„æ–‡ä»¶ä¸Šä¼ åˆ°è¿œç¨‹çš„ftpæœåŠ¡å™¨ã€‚\\n&quot;);  printf(&quot;logfilenameæ˜¯æœ¬ç¨‹åºè¿è¡Œçš„æ—¥å¿—æ–‡ä»¶ã€‚\\n&quot;);  printf(&quot;xmlbufferä¸ºæ–‡ä»¶ä¸Šä¼ çš„å‚æ•°ï¼Œå¦‚ä¸‹ï¼š\\n&quot;);  printf(&quot;&lt;host&gt;127.0.0.1:21&lt;/host&gt; è¿œç¨‹æœåŠ¡ç«¯çš„IPå’Œç«¯å£ã€‚\\n&quot;);  printf(&quot;&lt;mode&gt;1&lt;/mode&gt; ä¼ è¾“æ¨¡å¼ï¼Œ1-è¢«åŠ¨æ¨¡å¼ï¼Œ2-ä¸»åŠ¨æ¨¡å¼ï¼Œç¼ºçœé‡‡ç”¨è¢«åŠ¨æ¨¡å¼ã€‚\\n&quot;);  printf(&quot;&lt;username&gt;wucz&lt;/username&gt; è¿œç¨‹æœåŠ¡ç«¯ftpçš„ç”¨æˆ·åã€‚\\n&quot;);  printf(&quot;&lt;password&gt;wuczpwd&lt;/password&gt; è¿œç¨‹æœåŠ¡ç«¯ftpçš„å¯†ç ã€‚\\n&quot;);  printf(&quot;&lt;remotepath&gt;/tmp/ftpputest&lt;/remotepath&gt; è¿œç¨‹æœåŠ¡ç«¯å­˜æ”¾æ–‡ä»¶çš„ç›®å½•ã€‚\\n&quot;);  printf(&quot;&lt;localpath&gt;/tmp/idc/surfdata&lt;/localpath&gt; æœ¬åœ°æ–‡ä»¶å­˜æ”¾çš„ç›®å½•ã€‚\\n&quot;);  printf(&quot;&lt;matchname&gt;SURF_ZH*.JSON&lt;/matchname&gt; å¾…ä¸Šä¼ æ–‡ä»¶åŒ¹é…çš„è§„åˆ™ã€‚&quot;\\         &quot;ä¸åŒ¹é…çš„æ–‡ä»¶ä¸ä¼šè¢«ä¸Šä¼ ï¼Œæœ¬å­—æ®µå°½å¯èƒ½è®¾ç½®ç²¾ç¡®ï¼Œä¸å»ºè®®ç”¨*åŒ¹é…å…¨éƒ¨çš„æ–‡ä»¶ã€‚\\n&quot;);  printf(&quot;&lt;ptype&gt;1&lt;/ptype&gt; æ–‡ä»¶ä¸Šä¼ æˆåŠŸåï¼Œæœ¬åœ°æ–‡ä»¶çš„å¤„ç†æ–¹å¼ï¼š1-ä»€ä¹ˆä¹Ÿä¸åšï¼›2-åˆ é™¤ï¼›3-å¤‡ä»½ï¼Œå¦‚æœä¸º3ï¼Œè¿˜è¦æŒ‡å®šå¤‡ä»½çš„ç›®å½•ã€‚\\n&quot;);  printf(&quot;&lt;localpathbak&gt;/tmp/idc/surfdatabak&lt;/localpathbak&gt; æ–‡ä»¶ä¸Šä¼ æˆåŠŸåï¼Œæœ¬åœ°æ–‡ä»¶çš„å¤‡ä»½ç›®å½•ï¼Œæ­¤å‚æ•°åªæœ‰å½“ptype=3æ—¶æ‰æœ‰æ•ˆã€‚\\n&quot;);  printf(&quot;&lt;okfilename&gt;/idcdata/ftplist/ftpputfiles_surfdata.xml&lt;/okfilename&gt; å·²ä¸Šä¼ æˆåŠŸæ–‡ä»¶åæ¸…å•ï¼Œæ­¤å‚æ•°åªæœ‰å½“ptype=1æ—¶æ‰æœ‰æ•ˆã€‚\\n&quot;);  printf(&quot;&lt;timeout&gt;80&lt;/timeout&gt; ä¸Šä¼ æ–‡ä»¶è¶…æ—¶æ—¶é—´ï¼Œå•ä½ï¼šç§’ï¼Œè§†æ–‡ä»¶å¤§å°å’Œç½‘ç»œå¸¦å®½è€Œå®šã€‚\\n&quot;);  printf(&quot;&lt;pname&gt;ftpputfiles_surfdata&lt;/pname&gt; è¿›ç¨‹åï¼Œå°½å¯èƒ½é‡‡ç”¨æ˜“æ‡‚çš„ã€ä¸å…¶å®ƒè¿›ç¨‹ä¸åŒçš„åç§°ï¼Œæ–¹ä¾¿æ•…éšœæ’æŸ¥ã€‚\\n\\n\\n&quot;);&#125;// æŠŠxmlè§£æåˆ°å‚æ•°stargç»“æ„ä¸­ã€‚bool _xmltoarg(char *strxmlbuffer)&#123;  memset(&amp;starg,0,sizeof(struct st_arg));  GetXMLBuffer(strxmlbuffer,&quot;host&quot;,starg.host,30);   // è¿œç¨‹æœåŠ¡ç«¯çš„IPå’Œç«¯å£ã€‚  if (strlen(starg.host)==0)  &#123; logfile.Write(&quot;host is null.\\n&quot;);  return false; &#125;  GetXMLBuffer(strxmlbuffer,&quot;mode&quot;,&amp;starg.mode);   // ä¼ è¾“æ¨¡å¼ï¼Œ1-è¢«åŠ¨æ¨¡å¼ï¼Œ2-ä¸»åŠ¨æ¨¡å¼ï¼Œç¼ºçœé‡‡ç”¨è¢«åŠ¨æ¨¡å¼ã€‚  if (starg.mode!=2)  starg.mode=1;  GetXMLBuffer(strxmlbuffer,&quot;username&quot;,starg.username,30);   // è¿œç¨‹æœåŠ¡ç«¯ftpçš„ç”¨æˆ·åã€‚  if (strlen(starg.username)==0)  &#123; logfile.Write(&quot;username is null.\\n&quot;);  return false; &#125;  GetXMLBuffer(strxmlbuffer,&quot;password&quot;,starg.password,30);   // è¿œç¨‹æœåŠ¡ç«¯ftpçš„å¯†ç ã€‚  if (strlen(starg.password)==0)  &#123; logfile.Write(&quot;password is null.\\n&quot;);  return false; &#125;  GetXMLBuffer(strxmlbuffer,&quot;remotepath&quot;,starg.remotepath,300);   // è¿œç¨‹æœåŠ¡ç«¯å­˜æ”¾æ–‡ä»¶çš„ç›®å½•ã€‚  if (strlen(starg.remotepath)==0)  &#123; logfile.Write(&quot;remotepath is null.\\n&quot;);  return false; &#125;  GetXMLBuffer(strxmlbuffer,&quot;localpath&quot;,starg.localpath,300);   // æœ¬åœ°æ–‡ä»¶å­˜æ”¾çš„ç›®å½•ã€‚  if (strlen(starg.localpath)==0)  &#123; logfile.Write(&quot;localpath is null.\\n&quot;);  return false; &#125;  GetXMLBuffer(strxmlbuffer,&quot;matchname&quot;,starg.matchname,100);   // å¾…ä¸Šä¼ æ–‡ä»¶åŒ¹é…çš„è§„åˆ™ã€‚  if (strlen(starg.matchname)==0)  &#123; logfile.Write(&quot;matchname is null.\\n&quot;);  return false; &#125;  // ä¸Šä¼ åå®¢æˆ·ç«¯æ–‡ä»¶çš„å¤„ç†æ–¹å¼ï¼š1-ä»€ä¹ˆä¹Ÿä¸åšï¼›2-åˆ é™¤ï¼›3-å¤‡ä»½ã€‚  GetXMLBuffer(strxmlbuffer,&quot;ptype&quot;,&amp;starg.ptype);     if ( (starg.ptype!=1) &amp;&amp; (starg.ptype!=2) &amp;&amp; (starg.ptype!=3) )  &#123; logfile.Write(&quot;ptype is error.\\n&quot;); return false; &#125;  GetXMLBuffer(strxmlbuffer,&quot;localpathbak&quot;,starg.localpathbak,300); // ä¸Šä¼ åå®¢æˆ·ç«¯æ–‡ä»¶çš„å¤‡ä»½ç›®å½•ã€‚  if ( (starg.ptype==3) &amp;&amp; (strlen(starg.localpathbak)==0) )  &#123; logfile.Write(&quot;localpathbak is null.\\n&quot;);  return false; &#125;  GetXMLBuffer(strxmlbuffer,&quot;okfilename&quot;,starg.okfilename,300); // å·²ä¸Šä¼ æˆåŠŸæ–‡ä»¶åæ¸…å•ã€‚  if ( (starg.ptype==1) &amp;&amp; (strlen(starg.okfilename)==0) )  &#123; logfile.Write(&quot;okfilename is null.\\n&quot;);  return false; &#125;  GetXMLBuffer(strxmlbuffer,&quot;timeout&quot;,&amp;starg.timeout);   // è¿›ç¨‹å¿ƒè·³çš„è¶…æ—¶æ—¶é—´ã€‚  if (starg.timeout==0) &#123; logfile.Write(&quot;timeout is null.\\n&quot;);  return false; &#125;  GetXMLBuffer(strxmlbuffer,&quot;pname&quot;,starg.pname,50);     // è¿›ç¨‹åã€‚  if (strlen(starg.pname)==0) &#123; logfile.Write(&quot;pname is null.\\n&quot;);  return false; &#125;  return true;&#125;// æŠŠlocalpathç›®å½•ä¸‹çš„æ–‡ä»¶åŠ è½½åˆ°vlistfile2å®¹å™¨ä¸­ã€‚bool LoadLocalFile()&#123;  vlistfile2.clear();  CDir Dir;  Dir.SetDateFMT(&quot;yyyymmddhh24miss&quot;);  // ä¸åŒ…æ‹¬å­ç›®å½•ã€‚  // æ³¨æ„ï¼Œå¦‚æœæœ¬åœ°ç›®å½•ä¸‹çš„æ€»æ–‡ä»¶æ•°è¶…è¿‡10000ï¼Œå¢é‡ä¸Šä¼ æ–‡ä»¶åŠŸèƒ½å°†æœ‰é—®é¢˜ã€‚  // å»ºè®®ç”¨deletefilesç¨‹åºåŠæ—¶æ¸…ç†æœ¬åœ°ç›®å½•ä¸­çš„å†å²æ–‡ä»¶ã€‚  if (Dir.OpenDir(starg.localpath,starg.matchname)==false)  &#123;    logfile.Write(&quot;Dir.OpenDir(%s) å¤±è´¥ã€‚\\n&quot;,starg.localpath); return false;  &#125;  struct st_fileinfo stfileinfo;  while (true)  &#123;    memset(&amp;stfileinfo,0,sizeof(struct st_fileinfo));       if (Dir.ReadDir()==false) break;    strcpy(stfileinfo.filename,Dir.m_FileName);   // æ–‡ä»¶åï¼Œä¸åŒ…æ‹¬ç›®å½•åã€‚    strcpy(stfileinfo.mtime,Dir.m_ModifyTime);    // æ–‡ä»¶æ—¶é—´ã€‚    vlistfile2.push_back(stfileinfo);  &#125;  return true;&#125;// åŠ è½½okfilenameæ–‡ä»¶ä¸­çš„å†…å®¹åˆ°å®¹å™¨vlistfile1ä¸­ã€‚bool LoadOKFile()&#123;  vlistfile1.clear();  CFile File;  // æ³¨æ„ï¼šå¦‚æœç¨‹åºæ˜¯ç¬¬ä¸€æ¬¡ä¸Šä¼ ï¼Œokfilenameæ˜¯ä¸å­˜åœ¨çš„ï¼Œå¹¶ä¸æ˜¯é”™è¯¯ï¼Œæ‰€ä»¥ä¹Ÿè¿”å›trueã€‚  if ( (File.Open(starg.okfilename,&quot;r&quot;))==false )  return true;  char strbuffer[501];  struct st_fileinfo stfileinfo;  while (true)  &#123;    memset(&amp;stfileinfo,0,sizeof(struct st_fileinfo));    if (File.Fgets(strbuffer,300,true)==false) break;    GetXMLBuffer(strbuffer,&quot;filename&quot;,stfileinfo.filename);    GetXMLBuffer(strbuffer,&quot;mtime&quot;,stfileinfo.mtime);    vlistfile1.push_back(stfileinfo);  &#125;  return true;&#125;// æ¯”è¾ƒvlistfile2å’Œvlistfile1ï¼Œå¾—åˆ°vlistfile3å’Œvlistfile4ã€‚bool CompVector()&#123;  vlistfile3.clear(); vlistfile4.clear();  int ii,jj;  // éå†vlistfile2ã€‚  for (ii=0;ii&lt;vlistfile2.size();ii++)  &#123;    // åœ¨vlistfile1ä¸­æŸ¥æ‰¾vlistfile2[ii]çš„è®°å½•ã€‚    for (jj=0;jj&lt;vlistfile1.size();jj++)    &#123;      // å¦‚æœæ‰¾åˆ°äº†ï¼ŒæŠŠè®°å½•æ”¾å…¥vlistfile3ã€‚      if ( (strcmp(vlistfile2[ii].filename,vlistfile1[jj].filename)==0) &amp;&amp;           (strcmp(vlistfile2[ii].mtime,vlistfile1[jj].mtime)==0) )      &#123;        vlistfile3.push_back(vlistfile2[ii]); break;      &#125;    &#125;    // å¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼ŒæŠŠè®°å½•æ”¾å…¥vlistfile4ã€‚    if (jj==vlistfile1.size()) vlistfile4.push_back(vlistfile2[ii]);  &#125;  return true;&#125;// æŠŠå®¹å™¨vlistfile3ä¸­çš„å†…å®¹å†™å…¥okfilenameæ–‡ä»¶ï¼Œè¦†ç›–ä¹‹å‰çš„æ—§okfilenameæ–‡ä»¶ã€‚bool WriteToOKFile()&#123;  CFile File;      if (File.Open(starg.okfilename,&quot;w&quot;)==false)  &#123;    logfile.Write(&quot;File.Open(%s) failed.\\n&quot;,starg.okfilename); return false;  &#125;  for (int ii=0;ii&lt;vlistfile3.size();ii++)    File.Fprintf(&quot;&lt;filename&gt;%s&lt;/filename&gt;&lt;mtime&gt;%s&lt;/mtime&gt;\\n&quot;,vlistfile3[ii].filename,vlistfile3[ii].mtime);  return true;&#125;// å¦‚æœptype==1ï¼ŒæŠŠä¸Šä¼ æˆåŠŸçš„æ–‡ä»¶è®°å½•è¿½åŠ åˆ°okfilenameæ–‡ä»¶ä¸­ã€‚bool AppendToOKFile(struct st_fileinfo *stfileinfo)&#123;  CFile File;  if (File.Open(starg.okfilename,&quot;a&quot;)==false)  &#123;    logfile.Write(&quot;File.Open(%s) failed.\\n&quot;,starg.okfilename); return false;  &#125;  File.Fprintf(&quot;&lt;filename&gt;%s&lt;/filename&gt;&lt;mtime&gt;%s&lt;/mtime&gt;\\n&quot;,stfileinfo-&gt;filename,stfileinfo-&gt;mtime);  return true;&#125;\n\nftpç¼–è¯‘makefile\n# å¼€å‘æ¡†æ¶å¤´æ–‡ä»¶è·¯å¾„ã€‚PUBINCL = -I/project/public# å¼€å‘æ¡†æ¶cppæ–‡ä»¶åï¼Œè¿™é‡Œç›´æ¥åŒ…å«è¿›æ¥ï¼Œæ²¡æœ‰é‡‡ç”¨é“¾æ¥åº“ï¼Œæ˜¯ä¸ºäº†æ–¹ä¾¿è°ƒè¯•ã€‚PUBCPP = /project/public/_public.cpp# ç¼–è¯‘å‚æ•°ã€‚CFLAGS = -gall: ftpgetfiles ftpputfilesftpgetfiles:ftpgetfiles.cpp\tg++ $(CFLAGS) -o ftpgetfiles ftpgetfiles.cpp $(PUBINCL) $(PUBCPP) /project/public/libftp.a /project/public/_ftp.cpp -lm -lc\tcp ftpgetfiles ../bin/.ftpputfiles:ftpputfiles.cpp\tg++ $(CFLAGS) -o ftpputfiles ftpputfiles.cpp $(PUBINCL) $(PUBCPP) /project/public/libftp.a /project/public/_ftp.cpp -lm -lc\tcp ftpputfiles ../bin/.clean:\trm -f ftpgetfiles ftpputfiles\n\n\n\nTCPä¸Šä¼ ä¸‹è½½tcpå®¢æˆ·ç«¯ä¸Šä¼ tcpputfiles.cpp\n/* * ç¨‹åºåï¼štcpputfiles.cppï¼Œé‡‡ç”¨tcpåè®®ï¼Œå®ç°æ–‡ä»¶ä¸Šä¼ çš„å®¢æˆ·ç«¯ã€‚*/#include &quot;_public.h&quot;// ç¨‹åºè¿è¡Œçš„å‚æ•°ç»“æ„ä½“ã€‚struct st_arg&#123;  int  clienttype;          // å®¢æˆ·ç«¯ç±»å‹ï¼Œ1-ä¸Šä¼ æ–‡ä»¶ï¼›2-ä¸‹è½½æ–‡ä»¶ã€‚  char ip[31];              // æœåŠ¡ç«¯çš„IPåœ°å€ã€‚  int  port;                // æœåŠ¡ç«¯çš„ç«¯å£ã€‚  int  ptype;               // æ–‡ä»¶ä¸Šä¼ æˆåŠŸåæœ¬åœ°æ–‡ä»¶çš„å¤„ç†æ–¹å¼ï¼š1-åˆ é™¤æ–‡ä»¶ï¼›2-ç§»åŠ¨åˆ°å¤‡ä»½ç›®å½•ã€‚  char clientpath[301];     // æœ¬åœ°æ–‡ä»¶å­˜æ”¾çš„æ ¹ç›®å½•ã€‚  char clientpathbak[301];  // æ–‡ä»¶æˆåŠŸä¸Šä¼ åï¼Œæœ¬åœ°æ–‡ä»¶å¤‡ä»½çš„æ ¹ç›®å½•ï¼Œå½“ptype==2æ—¶æœ‰æ•ˆã€‚  bool andchild;            // æ˜¯å¦ä¸Šä¼ clientpathç›®å½•ä¸‹å„çº§å­ç›®å½•çš„æ–‡ä»¶ï¼Œtrue-æ˜¯ï¼›false-å¦ã€‚  char matchname[301];      // å¾…ä¸Šä¼ æ–‡ä»¶åçš„åŒ¹é…è§„åˆ™ï¼Œå¦‚&quot;*.TXT,*.XML&quot;ã€‚  char srvpath[301];        // æœåŠ¡ç«¯æ–‡ä»¶å­˜æ”¾çš„æ ¹ç›®å½•ã€‚  int  timetvl;             // æ‰«ææœ¬åœ°ç›®å½•æ–‡ä»¶çš„æ—¶é—´é—´éš”ï¼Œå•ä½ï¼šç§’ã€‚  int  timeout;             // è¿›ç¨‹å¿ƒè·³çš„è¶…æ—¶æ—¶é—´ã€‚  char pname[51];           // è¿›ç¨‹åï¼Œå»ºè®®ç”¨&quot;tcpputfiles_åç¼€&quot;çš„æ–¹å¼ã€‚&#125; starg;CLogFile logfile;// ç¨‹åºé€€å‡ºå’Œä¿¡å·2ã€15çš„å¤„ç†å‡½æ•°ã€‚void EXIT(int sig);void _help();// æŠŠxmlè§£æåˆ°å‚æ•°stargç»“æ„ä¸­ã€‚bool _xmltoarg(char *strxmlbuffer);CTcpClient TcpClient;bool Login(const char *argv);    // ç™»å½•ä¸šåŠ¡ã€‚bool ActiveTest();    // å¿ƒè·³ã€‚char strrecvbuffer[1024];   // å‘é€æŠ¥æ–‡çš„bufferã€‚char strsendbuffer[1024];   // æ¥æ”¶æŠ¥æ–‡çš„bufferã€‚// æ–‡ä»¶ä¸Šä¼ çš„ä¸»å‡½æ•°ï¼Œæ‰§è¡Œä¸€æ¬¡æ–‡ä»¶ä¸Šä¼ çš„ä»»åŠ¡ã€‚bool _tcpputfiles();bool bcontinue=true;   // å¦‚æœè°ƒç”¨_tcpputfileså‘é€äº†æ–‡ä»¶ï¼Œbcontinueä¸ºtrueï¼Œåˆå§‹åŒ–ä¸ºtrueã€‚// æŠŠæ–‡ä»¶çš„å†…å®¹å‘é€ç»™å¯¹ç«¯ã€‚bool SendFile(const int sockfd,const char *filename,const int filesize);// åˆ é™¤æˆ–è€…è½¬å­˜æœ¬åœ°çš„æ–‡ä»¶ã€‚bool AckMessage(const char *strrecvbuffer);CPActive PActive;  // è¿›ç¨‹å¿ƒè·³ã€‚int main(int argc,char *argv[])&#123;  if (argc!=3) &#123; _help(); return -1; &#125;  // å…³é—­å…¨éƒ¨çš„ä¿¡å·å’Œè¾“å…¥è¾“å‡ºã€‚  // è®¾ç½®ä¿¡å·,åœ¨shellçŠ¶æ€ä¸‹å¯ç”¨ &quot;kill + è¿›ç¨‹å·&quot; æ­£å¸¸ç»ˆæ­¢äº›è¿›ç¨‹ã€‚  // ä½†è¯·ä¸è¦ç”¨ &quot;kill -9 +è¿›ç¨‹å·&quot; å¼ºè¡Œç»ˆæ­¢ã€‚  CloseIOAndSignal(); signal(SIGINT,EXIT); signal(SIGTERM,EXIT);  // æ‰“å¼€æ—¥å¿—æ–‡ä»¶ã€‚  if (logfile.Open(argv[1],&quot;a+&quot;)==false)  &#123;    printf(&quot;æ‰“å¼€æ—¥å¿—æ–‡ä»¶å¤±è´¥ï¼ˆ%sï¼‰ã€‚\\n&quot;,argv[1]); return -1;  &#125;  // è§£æxmlï¼Œå¾—åˆ°ç¨‹åºè¿è¡Œçš„å‚æ•°ã€‚  if (_xmltoarg(argv[2])==false) return -1;  PActive.AddPInfo(starg.timeout,starg.pname);  // æŠŠè¿›ç¨‹çš„å¿ƒè·³ä¿¡æ¯å†™å…¥å…±äº«å†…å­˜ã€‚  // å‘æœåŠ¡ç«¯å‘èµ·è¿æ¥è¯·æ±‚ã€‚  if (TcpClient.ConnectToServer(starg.ip,starg.port)==false)  &#123;    logfile.Write(&quot;TcpClient.ConnectToServer(%s,%d) failed.\\n&quot;,starg.ip,starg.port); EXIT(-1);  &#125;  // ç™»å½•ä¸šåŠ¡ã€‚  if (Login(argv[2])==false) &#123; logfile.Write(&quot;Login() failed.\\n&quot;); EXIT(-1); &#125;  while (true)  &#123;    // è°ƒç”¨æ–‡ä»¶ä¸Šä¼ çš„ä¸»å‡½æ•°ï¼Œæ‰§è¡Œä¸€æ¬¡æ–‡ä»¶ä¸Šä¼ çš„ä»»åŠ¡ã€‚    if (_tcpputfiles()==false) &#123; logfile.Write(&quot;_tcpputfiles() failed.\\n&quot;); EXIT(-1); &#125;    if (bcontinue==false)    &#123;      sleep(starg.timetvl);      if (ActiveTest()==false) break;    &#125;    PActive.UptATime();  &#125;     EXIT(0);&#125;// å¿ƒè·³ã€‚ bool ActiveTest()    &#123;  memset(strsendbuffer,0,sizeof(strsendbuffer));  memset(strrecvbuffer,0,sizeof(strrecvbuffer));   SPRINTF(strsendbuffer,sizeof(strsendbuffer),&quot;&lt;activetest&gt;ok&lt;/activetest&gt;&quot;);  // logfile.Write(&quot;å‘é€ï¼š%s\\n&quot;,strsendbuffer);  if (TcpClient.Write(strsendbuffer)==false) return false; // å‘æœåŠ¡ç«¯å‘é€è¯·æ±‚æŠ¥æ–‡ã€‚  if (TcpClient.Read(strrecvbuffer,20)==false) return false; // æ¥æ”¶æœåŠ¡ç«¯çš„å›åº”æŠ¥æ–‡ã€‚  // logfile.Write(&quot;æ¥æ”¶ï¼š%s\\n&quot;,strrecvbuffer);  return true;&#125;// ç™»å½•ä¸šåŠ¡ã€‚ bool Login(const char *argv)    &#123;  memset(strsendbuffer,0,sizeof(strsendbuffer));  memset(strrecvbuffer,0,sizeof(strrecvbuffer));   SPRINTF(strsendbuffer,sizeof(strsendbuffer),&quot;%s&lt;clienttype&gt;1&lt;/clienttype&gt;&quot;,argv);  logfile.Write(&quot;å‘é€ï¼š%s\\n&quot;,strsendbuffer);  if (TcpClient.Write(strsendbuffer)==false) return false; // å‘æœåŠ¡ç«¯å‘é€è¯·æ±‚æŠ¥æ–‡ã€‚  if (TcpClient.Read(strrecvbuffer,20)==false) return false; // æ¥æ”¶æœåŠ¡ç«¯çš„å›åº”æŠ¥æ–‡ã€‚  logfile.Write(&quot;æ¥æ”¶ï¼š%s\\n&quot;,strrecvbuffer);  logfile.Write(&quot;ç™»å½•(%s:%d)æˆåŠŸã€‚\\n&quot;,starg.ip,starg.port);   return true;&#125;void EXIT(int sig)&#123;  logfile.Write(&quot;ç¨‹åºé€€å‡ºï¼Œsig=%d\\n\\n&quot;,sig);  exit(0);&#125;void _help()&#123;  printf(&quot;\\n&quot;);  printf(&quot;Using:/project/tools1/bin/tcpputfiles logfilename xmlbuffer\\n\\n&quot;);  printf(&quot;Sample:/project/tools1/bin/procctl 20 /project/tools1/bin/tcpputfiles /log/idc/tcpputfiles_surfdata.log \\&quot;&lt;ip&gt;39.106.159.62&lt;/ip&gt;&lt;port&gt;5005&lt;/port&gt;&lt;ptype&gt;1&lt;/ptype&gt;&lt;clientpath&gt;/tmp/tcp/surfdata1&lt;/clientpath&gt;&lt;andchild&gt;true&lt;/andchild&gt;&lt;matchname&gt;*.XML,*.CSV,*.JSON&lt;/matchname&gt;&lt;srvpath&gt;/tmp/tcp/surfdata2&lt;/srvpath&gt;&lt;timetvl&gt;10&lt;/timetvl&gt;&lt;timeout&gt;50&lt;/timeout&gt;&lt;pname&gt;tcpputfiles_surfdata&lt;/pname&gt;\\&quot;\\n&quot;);  printf(&quot;       /project/tools1/bin/procctl 20 /project/tools1/bin/tcpputfiles /log/idc/tcpputfiles_surfdata.log \\&quot;&lt;ip&gt;39.106.159.62&lt;/ip&gt;&lt;port&gt;5005&lt;/port&gt;&lt;ptype&gt;2&lt;/ptype&gt;&lt;clientpath&gt;/tmp/tcp/surfdata1&lt;/clientpath&gt;&lt;clientpathbak&gt;/tmp/tcp/surfdata1bak&lt;/clientpathbak&gt;&lt;andchild&gt;true&lt;/andchild&gt;&lt;matchname&gt;*.XML,*.CSV,*.JSON&lt;/matchname&gt;&lt;srvpath&gt;/tmp/tcp/surfdata2&lt;/srvpath&gt;&lt;timetvl&gt;10&lt;/timetvl&gt;&lt;timeout&gt;50&lt;/timeout&gt;&lt;pname&gt;tcpputfiles_surfdata&lt;/pname&gt;\\&quot;\\n\\n\\n&quot;);  printf(&quot;æœ¬ç¨‹åºæ˜¯æ•°æ®ä¸­å¿ƒçš„å…¬å…±åŠŸèƒ½æ¨¡å—ï¼Œé‡‡ç”¨tcpåè®®æŠŠæ–‡ä»¶ä¸Šä¼ ç»™æœåŠ¡ç«¯ã€‚\\n&quot;);  printf(&quot;logfilename   æœ¬ç¨‹åºè¿è¡Œçš„æ—¥å¿—æ–‡ä»¶ã€‚\\n&quot;);  printf(&quot;xmlbuffer     æœ¬ç¨‹åºè¿è¡Œçš„å‚æ•°ï¼Œå¦‚ä¸‹ï¼š\\n&quot;);  printf(&quot;ip            æœåŠ¡ç«¯çš„IPåœ°å€ã€‚\\n&quot;);  printf(&quot;port          æœåŠ¡ç«¯çš„ç«¯å£ã€‚\\n&quot;);  printf(&quot;ptype         æ–‡ä»¶ä¸Šä¼ æˆåŠŸåçš„å¤„ç†æ–¹å¼ï¼š1-åˆ é™¤æ–‡ä»¶ï¼›2-ç§»åŠ¨åˆ°å¤‡ä»½ç›®å½•ã€‚\\n&quot;);  printf(&quot;clientpath    æœ¬åœ°æ–‡ä»¶å­˜æ”¾çš„æ ¹ç›®å½•ã€‚\\n&quot;);  printf(&quot;clientpathbak æ–‡ä»¶æˆåŠŸä¸Šä¼ åï¼Œæœ¬åœ°æ–‡ä»¶å¤‡ä»½çš„æ ¹ç›®å½•ï¼Œå½“ptype==2æ—¶æœ‰æ•ˆã€‚\\n&quot;);  printf(&quot;andchild      æ˜¯å¦ä¸Šä¼ clientpathç›®å½•ä¸‹å„çº§å­ç›®å½•çš„æ–‡ä»¶ï¼Œtrue-æ˜¯ï¼›false-å¦ï¼Œç¼ºçœä¸ºfalseã€‚\\n&quot;);  printf(&quot;matchname     å¾…ä¸Šä¼ æ–‡ä»¶åçš„åŒ¹é…è§„åˆ™ï¼Œå¦‚\\&quot;*.TXT,*.XML\\&quot;\\n&quot;);  printf(&quot;srvpath       æœåŠ¡ç«¯æ–‡ä»¶å­˜æ”¾çš„æ ¹ç›®å½•ã€‚\\n&quot;);  printf(&quot;timetvl       æ‰«ææœ¬åœ°ç›®å½•æ–‡ä»¶çš„æ—¶é—´é—´éš”ï¼Œå•ä½ï¼šç§’ï¼Œå–å€¼åœ¨1-30ä¹‹é—´ã€‚\\n&quot;);  printf(&quot;timeout       æœ¬ç¨‹åºçš„è¶…æ—¶æ—¶é—´ï¼Œå•ä½ï¼šç§’ï¼Œè§†æ–‡ä»¶å¤§å°å’Œç½‘ç»œå¸¦å®½è€Œå®šï¼Œå»ºè®®è®¾ç½®50ä»¥ä¸Šã€‚\\n&quot;);  printf(&quot;pname         è¿›ç¨‹åï¼Œå°½å¯èƒ½é‡‡ç”¨æ˜“æ‡‚çš„ã€ä¸å…¶å®ƒè¿›ç¨‹ä¸åŒçš„åç§°ï¼Œæ–¹ä¾¿æ•…éšœæ’æŸ¥ã€‚\\n\\n&quot;);&#125;// æŠŠxmlè§£æåˆ°å‚æ•°stargç»“æ„bool _xmltoarg(char *strxmlbuffer)&#123;  memset(&amp;starg,0,sizeof(struct st_arg));  GetXMLBuffer(strxmlbuffer,&quot;ip&quot;,starg.ip);  if (strlen(starg.ip)==0) &#123; logfile.Write(&quot;ip is null.\\n&quot;); return false; &#125;  GetXMLBuffer(strxmlbuffer,&quot;port&quot;,&amp;starg.port);  if ( starg.port==0) &#123; logfile.Write(&quot;port is null.\\n&quot;); return false; &#125;  GetXMLBuffer(strxmlbuffer,&quot;ptype&quot;,&amp;starg.ptype);  if ((starg.ptype!=1)&amp;&amp;(starg.ptype!=2)) &#123; logfile.Write(&quot;ptype not in (1,2).\\n&quot;); return false; &#125;  GetXMLBuffer(strxmlbuffer,&quot;clientpath&quot;,starg.clientpath);  if (strlen(starg.clientpath)==0) &#123; logfile.Write(&quot;clientpath is null.\\n&quot;); return false; &#125;  GetXMLBuffer(strxmlbuffer,&quot;clientpathbak&quot;,starg.clientpathbak);  if ((starg.ptype==2)&amp;&amp;(strlen(starg.clientpathbak)==0)) &#123; logfile.Write(&quot;clientpathbak is null.\\n&quot;); return false; &#125;  GetXMLBuffer(strxmlbuffer,&quot;andchild&quot;,&amp;starg.andchild);  GetXMLBuffer(strxmlbuffer,&quot;matchname&quot;,starg.matchname);  if (strlen(starg.matchname)==0) &#123; logfile.Write(&quot;matchname is null.\\n&quot;); return false; &#125;  GetXMLBuffer(strxmlbuffer,&quot;srvpath&quot;,starg.srvpath);  if (strlen(starg.srvpath)==0) &#123; logfile.Write(&quot;srvpath is null.\\n&quot;); return false; &#125;  GetXMLBuffer(strxmlbuffer,&quot;timetvl&quot;,&amp;starg.timetvl);  if (starg.timetvl==0) &#123; logfile.Write(&quot;timetvl is null.\\n&quot;); return false; &#125;  // æ‰«ææœ¬åœ°ç›®å½•æ–‡ä»¶çš„æ—¶é—´é—´éš”ï¼Œå•ä½ï¼šç§’ã€‚  // starg.timetvlæ²¡æœ‰å¿…è¦è¶…è¿‡30ç§’ã€‚  if (starg.timetvl&gt;30) starg.timetvl=30;  // è¿›ç¨‹å¿ƒè·³çš„è¶…æ—¶æ—¶é—´ï¼Œä¸€å®šè¦å¤§äºstarg.timetvlï¼Œæ²¡æœ‰å¿…è¦å°äº50ç§’ã€‚  GetXMLBuffer(strxmlbuffer,&quot;timeout&quot;,&amp;starg.timeout);  if (starg.timeout==0) &#123; logfile.Write(&quot;timeout is null.\\n&quot;); return false; &#125;  if (starg.timeout&lt;50) starg.timeout=50;  GetXMLBuffer(strxmlbuffer,&quot;pname&quot;,starg.pname,50);  if (strlen(starg.pname)==0) &#123; logfile.Write(&quot;pname is null.\\n&quot;); return false; &#125;  return true;&#125;// æ–‡ä»¶ä¸Šä¼ çš„ä¸»å‡½æ•°ï¼Œæ‰§è¡Œä¸€æ¬¡æ–‡ä»¶ä¸Šä¼ çš„ä»»åŠ¡ã€‚bool _tcpputfiles()&#123;  CDir Dir;  // è°ƒç”¨OpenDir()æ‰“å¼€starg.clientpathç›®å½•ã€‚  if (Dir.OpenDir(starg.clientpath,starg.matchname,10000,starg.andchild)==false)  &#123;    logfile.Write(&quot;Dir.OpenDir(%s) å¤±è´¥ã€‚\\n&quot;,starg.clientpath); return false;  &#125;  int delayed=0;        // æœªæ”¶åˆ°å¯¹ç«¯ç¡®è®¤æŠ¥æ–‡çš„æ–‡ä»¶æ•°é‡ã€‚  int buflen=0;         // ç”¨äºå­˜æ”¾strrecvbufferçš„é•¿åº¦ã€‚  bcontinue=false;  while (true)  &#123;    memset(strsendbuffer,0,sizeof(strsendbuffer));    memset(strrecvbuffer,0,sizeof(strrecvbuffer));    // éå†ç›®å½•ä¸­çš„æ¯ä¸ªæ–‡ä»¶ï¼Œè°ƒç”¨ReadDir()è·å–ä¸€ä¸ªæ–‡ä»¶åã€‚    if (Dir.ReadDir()==false) break;    bcontinue=true;    // æŠŠæ–‡ä»¶åã€ä¿®æ”¹æ—¶é—´ã€æ–‡ä»¶å¤§å°ç»„æˆæŠ¥æ–‡ï¼Œå‘é€ç»™å¯¹ç«¯ã€‚    SNPRINTF(strsendbuffer,sizeof(strsendbuffer),1000,&quot;&lt;filename&gt;%s&lt;/filename&gt;&lt;mtime&gt;%s&lt;/mtime&gt;&lt;size&gt;%d&lt;/size&gt;&quot;,Dir.m_FullFileName,Dir.m_ModifyTime,Dir.m_FileSize);    // logfile.Write(&quot;strsendbuffer=%s\\n&quot;,strsendbuffer);    if (TcpClient.Write(strsendbuffer)==false)    &#123;      logfile.Write(&quot;TcpClient.Write() failed.\\n&quot;); return false;    &#125;    // æŠŠæ–‡ä»¶çš„å†…å®¹å‘é€ç»™å¯¹ç«¯ã€‚    logfile.Write(&quot;send %s(%d) ...&quot;,Dir.m_FullFileName,Dir.m_FileSize);    if (SendFile(TcpClient.m_connfd,Dir.m_FullFileName,Dir.m_FileSize)==true)    &#123;      logfile.WriteEx(&quot;ok.\\n&quot;); delayed++;    &#125;    else    &#123;      logfile.WriteEx(&quot;failed.\\n&quot;); TcpClient.Close(); return false;    &#125;    PActive.UptATime();    // æ¥æ”¶å¯¹ç«¯çš„ç¡®è®¤æŠ¥æ–‡ã€‚    while (delayed&gt;0)    &#123;      memset(strrecvbuffer,0,sizeof(strrecvbuffer));      if (TcpRead(TcpClient.m_connfd,strrecvbuffer,&amp;buflen,-1)==false) break;      // logfile.Write(&quot;strrecvbuffer=%s\\n&quot;,strrecvbuffer);      // åˆ é™¤æˆ–è€…è½¬å­˜æœ¬åœ°çš„æ–‡ä»¶ã€‚      delayed--;      AckMessage(strrecvbuffer);    &#125;  &#125;  // ç»§ç»­æ¥æ”¶å¯¹ç«¯çš„ç¡®è®¤æŠ¥æ–‡ã€‚  while (delayed&gt;0)  &#123;    memset(strrecvbuffer,0,sizeof(strrecvbuffer));    if (TcpRead(TcpClient.m_connfd,strrecvbuffer,&amp;buflen,10)==false) break;    // logfile.Write(&quot;strrecvbuffer=%s\\n&quot;,strrecvbuffer);    // åˆ é™¤æˆ–è€…è½¬å­˜æœ¬åœ°çš„æ–‡ä»¶ã€‚    delayed--;    AckMessage(strrecvbuffer);  &#125;  return true;&#125;// æŠŠæ–‡ä»¶çš„å†…å®¹å‘é€ç»™å¯¹ç«¯ã€‚bool SendFile(const int sockfd,const char *filename,const int filesize)&#123;  int  onread=0;        // æ¯æ¬¡è°ƒç”¨freadæ—¶æ‰“ç®—è¯»å–çš„å­—èŠ‚æ•°ã€‚   int  bytes=0;         // è°ƒç”¨ä¸€æ¬¡freadä»æ–‡ä»¶ä¸­è¯»å–çš„å­—èŠ‚æ•°ã€‚  char buffer[1000];    // å­˜æ”¾è¯»å–æ•°æ®çš„bufferã€‚  int  totalbytes=0;    // ä»æ–‡ä»¶ä¸­å·²è¯»å–çš„å­—èŠ‚æ€»æ•°ã€‚  FILE *fp=NULL;  // ä»¥&quot;rb&quot;çš„æ¨¡å¼æ‰“å¼€æ–‡ä»¶ã€‚  if ( (fp=fopen(filename,&quot;rb&quot;))==NULL )  return false;  while (true)  &#123;    memset(buffer,0,sizeof(buffer));    // è®¡ç®—æœ¬æ¬¡åº”è¯¥è¯»å–çš„å­—èŠ‚æ•°ï¼Œå¦‚æœå‰©ä½™çš„æ•°æ®è¶…è¿‡1000å­—èŠ‚ï¼Œå°±æ‰“ç®—è¯»1000å­—èŠ‚ã€‚    if (filesize-totalbytes&gt;1000) onread=1000;    else onread=filesize-totalbytes;    // ä»æ–‡ä»¶ä¸­è¯»å–æ•°æ®ã€‚    bytes=fread(buffer,1,onread,fp);    // æŠŠè¯»å–åˆ°çš„æ•°æ®å‘é€ç»™å¯¹ç«¯ã€‚    if (bytes&gt;0)    &#123;      if (Writen(sockfd,buffer,bytes)==false) &#123; fclose(fp); return false; &#125;    &#125;    // è®¡ç®—æ–‡ä»¶å·²è¯»å–çš„å­—èŠ‚æ€»æ•°ï¼Œå¦‚æœæ–‡ä»¶å·²è¯»å®Œï¼Œè·³å‡ºå¾ªç¯ã€‚    totalbytes=totalbytes+bytes;    if (totalbytes==filesize) break;  &#125;  fclose(fp);  return true;&#125;// åˆ é™¤æˆ–è€…è½¬å­˜æœ¬åœ°çš„æ–‡ä»¶ã€‚bool AckMessage(const char *strrecvbuffer)&#123;  char filename[301];  char result[11];  memset(filename,0,sizeof(filename));  memset(result,0,sizeof(result));  GetXMLBuffer(strrecvbuffer,&quot;filename&quot;,filename,300);  GetXMLBuffer(strrecvbuffer,&quot;result&quot;,result,10);  // å¦‚æœæœåŠ¡ç«¯æ¥æ”¶æ–‡ä»¶ä¸æˆåŠŸï¼Œç›´æ¥è¿”å›ã€‚  if (strcmp(result,&quot;ok&quot;)!=0) return true;  // ptype==1ï¼Œåˆ é™¤æ–‡ä»¶ã€‚  if (starg.ptype==1)  &#123;    if (REMOVE(filename)==false) &#123; logfile.Write(&quot;REMOVE(%s) failed.\\n&quot;,filename); return false; &#125;  &#125;    // ptype==2ï¼Œç§»åŠ¨åˆ°å¤‡ä»½ç›®å½•ã€‚  if (starg.ptype==2)  &#123;    // ç”Ÿæˆè½¬å­˜åçš„å¤‡ä»½ç›®å½•æ–‡ä»¶åã€‚    char bakfilename[301];    STRCPY(bakfilename,sizeof(bakfilename),filename);    UpdateStr(bakfilename,starg.clientpath,starg.clientpathbak,false);    if (RENAME(filename,bakfilename)==false)     &#123; logfile.Write(&quot;RENAME(%s,%s) failed.\\n&quot;,filename,bakfilename); return false; &#125;  &#125;  return true;&#125;\n\n\n\ntcpå®¢æˆ·ç«¯ä¸‹è½½tcpgetfiles.cpp\n/* * ç¨‹åºåï¼štcpgetfiles.cppï¼Œé‡‡ç”¨tcpåè®®ï¼Œå®ç°æ–‡ä»¶ä¸‹è½½çš„å®¢æˆ·ç«¯ã€‚*/#include &quot;_public.h&quot;// ç¨‹åºè¿è¡Œçš„å‚æ•°ç»“æ„ä½“ã€‚struct st_arg&#123;  int  clienttype;          // å®¢æˆ·ç«¯ç±»å‹ï¼Œ1-ä¸Šä¼ æ–‡ä»¶ï¼›2-ä¸‹è½½æ–‡ä»¶ã€‚  char ip[31];              // æœåŠ¡ç«¯çš„IPåœ°å€ã€‚  int  port;                // æœåŠ¡ç«¯çš„ç«¯å£ã€‚  int  ptype;               // æ–‡ä»¶ä¸‹è½½æˆåŠŸåæœåŠ¡ç«¯æ–‡ä»¶çš„å¤„ç†æ–¹å¼ï¼š1-åˆ é™¤æ–‡ä»¶ï¼›2-ç§»åŠ¨åˆ°å¤‡ä»½ç›®å½•ã€‚  char srvpath[301];        // æœåŠ¡ç«¯æ–‡ä»¶å­˜æ”¾çš„æ ¹ç›®å½•ã€‚  char srvpathbak[301];     // æ–‡ä»¶æˆåŠŸä¸‹è½½åï¼ŒæœåŠ¡ç«¯æ–‡ä»¶å¤‡ä»½çš„æ ¹ç›®å½•ï¼Œå½“ptype==2æ—¶æœ‰æ•ˆã€‚  bool andchild;            // æ˜¯å¦ä¸‹è½½srvpathç›®å½•ä¸‹å„çº§å­ç›®å½•çš„æ–‡ä»¶ï¼Œtrue-æ˜¯ï¼›false-å¦ã€‚  char matchname[301];      // å¾…ä¸‹è½½æ–‡ä»¶åçš„åŒ¹é…è§„åˆ™ï¼Œå¦‚&quot;*.TXT,*.XML&quot;ã€‚  char clientpath[301];     // å®¢æˆ·ç«¯æ–‡ä»¶å­˜æ”¾çš„æ ¹ç›®å½•ã€‚  int  timetvl;             // æ‰«ææœåŠ¡ç«¯ç›®å½•æ–‡ä»¶çš„æ—¶é—´é—´éš”ï¼Œå•ä½ï¼šç§’ã€‚  int  timeout;             // è¿›ç¨‹å¿ƒè·³çš„è¶…æ—¶æ—¶é—´ã€‚  char pname[51];           // è¿›ç¨‹åï¼Œå»ºè®®ç”¨&quot;tcpgetfiles_åç¼€&quot;çš„æ–¹å¼ã€‚&#125; starg;CLogFile logfile;// ç¨‹åºé€€å‡ºå’Œä¿¡å·2ã€15çš„å¤„ç†å‡½æ•°ã€‚void EXIT(int sig);void _help();// æŠŠxmlè§£æåˆ°å‚æ•°stargç»“æ„ä¸­ã€‚bool _xmltoarg(char *strxmlbuffer);CTcpClient TcpClient;bool Login(const char *argv);    // ç™»å½•ä¸šåŠ¡ã€‚char strrecvbuffer[1024];   // å‘é€æŠ¥æ–‡çš„bufferã€‚char strsendbuffer[1024];   // æ¥æ”¶æŠ¥æ–‡çš„bufferã€‚// æ–‡ä»¶ä¸‹è½½çš„ä¸»å‡½æ•°ã€‚void _tcpgetfiles();// æ¥æ”¶æ–‡ä»¶çš„å†…å®¹ã€‚bool RecvFile(const int sockfd,const char *filename,const char *mtime,int filesize);CPActive PActive;  // è¿›ç¨‹å¿ƒè·³ã€‚int main(int argc,char *argv[])&#123;  if (argc!=3) &#123; _help(); return -1; &#125;  // å…³é—­å…¨éƒ¨çš„ä¿¡å·å’Œè¾“å…¥è¾“å‡ºã€‚  // è®¾ç½®ä¿¡å·,åœ¨shellçŠ¶æ€ä¸‹å¯ç”¨ &quot;kill + è¿›ç¨‹å·&quot; æ­£å¸¸ç»ˆæ­¢äº›è¿›ç¨‹ã€‚  // ä½†è¯·ä¸è¦ç”¨ &quot;kill -9 +è¿›ç¨‹å·&quot; å¼ºè¡Œç»ˆæ­¢ã€‚  CloseIOAndSignal(); signal(SIGINT,EXIT); signal(SIGTERM,EXIT);  // æ‰“å¼€æ—¥å¿—æ–‡ä»¶ã€‚  if (logfile.Open(argv[1],&quot;a+&quot;)==false)  &#123;    printf(&quot;æ‰“å¼€æ—¥å¿—æ–‡ä»¶å¤±è´¥ï¼ˆ%sï¼‰ã€‚\\n&quot;,argv[1]); return -1;  &#125;  // è§£æxmlï¼Œå¾—åˆ°ç¨‹åºè¿è¡Œçš„å‚æ•°ã€‚  if (_xmltoarg(argv[2])==false) return -1;  PActive.AddPInfo(starg.timeout,starg.pname);  // æŠŠè¿›ç¨‹çš„å¿ƒè·³ä¿¡æ¯å†™å…¥å…±äº«å†…å­˜ã€‚  // å‘æœåŠ¡ç«¯å‘èµ·è¿æ¥è¯·æ±‚ã€‚  if (TcpClient.ConnectToServer(starg.ip,starg.port)==false)  &#123;    logfile.Write(&quot;TcpClient.ConnectToServer(%s,%d) failed.\\n&quot;,starg.ip,starg.port); EXIT(-1);  &#125;  // ç™»å½•ä¸šåŠ¡ã€‚  if (Login(argv[2])==false) &#123; logfile.Write(&quot;Login() failed.\\n&quot;); EXIT(-1); &#125;  // è°ƒç”¨æ–‡ä»¶ä¸‹è½½çš„ä¸»å‡½æ•°ã€‚  _tcpgetfiles();  EXIT(0);&#125;// ç™»å½•ä¸šåŠ¡ã€‚ bool Login(const char *argv)    &#123;  memset(strsendbuffer,0,sizeof(strsendbuffer));  memset(strrecvbuffer,0,sizeof(strrecvbuffer));   SPRINTF(strsendbuffer,sizeof(strsendbuffer),&quot;%s&lt;clienttype&gt;2&lt;/clienttype&gt;&quot;,argv);  logfile.Write(&quot;å‘é€ï¼š%s\\n&quot;,strsendbuffer);  if (TcpClient.Write(strsendbuffer)==false) return false; // å‘æœåŠ¡ç«¯å‘é€è¯·æ±‚æŠ¥æ–‡ã€‚  if (TcpClient.Read(strrecvbuffer,20)==false) return false; // æ¥æ”¶æœåŠ¡ç«¯çš„å›åº”æŠ¥æ–‡ã€‚  logfile.Write(&quot;æ¥æ”¶ï¼š%s\\n&quot;,strrecvbuffer);  logfile.Write(&quot;ç™»å½•(%s:%d)æˆåŠŸã€‚\\n&quot;,starg.ip,starg.port);   return true;&#125;void EXIT(int sig)&#123;  logfile.Write(&quot;ç¨‹åºé€€å‡ºï¼Œsig=%d\\n\\n&quot;,sig);  exit(0);&#125;void _help()&#123;  printf(&quot;\\n&quot;);  printf(&quot;Using:/project/tools1/bin/tcpgetfiles logfilename xmlbuffer\\n\\n&quot;);  printf(&quot;Sample:/project/tools1/bin/procctl 20 /project/tools1/bin/tcpgetfiles /log/idc/tcpgetfiles_surfdata.log \\&quot;&lt;ip&gt;192.168.174.132&lt;/ip&gt;&lt;port&gt;5005&lt;/port&gt;&lt;ptype&gt;1&lt;/ptype&gt;&lt;srvpath&gt;/tmp/tcp/surfdata2&lt;/srvpath&gt;&lt;andchild&gt;true&lt;/andchild&gt;&lt;matchname&gt;*.XML,*.CSV,*.JSON&lt;/matchname&gt;&lt;clientpath&gt;/tmp/tcp/surfdata3&lt;/clientpath&gt;&lt;timetvl&gt;10&lt;/timetvl&gt;&lt;timeout&gt;50&lt;/timeout&gt;&lt;pname&gt;tcpgetfiles_surfdata&lt;/pname&gt;\\&quot;\\n&quot;);  printf(&quot;       /project/tools1/bin/procctl 20 /project/tools1/bin/tcpgetfiles /log/idc/tcpgetfiles_surfdata.log \\&quot;&lt;ip&gt;192.168.174.132&lt;/ip&gt;&lt;port&gt;5005&lt;/port&gt;&lt;ptype&gt;2&lt;/ptype&gt;&lt;srvpath&gt;/tmp/tcp/surfdata2&lt;/srvpath&gt;&lt;srvpathbak&gt;/tmp/tcp/surfdata2bak&lt;/srvpathbak&gt;&lt;andchild&gt;true&lt;/andchild&gt;&lt;matchname&gt;*.XML,*.CSV,*.JSON&lt;/matchname&gt;&lt;clientpath&gt;/tmp/tcp/surfdata3&lt;/clientpath&gt;&lt;timetvl&gt;10&lt;/timetvl&gt;&lt;timeout&gt;50&lt;/timeout&gt;&lt;pname&gt;tcpgetfiles_surfdata&lt;/pname&gt;\\&quot;\\n\\n\\n&quot;);  printf(&quot;æœ¬ç¨‹åºæ˜¯æ•°æ®ä¸­å¿ƒçš„å…¬å…±åŠŸèƒ½æ¨¡å—ï¼Œé‡‡ç”¨tcpåè®®ä»æœåŠ¡ç«¯ä¸‹è½½æ–‡ä»¶ã€‚\\n&quot;);  printf(&quot;logfilename   æœ¬ç¨‹åºè¿è¡Œçš„æ—¥å¿—æ–‡ä»¶ã€‚\\n&quot;);  printf(&quot;xmlbuffer     æœ¬ç¨‹åºè¿è¡Œçš„å‚æ•°ï¼Œå¦‚ä¸‹ï¼š\\n&quot;);  printf(&quot;ip            æœåŠ¡ç«¯çš„IPåœ°å€ã€‚\\n&quot;);  printf(&quot;port          æœåŠ¡ç«¯çš„ç«¯å£ã€‚\\n&quot;);  printf(&quot;ptype         æ–‡ä»¶ä¸‹è½½æˆåŠŸåæœåŠ¡ç«¯æ–‡ä»¶çš„å¤„ç†æ–¹å¼ï¼š1-åˆ é™¤æ–‡ä»¶ï¼›2-ç§»åŠ¨åˆ°å¤‡ä»½ç›®å½•ã€‚\\n&quot;);  printf(&quot;srvpath       æœåŠ¡ç«¯æ–‡ä»¶å­˜æ”¾çš„æ ¹ç›®å½•ã€‚\\n&quot;);  printf(&quot;srvpathbak    æ–‡ä»¶æˆåŠŸä¸‹è½½åï¼ŒæœåŠ¡ç«¯æ–‡ä»¶å¤‡ä»½çš„æ ¹ç›®å½•ï¼Œå½“ptype==2æ—¶æœ‰æ•ˆã€‚\\n&quot;);  printf(&quot;andchild      æ˜¯å¦ä¸‹è½½srvpathç›®å½•ä¸‹å„çº§å­ç›®å½•çš„æ–‡ä»¶ï¼Œtrue-æ˜¯ï¼›false-å¦ï¼Œç¼ºçœä¸ºfalseã€‚\\n&quot;);  printf(&quot;matchname     å¾…ä¸‹è½½æ–‡ä»¶åçš„åŒ¹é…è§„åˆ™ï¼Œå¦‚\\&quot;*.TXT,*.XML\\&quot;\\n&quot;);  printf(&quot;clientpath    å®¢æˆ·ç«¯æ–‡ä»¶å­˜æ”¾çš„æ ¹ç›®å½•ã€‚\\n&quot;);  printf(&quot;timetvl       æ‰«ææœåŠ¡ç›®å½•æ–‡ä»¶çš„æ—¶é—´é—´éš”ï¼Œå•ä½ï¼šç§’ï¼Œå–å€¼åœ¨1-30ä¹‹é—´ã€‚\\n&quot;);  printf(&quot;timeout       æœ¬ç¨‹åºçš„è¶…æ—¶æ—¶é—´ï¼Œå•ä½ï¼šç§’ï¼Œè§†æ–‡ä»¶å¤§å°å’Œç½‘ç»œå¸¦å®½è€Œå®šï¼Œå»ºè®®è®¾ç½®50ä»¥ä¸Šã€‚\\n&quot;);  printf(&quot;pname         è¿›ç¨‹åï¼Œå°½å¯èƒ½é‡‡ç”¨æ˜“æ‡‚çš„ã€ä¸å…¶å®ƒè¿›ç¨‹ä¸åŒçš„åç§°ï¼Œæ–¹ä¾¿æ•…éšœæ’æŸ¥ã€‚\\n\\n&quot;);&#125;// æŠŠxmlè§£æåˆ°å‚æ•°stargç»“æ„bool _xmltoarg(char *strxmlbuffer)&#123;  memset(&amp;starg,0,sizeof(struct st_arg));  GetXMLBuffer(strxmlbuffer,&quot;ip&quot;,starg.ip);  if (strlen(starg.ip)==0) &#123; logfile.Write(&quot;ip is null.\\n&quot;); return false; &#125;  GetXMLBuffer(strxmlbuffer,&quot;port&quot;,&amp;starg.port);  if ( starg.port==0) &#123; logfile.Write(&quot;port is null.\\n&quot;); return false; &#125;  GetXMLBuffer(strxmlbuffer,&quot;ptype&quot;,&amp;starg.ptype);  if ((starg.ptype!=1)&amp;&amp;(starg.ptype!=2)) &#123; logfile.Write(&quot;ptype not in (1,2).\\n&quot;); return false; &#125;  GetXMLBuffer(strxmlbuffer,&quot;srvpath&quot;,starg.srvpath);  if (strlen(starg.srvpath)==0) &#123; logfile.Write(&quot;srvpath is null.\\n&quot;); return false; &#125;  GetXMLBuffer(strxmlbuffer,&quot;srvpathbak&quot;,starg.srvpathbak);  if ((starg.ptype==2)&amp;&amp;(strlen(starg.srvpathbak)==0)) &#123; logfile.Write(&quot;srvpathbak is null.\\n&quot;); return false; &#125;  GetXMLBuffer(strxmlbuffer,&quot;andchild&quot;,&amp;starg.andchild);  GetXMLBuffer(strxmlbuffer,&quot;matchname&quot;,starg.matchname);  if (strlen(starg.matchname)==0) &#123; logfile.Write(&quot;matchname is null.\\n&quot;); return false; &#125;  GetXMLBuffer(strxmlbuffer,&quot;clientpath&quot;,starg.clientpath);  if (strlen(starg.clientpath)==0) &#123; logfile.Write(&quot;clientpath is null.\\n&quot;); return false; &#125;  GetXMLBuffer(strxmlbuffer,&quot;timetvl&quot;,&amp;starg.timetvl);  if (starg.timetvl==0) &#123; logfile.Write(&quot;timetvl is null.\\n&quot;); return false; &#125;  // æ‰«ææœåŠ¡ç«¯ç›®å½•æ–‡ä»¶çš„æ—¶é—´é—´éš”ï¼Œå•ä½ï¼šç§’ã€‚  // starg.timetvlæ²¡æœ‰å¿…è¦è¶…è¿‡30ç§’ã€‚  if (starg.timetvl&gt;30) starg.timetvl=30;  // è¿›ç¨‹å¿ƒè·³çš„è¶…æ—¶æ—¶é—´ï¼Œä¸€å®šè¦å¤§äºstarg.timetvlï¼Œæ²¡æœ‰å¿…è¦å°äº50ç§’ã€‚  GetXMLBuffer(strxmlbuffer,&quot;timeout&quot;,&amp;starg.timeout);  if (starg.timeout==0) &#123; logfile.Write(&quot;timeout is null.\\n&quot;); return false; &#125;  if (starg.timeout&lt;50) starg.timeout=50;  GetXMLBuffer(strxmlbuffer,&quot;pname&quot;,starg.pname,50);  if (strlen(starg.pname)==0) &#123; logfile.Write(&quot;pname is null.\\n&quot;); return false; &#125;  return true;&#125;// æ–‡ä»¶ä¸‹è½½çš„ä¸»å‡½æ•°ã€‚void _tcpgetfiles()&#123;  PActive.AddPInfo(starg.timeout,starg.pname);  while (true)  &#123;    memset(strsendbuffer,0,sizeof(strsendbuffer));    memset(strrecvbuffer,0,sizeof(strrecvbuffer));    PActive.UptATime();    // æ¥æ”¶æœåŠ¡ç«¯çš„æŠ¥æ–‡ã€‚    // ç¬¬äºŒä¸ªå‚æ•°çš„å–å€¼å¿…é¡»å¤§äºstarg.timetvlï¼Œå°äºstarg.timeoutã€‚    if (TcpClient.Read(strrecvbuffer,starg.timetvl+10)==false)    &#123;      logfile.Write(&quot;TcpClient.Read() failed.\\n&quot;); return;    &#125;    // logfile.Write(&quot;strrecvbuffer=%s\\n&quot;,strrecvbuffer);    // å¤„ç†å¿ƒè·³æŠ¥æ–‡ã€‚    if (strcmp(strrecvbuffer,&quot;&lt;activetest&gt;ok&lt;/activetest&gt;&quot;)==0)    &#123;      strcpy(strsendbuffer,&quot;ok&quot;);      // logfile.Write(&quot;strsendbuffer=%s\\n&quot;,strsendbuffer);      if (TcpClient.Write(strsendbuffer)==false)      &#123;        logfile.Write(&quot;TcpClient.Write() failed.\\n&quot;); return;      &#125;    &#125;    // å¤„ç†ä¸‹è½½æ–‡ä»¶çš„è¯·æ±‚æŠ¥æ–‡ã€‚    if (strncmp(strrecvbuffer,&quot;&lt;filename&gt;&quot;,10)==0)    &#123;      // è§£æä¸‹è½½æ–‡ä»¶è¯·æ±‚æŠ¥æ–‡çš„xmlã€‚      char serverfilename[301];  memset(serverfilename,0,sizeof(serverfilename));      char mtime[21];            memset(mtime,0,sizeof(mtime));      int  filesize=0;      GetXMLBuffer(strrecvbuffer,&quot;filename&quot;,serverfilename,300);      GetXMLBuffer(strrecvbuffer,&quot;mtime&quot;,mtime,19);      GetXMLBuffer(strrecvbuffer,&quot;size&quot;,&amp;filesize);      // å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯æ–‡ä»¶çš„ç›®å½•æ˜¯ä¸ä¸€æ ·çš„ï¼Œä»¥ä¸‹ä»£ç ç”Ÿæˆå®¢æˆ·ç«¯çš„æ–‡ä»¶åã€‚      // æŠŠæ–‡ä»¶åä¸­çš„srvpathæ›¿æ¢æˆclientpathï¼Œè¦å°å¿ƒç¬¬ä¸‰ä¸ªå‚æ•°      char clientfilename[301];  memset(clientfilename,0,sizeof(clientfilename));      strcpy(clientfilename,serverfilename);      UpdateStr(clientfilename,starg.srvpath,starg.clientpath,false);      // æ¥æ”¶æ–‡ä»¶çš„å†…å®¹ã€‚      logfile.Write(&quot;recv %s(%d) ...&quot;,clientfilename,filesize);      if (RecvFile(TcpClient.m_connfd,clientfilename,mtime,filesize)==true)      &#123;        logfile.WriteEx(&quot;ok.\\n&quot;);        SNPRINTF(strsendbuffer,sizeof(strsendbuffer),1000,&quot;&lt;filename&gt;%s&lt;/filename&gt;&lt;result&gt;ok&lt;/result&gt;&quot;,serverfilename);      &#125;      else      &#123;        logfile.WriteEx(&quot;failed.\\n&quot;);        SNPRINTF(strsendbuffer,sizeof(strsendbuffer),1000,&quot;&lt;filename&gt;%s&lt;/filename&gt;&lt;result&gt;failed&lt;/result&gt;&quot;,serverfilename);      &#125;      // æŠŠæ¥æ”¶ç»“æœè¿”å›ç»™å¯¹ç«¯ã€‚      // logfile.Write(&quot;strsendbuffer=%s\\n&quot;,strsendbuffer);      if (TcpClient.Write(strsendbuffer)==false)      &#123;        logfile.Write(&quot;TcpClient.Write() failed.\\n&quot;); return;      &#125;    &#125;  &#125;&#125;// æ¥æ”¶æ–‡ä»¶çš„å†…å®¹ã€‚bool RecvFile(const int sockfd,const char *filename,const char *mtime,int filesize)&#123;  // ç”Ÿæˆä¸´æ—¶æ–‡ä»¶åã€‚  char strfilenametmp[301];  SNPRINTF(strfilenametmp,sizeof(strfilenametmp),300,&quot;%s.tmp&quot;,filename);  int  totalbytes=0;        // å·²æ¥æ”¶æ–‡ä»¶çš„æ€»å­—èŠ‚æ•°ã€‚  int  onread=0;            // æœ¬æ¬¡æ‰“ç®—æ¥æ”¶çš„å­—èŠ‚æ•°ã€‚  char buffer[1000];        // æ¥æ”¶æ–‡ä»¶å†…å®¹çš„ç¼“å†²åŒºã€‚  FILE *fp=NULL;  // åˆ›å»ºä¸´æ—¶æ–‡ä»¶ã€‚  if ( (fp=FOPEN(strfilenametmp,&quot;wb&quot;))==NULL ) return false;  while (true)  &#123;    memset(buffer,0,sizeof(buffer));    // è®¡ç®—æœ¬æ¬¡åº”è¯¥æ¥æ”¶çš„å­—èŠ‚æ•°ã€‚    if (filesize-totalbytes&gt;1000) onread=1000;    else onread=filesize-totalbytes;    // æ¥æ”¶æ–‡ä»¶å†…å®¹ã€‚    if (Readn(sockfd,buffer,onread)==false) &#123; fclose(fp); return false; &#125;    // æŠŠæ¥æ”¶åˆ°çš„å†…å®¹å†™å…¥æ–‡ä»¶ã€‚    fwrite(buffer,1,onread,fp);    // è®¡ç®—å·²æ¥æ”¶æ–‡ä»¶çš„æ€»å­—èŠ‚æ•°ï¼Œå¦‚æœæ–‡ä»¶æ¥æ”¶å®Œï¼Œè·³å‡ºå¾ªç¯ã€‚    totalbytes=totalbytes+onread;    if (totalbytes==filesize) break;  &#125;  // å…³é—­ä¸´æ—¶æ–‡ä»¶ã€‚  fclose(fp);  // é‡ç½®æ–‡ä»¶çš„æ—¶é—´ã€‚  UTime(strfilenametmp,mtime);  // æŠŠä¸´æ—¶æ–‡ä»¶RENAMEä¸ºæ­£å¼çš„æ–‡ä»¶ã€‚  if (RENAME(strfilenametmp,filename)==false) return false;  return true;&#125;\n\n\n\n\n\ntcpæœåŠ¡ç«¯fileserver.cpp\n/* * ç¨‹åºåï¼šfileserver.cppï¼Œæ–‡ä»¶ä¼ è¾“çš„æœåŠ¡ç«¯ã€‚*/#include &quot;_public.h&quot;// ç¨‹åºè¿è¡Œçš„å‚æ•°ç»“æ„ä½“ã€‚struct st_arg&#123;  int  clienttype;          // å®¢æˆ·ç«¯ç±»å‹ï¼Œ1-ä¸Šä¼ æ–‡ä»¶ï¼›2-ä¸‹è½½æ–‡ä»¶ã€‚  char ip[31];              // æœåŠ¡ç«¯çš„IPåœ°å€ã€‚  int  port;                // æœåŠ¡ç«¯çš„ç«¯å£ã€‚  int  ptype;               // æ–‡ä»¶æˆåŠŸä¼ è¾“åçš„å¤„ç†æ–¹å¼ï¼š1-åˆ é™¤æ–‡ä»¶ï¼›2-ç§»åŠ¨åˆ°å¤‡ä»½ç›®å½•ã€‚  char clientpath[301];     // å®¢æˆ·ç«¯æ–‡ä»¶å­˜æ”¾çš„æ ¹ç›®å½•ã€‚  bool andchild;            // æ˜¯å¦ä¼ è¾“å„çº§å­ç›®å½•çš„æ–‡ä»¶ï¼Œtrue-æ˜¯ï¼›false-å¦ã€‚  char matchname[301];      // å¾…ä¼ è¾“æ–‡ä»¶åçš„åŒ¹é…è§„åˆ™ï¼Œå¦‚&quot;*.TXT,*.XML&quot;ã€‚  char srvpath[301];        // æœåŠ¡ç«¯æ–‡ä»¶å­˜æ”¾çš„æ ¹ç›®å½•ã€‚  char srvpathbak[301];     // æ–‡ä»¶æˆåŠŸä¸‹è½½åï¼ŒæœåŠ¡ç«¯æ–‡ä»¶å¤‡ä»½çš„æ ¹ç›®å½•ï¼Œå½“ptype==2æ—¶æœ‰æ•ˆã€‚  int  timetvl;             // æ‰«æç›®å½•æ–‡ä»¶çš„æ—¶é—´é—´éš”ï¼Œå•ä½ï¼šç§’ã€‚  int  timeout;             // è¿›ç¨‹å¿ƒè·³çš„è¶…æ—¶æ—¶é—´ã€‚  char pname[51];           // è¿›ç¨‹åï¼Œå»ºè®®ç”¨&quot;tcpgetfiles_åç¼€&quot;çš„æ–¹å¼ã€‚&#125; starg;// æŠŠxmlè§£æåˆ°å‚æ•°stargç»“æ„ä¸­ã€‚bool _xmltoarg(char *strxmlbuffer);CLogFile logfile;      // æœåŠ¡ç¨‹åºçš„è¿è¡Œæ—¥å¿—ã€‚CTcpServer TcpServer;  // åˆ›å»ºæœåŠ¡ç«¯å¯¹è±¡ã€‚void FathEXIT(int sig);  // çˆ¶è¿›ç¨‹é€€å‡ºå‡½æ•°ã€‚void ChldEXIT(int sig);  // å­è¿›ç¨‹é€€å‡ºå‡½æ•°ã€‚bool ActiveTest();    // å¿ƒè·³ã€‚char strrecvbuffer[1024];   // å‘é€æŠ¥æ–‡çš„bufferã€‚char strsendbuffer[1024];   // æ¥æ”¶æŠ¥æ–‡çš„bufferã€‚// æ–‡ä»¶ä¸‹è½½çš„ä¸»å‡½æ•°ï¼Œæ‰§è¡Œä¸€æ¬¡æ–‡ä»¶ä¸‹è½½çš„ä»»åŠ¡ã€‚bool _tcpputfiles();bool bcontinue=true;   // å¦‚æœè°ƒç”¨_tcpputfileså‘é€äº†æ–‡ä»¶ï¼Œbcontinueä¸ºtrueï¼Œåˆå§‹åŒ–ä¸ºtrueã€‚// æŠŠæ–‡ä»¶çš„å†…å®¹å‘é€ç»™å¯¹ç«¯ã€‚bool SendFile(const int sockfd,const char *filename,const int filesize);// åˆ é™¤æˆ–è€…è½¬å­˜æœ¬åœ°çš„æ–‡ä»¶ã€‚bool AckMessage(const char *strrecvbuffer);// ç™»å½•ä¸šåŠ¡å¤„ç†å‡½æ•°ã€‚bool ClientLogin();// ä¸Šä¼ æ–‡ä»¶çš„ä¸»å‡½æ•°ã€‚void RecvFilesMain();// ä¸‹è½½æ–‡ä»¶çš„ä¸»å‡½æ•°ã€‚void SendFilesMain();// æ¥æ”¶æ–‡ä»¶çš„å†…å®¹ã€‚bool RecvFile(const int sockfd,const char *filename,const char *mtime,int filesize);CPActive PActive;  // è¿›ç¨‹å¿ƒè·³ã€‚int main(int argc,char *argv[])&#123;  if (argc!=3)  &#123;    printf(&quot;Using:./fileserver port logfile\\n&quot;);    printf(&quot;Example:./fileserver 5005 /log/idc/fileserver.log\\n&quot;);     printf(&quot;         /project/tools1/bin/procctl 10 /project/tools1/bin/fileserver 5005 /log/idc/fileserver.log\\n\\n\\n&quot;);     return -1;  &#125;  // å…³é—­å…¨éƒ¨çš„ä¿¡å·å’Œè¾“å…¥è¾“å‡ºã€‚  // è®¾ç½®ä¿¡å·,åœ¨shellçŠ¶æ€ä¸‹å¯ç”¨ &quot;kill + è¿›ç¨‹å·&quot; æ­£å¸¸ç»ˆæ­¢äº›è¿›ç¨‹  // ä½†è¯·ä¸è¦ç”¨ &quot;kill -9 +è¿›ç¨‹å·&quot; å¼ºè¡Œç»ˆæ­¢  CloseIOAndSignal(); signal(SIGINT,FathEXIT); signal(SIGTERM,FathEXIT);  if (logfile.Open(argv[2],&quot;a+&quot;)==false) &#123; printf(&quot;logfile.Open(%s) failed.\\n&quot;,argv[2]); return -1; &#125;  // æœåŠ¡ç«¯åˆå§‹åŒ–ã€‚  if (TcpServer.InitServer(atoi(argv[1]))==false)  &#123;    logfile.Write(&quot;TcpServer.InitServer(%s) failed.\\n&quot;,argv[1]); return -1;  &#125;  while (true)  &#123;    // ç­‰å¾…å®¢æˆ·ç«¯çš„è¿æ¥è¯·æ±‚ã€‚    if (TcpServer.Accept()==false)    &#123;      logfile.Write(&quot;TcpServer.Accept() failed.\\n&quot;); FathEXIT(-1);    &#125;    logfile.Write(&quot;å®¢æˆ·ç«¯ï¼ˆ%sï¼‰å·²è¿æ¥ã€‚\\n&quot;,TcpServer.GetIP());    if (fork()&gt;0) &#123; TcpServer.CloseClient(); continue; &#125;  // çˆ¶è¿›ç¨‹ç»§ç»­å›åˆ°Accept()ã€‚       // å­è¿›ç¨‹é‡æ–°è®¾ç½®é€€å‡ºä¿¡å·ã€‚    signal(SIGINT,ChldEXIT); signal(SIGTERM,ChldEXIT);    TcpServer.CloseListen();    // å­è¿›ç¨‹ä¸å®¢æˆ·ç«¯è¿›è¡Œé€šè®¯ï¼Œå¤„ç†ä¸šåŠ¡ã€‚    // å¤„ç†ç™»å½•å®¢æˆ·ç«¯çš„ç™»å½•æŠ¥æ–‡ã€‚    if (ClientLogin()==false) ChldEXIT(-1);    // å¦‚æœclienttype==1ï¼Œè°ƒç”¨ä¸Šä¼ æ–‡ä»¶çš„ä¸»å‡½æ•°ã€‚    if (starg.clienttype==1) RecvFilesMain();    // å¦‚æœclienttype==2ï¼Œè°ƒç”¨ä¸‹è½½æ–‡ä»¶çš„ä¸»å‡½æ•°ã€‚    if (starg.clienttype==2) SendFilesMain();    ChldEXIT(0);  &#125;&#125;// çˆ¶è¿›ç¨‹é€€å‡ºå‡½æ•°ã€‚void FathEXIT(int sig)  &#123;  // ä»¥ä¸‹ä»£ç æ˜¯ä¸ºäº†é˜²æ­¢ä¿¡å·å¤„ç†å‡½æ•°åœ¨æ‰§è¡Œçš„è¿‡ç¨‹ä¸­è¢«ä¿¡å·ä¸­æ–­ã€‚  signal(SIGINT,SIG_IGN); signal(SIGTERM,SIG_IGN);  logfile.Write(&quot;çˆ¶è¿›ç¨‹é€€å‡ºï¼Œsig=%dã€‚\\n&quot;,sig);  TcpServer.CloseListen();    // å…³é—­ç›‘å¬çš„socketã€‚  kill(0,15);     // é€šçŸ¥å…¨éƒ¨çš„å­è¿›ç¨‹é€€å‡ºã€‚  exit(0);&#125;// å­è¿›ç¨‹é€€å‡ºå‡½æ•°ã€‚void ChldEXIT(int sig)  &#123;  // ä»¥ä¸‹ä»£ç æ˜¯ä¸ºäº†é˜²æ­¢ä¿¡å·å¤„ç†å‡½æ•°åœ¨æ‰§è¡Œçš„è¿‡ç¨‹ä¸­è¢«ä¿¡å·ä¸­æ–­ã€‚  signal(SIGINT,SIG_IGN); signal(SIGTERM,SIG_IGN);  logfile.Write(&quot;å­è¿›ç¨‹é€€å‡ºï¼Œsig=%dã€‚\\n&quot;,sig);  TcpServer.CloseClient();    // å…³é—­å®¢æˆ·ç«¯çš„socketã€‚  exit(0);&#125;// ç™»å½•ã€‚bool ClientLogin()&#123;  memset(strrecvbuffer,0,sizeof(strrecvbuffer));  memset(strsendbuffer,0,sizeof(strsendbuffer));  if (TcpServer.Read(strrecvbuffer,20)==false)  &#123;    logfile.Write(&quot;TcpServer.Read() failed.\\n&quot;); return false;  &#125;  logfile.Write(&quot;strrecvbuffer=%s\\n&quot;,strrecvbuffer);  // è§£æå®¢æˆ·ç«¯ç™»å½•æŠ¥æ–‡ã€‚  _xmltoarg(strrecvbuffer);  if ( (starg.clienttype!=1) &amp;&amp; (starg.clienttype!=2) )    strcpy(strsendbuffer,&quot;failed&quot;);  else    strcpy(strsendbuffer,&quot;ok&quot;);  if (TcpServer.Write(strsendbuffer)==false)  &#123;    logfile.Write(&quot;TcpServer.Write() failed.\\n&quot;); return false;  &#125;  logfile.Write(&quot;%s login %s.\\n&quot;,TcpServer.GetIP(),strsendbuffer);    return true;&#125;// æŠŠxmlè§£æåˆ°å‚æ•°stargç»“æ„ä¸­bool _xmltoarg(char *strxmlbuffer)&#123;  memset(&amp;starg,0,sizeof(struct st_arg));  // ä¸éœ€è¦å¯¹å‚æ•°åšåˆæ³•æ€§åˆ¤æ–­ï¼Œå®¢æˆ·ç«¯å·²ç»åˆ¤æ–­è¿‡äº†ã€‚  GetXMLBuffer(strxmlbuffer,&quot;clienttype&quot;,&amp;starg.clienttype);  GetXMLBuffer(strxmlbuffer,&quot;ptype&quot;,&amp;starg.ptype);  GetXMLBuffer(strxmlbuffer,&quot;clientpath&quot;,starg.clientpath);  GetXMLBuffer(strxmlbuffer,&quot;andchild&quot;,&amp;starg.andchild);  GetXMLBuffer(strxmlbuffer,&quot;matchname&quot;,starg.matchname);  GetXMLBuffer(strxmlbuffer,&quot;srvpath&quot;,starg.srvpath);  GetXMLBuffer(strxmlbuffer,&quot;srvpathbak&quot;,starg.srvpathbak);  GetXMLBuffer(strxmlbuffer,&quot;timetvl&quot;,&amp;starg.timetvl);  if (starg.timetvl&gt;30) starg.timetvl=30;  GetXMLBuffer(strxmlbuffer,&quot;timeout&quot;,&amp;starg.timeout);  if (starg.timeout&lt;50) starg.timeout=50;  GetXMLBuffer(strxmlbuffer,&quot;pname&quot;,starg.pname,50);  strcat(starg.pname,&quot;_srv&quot;);  return true;&#125;// ä¸Šä¼ æ–‡ä»¶çš„ä¸»å‡½æ•°ã€‚void RecvFilesMain()&#123;  PActive.AddPInfo(starg.timeout,starg.pname);  while (true)  &#123;    memset(strsendbuffer,0,sizeof(strsendbuffer));    memset(strrecvbuffer,0,sizeof(strrecvbuffer));    PActive.UptATime();    // æ¥æ”¶å®¢æˆ·ç«¯çš„æŠ¥æ–‡ã€‚    // ç¬¬äºŒä¸ªå‚æ•°çš„å–å€¼å¿…é¡»å¤§äºstarg.timetvlï¼Œå°äºstarg.timeoutã€‚    if (TcpServer.Read(strrecvbuffer,starg.timetvl+10)==false)    &#123;      logfile.Write(&quot;TcpServer.Read() failed.\\n&quot;); return;    &#125;    // logfile.Write(&quot;strrecvbuffer=%s\\n&quot;,strrecvbuffer);    // å¤„ç†å¿ƒè·³æŠ¥æ–‡ã€‚    if (strcmp(strrecvbuffer,&quot;&lt;activetest&gt;ok&lt;/activetest&gt;&quot;)==0)    &#123;      strcpy(strsendbuffer,&quot;ok&quot;);      // logfile.Write(&quot;strsendbuffer=%s\\n&quot;,strsendbuffer);      if (TcpServer.Write(strsendbuffer)==false)      &#123;        logfile.Write(&quot;TcpServer.Write() failed.\\n&quot;); return;      &#125;    &#125;    // å¤„ç†ä¸Šä¼ æ–‡ä»¶çš„è¯·æ±‚æŠ¥æ–‡ã€‚    if (strncmp(strrecvbuffer,&quot;&lt;filename&gt;&quot;,10)==0)    &#123;      // è§£æä¸Šä¼ æ–‡ä»¶è¯·æ±‚æŠ¥æ–‡çš„xmlã€‚      char clientfilename[301];  memset(clientfilename,0,sizeof(clientfilename));      char mtime[21];            memset(mtime,0,sizeof(mtime));      int  filesize=0;      GetXMLBuffer(strrecvbuffer,&quot;filename&quot;,clientfilename,300);      GetXMLBuffer(strrecvbuffer,&quot;mtime&quot;,mtime,19);      GetXMLBuffer(strrecvbuffer,&quot;size&quot;,&amp;filesize);      // å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯æ–‡ä»¶çš„ç›®å½•æ˜¯ä¸ä¸€æ ·çš„ï¼Œä»¥ä¸‹ä»£ç ç”ŸæˆæœåŠ¡ç«¯çš„æ–‡ä»¶åã€‚      // æŠŠæ–‡ä»¶åä¸­çš„clientpathæ›¿æ¢æˆsrvpathï¼Œè¦å°å¿ƒç¬¬ä¸‰ä¸ªå‚æ•°      char serverfilename[301];  memset(serverfilename,0,sizeof(serverfilename));      strcpy(serverfilename,clientfilename);      UpdateStr(serverfilename,starg.clientpath,starg.srvpath,false);      // æ¥æ”¶æ–‡ä»¶çš„å†…å®¹ã€‚      logfile.Write(&quot;recv %s(%d) ...&quot;,serverfilename,filesize);      if (RecvFile(TcpServer.m_connfd,serverfilename,mtime,filesize)==true)      &#123;        logfile.WriteEx(&quot;ok.\\n&quot;);        SNPRINTF(strsendbuffer,sizeof(strsendbuffer),1000,&quot;&lt;filename&gt;%s&lt;/filename&gt;&lt;result&gt;ok&lt;/result&gt;&quot;,clientfilename);      &#125;      else      &#123;        logfile.WriteEx(&quot;failed.\\n&quot;);        SNPRINTF(strsendbuffer,sizeof(strsendbuffer),1000,&quot;&lt;filename&gt;%s&lt;/filename&gt;&lt;result&gt;failed&lt;/result&gt;&quot;,clientfilename);      &#125;      // æŠŠæ¥æ”¶ç»“æœè¿”å›ç»™å¯¹ç«¯ã€‚      // logfile.Write(&quot;strsendbuffer=%s\\n&quot;,strsendbuffer);      if (TcpServer.Write(strsendbuffer)==false)      &#123;        logfile.Write(&quot;TcpServer.Write() failed.\\n&quot;); return;      &#125;    &#125;  &#125;&#125;// æ¥æ”¶æ–‡ä»¶çš„å†…å®¹ã€‚bool RecvFile(const int sockfd,const char *filename,const char *mtime,int filesize)&#123;  // ç”Ÿæˆä¸´æ—¶æ–‡ä»¶åã€‚  char strfilenametmp[301];  SNPRINTF(strfilenametmp,sizeof(strfilenametmp),300,&quot;%s.tmp&quot;,filename);  int  totalbytes=0;        // å·²æ¥æ”¶æ–‡ä»¶çš„æ€»å­—èŠ‚æ•°ã€‚  int  onread=0;            // æœ¬æ¬¡æ‰“ç®—æ¥æ”¶çš„å­—èŠ‚æ•°ã€‚  char buffer[1000];        // æ¥æ”¶æ–‡ä»¶å†…å®¹çš„ç¼“å†²åŒºã€‚  FILE *fp=NULL;  // åˆ›å»ºä¸´æ—¶æ–‡ä»¶ã€‚  if ( (fp=FOPEN(strfilenametmp,&quot;wb&quot;))==NULL ) return false;  while (true)  &#123;    memset(buffer,0,sizeof(buffer));    // è®¡ç®—æœ¬æ¬¡åº”è¯¥æ¥æ”¶çš„å­—èŠ‚æ•°ã€‚    if (filesize-totalbytes&gt;1000) onread=1000;    else onread=filesize-totalbytes;    // æ¥æ”¶æ–‡ä»¶å†…å®¹ã€‚    if (Readn(sockfd,buffer,onread)==false) &#123; fclose(fp); return false; &#125;    // æŠŠæ¥æ”¶åˆ°çš„å†…å®¹å†™å…¥æ–‡ä»¶ã€‚    fwrite(buffer,1,onread,fp);    // è®¡ç®—å·²æ¥æ”¶æ–‡ä»¶çš„æ€»å­—èŠ‚æ•°ï¼Œå¦‚æœæ–‡ä»¶æ¥æ”¶å®Œï¼Œè·³å‡ºå¾ªç¯ã€‚    totalbytes=totalbytes+onread;    if (totalbytes==filesize) break;  &#125;  // å…³é—­ä¸´æ—¶æ–‡ä»¶ã€‚  fclose(fp);  // é‡ç½®æ–‡ä»¶çš„æ—¶é—´ã€‚  UTime(strfilenametmp,mtime);  // æŠŠä¸´æ—¶æ–‡ä»¶RENAMEä¸ºæ­£å¼çš„æ–‡ä»¶ã€‚  if (RENAME(strfilenametmp,filename)==false) return false;  return true;&#125;// ä¸‹è½½æ–‡ä»¶çš„ä¸»å‡½æ•°ã€‚void SendFilesMain()&#123;  PActive.AddPInfo(starg.timeout,starg.pname);  while (true)  &#123;    // è°ƒç”¨æ–‡ä»¶ä¸‹è½½çš„ä¸»å‡½æ•°ï¼Œæ‰§è¡Œä¸€æ¬¡æ–‡ä»¶ä¸‹è½½çš„ä»»åŠ¡ã€‚    if (_tcpputfiles()==false) &#123; logfile.Write(&quot;_tcpputfiles() failed.\\n&quot;); return; &#125;    if (bcontinue==false)    &#123;      sleep(starg.timetvl);      if (ActiveTest()==false) break;    &#125;    PActive.UptATime();  &#125;&#125;// å¿ƒè·³ã€‚bool ActiveTest()&#123;  memset(strsendbuffer,0,sizeof(strsendbuffer));  memset(strrecvbuffer,0,sizeof(strrecvbuffer));  SPRINTF(strsendbuffer,sizeof(strsendbuffer),&quot;&lt;activetest&gt;ok&lt;/activetest&gt;&quot;);  // logfile.Write(&quot;å‘é€ï¼š%s\\n&quot;,strsendbuffer);  if (TcpServer.Write(strsendbuffer)==false) return false; // å‘æœåŠ¡ç«¯å‘é€è¯·æ±‚æŠ¥æ–‡ã€‚  if (TcpServer.Read(strrecvbuffer,20)==false) return false; // æ¥æ”¶æœåŠ¡ç«¯çš„å›åº”æŠ¥æ–‡ã€‚  // logfile.Write(&quot;æ¥æ”¶ï¼š%s\\n&quot;,strrecvbuffer);  return true;&#125;// æ–‡ä»¶ä¸‹è½½çš„ä¸»å‡½æ•°ï¼Œæ‰§è¡Œä¸€æ¬¡æ–‡ä»¶ä¸‹è½½çš„ä»»åŠ¡ã€‚bool _tcpputfiles()&#123;  CDir Dir;  // è°ƒç”¨OpenDir()æ‰“å¼€starg.srvpathç›®å½•ã€‚  if (Dir.OpenDir(starg.srvpath,starg.matchname,10000,starg.andchild)==false)  &#123;    logfile.Write(&quot;Dir.OpenDir(%s) å¤±è´¥ã€‚\\n&quot;,starg.srvpath); return false;  &#125;  int delayed=0;        // æœªæ”¶åˆ°å¯¹ç«¯ç¡®è®¤æŠ¥æ–‡çš„æ–‡ä»¶æ•°é‡ã€‚  int buflen=0;         // ç”¨äºå­˜æ”¾strrecvbufferçš„é•¿åº¦ã€‚  bcontinue=false;  while (true)  &#123;    memset(strsendbuffer,0,sizeof(strsendbuffer));    memset(strrecvbuffer,0,sizeof(strrecvbuffer));    // éå†ç›®å½•ä¸­çš„æ¯ä¸ªæ–‡ä»¶ï¼Œè°ƒç”¨ReadDir()è·å–ä¸€ä¸ªæ–‡ä»¶åã€‚    if (Dir.ReadDir()==false) break;    bcontinue=true;    // æŠŠæ–‡ä»¶åã€ä¿®æ”¹æ—¶é—´ã€æ–‡ä»¶å¤§å°ç»„æˆæŠ¥æ–‡ï¼Œå‘é€ç»™å¯¹ç«¯ã€‚    SNPRINTF(strsendbuffer,sizeof(strsendbuffer),1000,&quot;&lt;filename&gt;%s&lt;/filename&gt;&lt;mtime&gt;%s&lt;/mtime&gt;&lt;size&gt;%d&lt;/size&gt;&quot;,Dir.m_FullFileName,Dir.m_ModifyTime,Dir.m_FileSize);    // logfile.Write(&quot;strsendbuffer=%s\\n&quot;,strsendbuffer);    if (TcpServer.Write(strsendbuffer)==false)    &#123;      logfile.Write(&quot;TcpServer.Write() failed.\\n&quot;); return false;    &#125;    // æŠŠæ–‡ä»¶çš„å†…å®¹å‘é€ç»™å¯¹ç«¯ã€‚    logfile.Write(&quot;send %s(%d) ...&quot;,Dir.m_FullFileName,Dir.m_FileSize);    if (SendFile(TcpServer.m_connfd,Dir.m_FullFileName,Dir.m_FileSize)==true)    &#123;      logfile.WriteEx(&quot;ok.\\n&quot;); delayed++;    &#125;    else    &#123;      logfile.WriteEx(&quot;failed.\\n&quot;); TcpServer.CloseClient(); return false;    &#125;    PActive.UptATime();    // æ¥æ”¶å¯¹ç«¯çš„ç¡®è®¤æŠ¥æ–‡ã€‚    while (delayed&gt;0)    &#123;      memset(strrecvbuffer,0,sizeof(strrecvbuffer));      if (TcpRead(TcpServer.m_connfd,strrecvbuffer,&amp;buflen,-1)==false) break;      // logfile.Write(&quot;strrecvbuffer=%s\\n&quot;,strrecvbuffer);      // åˆ é™¤æˆ–è€…è½¬å­˜æœ¬åœ°çš„æ–‡ä»¶ã€‚      delayed--;      AckMessage(strrecvbuffer);    &#125;  &#125;  // ç»§ç»­æ¥æ”¶å¯¹ç«¯çš„ç¡®è®¤æŠ¥æ–‡ã€‚  while (delayed&gt;0)  &#123;    memset(strrecvbuffer,0,sizeof(strrecvbuffer));    if (TcpRead(TcpServer.m_connfd,strrecvbuffer,&amp;buflen,10)==false) break;    // logfile.Write(&quot;strrecvbuffer=%s\\n&quot;,strrecvbuffer);    // åˆ é™¤æˆ–è€…è½¬å­˜æœ¬åœ°çš„æ–‡ä»¶ã€‚    delayed--;    AckMessage(strrecvbuffer);  &#125;  return true;&#125;// æŠŠæ–‡ä»¶çš„å†…å®¹å‘é€ç»™å¯¹ç«¯ã€‚bool SendFile(const int sockfd,const char *filename,const int filesize)&#123;  int  onread=0;        // æ¯æ¬¡è°ƒç”¨freadæ—¶æ‰“ç®—è¯»å–çš„å­—èŠ‚æ•°ã€‚  int  bytes=0;         // è°ƒç”¨ä¸€æ¬¡freadä»æ–‡ä»¶ä¸­è¯»å–çš„å­—èŠ‚æ•°ã€‚  char buffer[1000];    // å­˜æ”¾è¯»å–æ•°æ®çš„bufferã€‚  int  totalbytes=0;    // ä»æ–‡ä»¶ä¸­å·²è¯»å–çš„å­—èŠ‚æ€»æ•°ã€‚  FILE *fp=NULL;  // ä»¥&quot;rb&quot;çš„æ¨¡å¼æ‰“å¼€æ–‡ä»¶ã€‚  if ( (fp=fopen(filename,&quot;rb&quot;))==NULL )  return false;  while (true)  &#123;    memset(buffer,0,sizeof(buffer));    // è®¡ç®—æœ¬æ¬¡åº”è¯¥è¯»å–çš„å­—èŠ‚æ•°ï¼Œå¦‚æœå‰©ä½™çš„æ•°æ®è¶…è¿‡1000å­—èŠ‚ï¼Œå°±æ‰“ç®—è¯»1000å­—èŠ‚ã€‚    if (filesize-totalbytes&gt;1000) onread=1000;    else onread=filesize-totalbytes;    // ä»æ–‡ä»¶ä¸­è¯»å–æ•°æ®ã€‚    bytes=fread(buffer,1,onread,fp);    // æŠŠè¯»å–åˆ°çš„æ•°æ®å‘é€ç»™å¯¹ç«¯ã€‚    if (bytes&gt;0)    &#123;      if (Writen(sockfd,buffer,bytes)==false) &#123; fclose(fp); return false; &#125;    &#125;    // è®¡ç®—æ–‡ä»¶å·²è¯»å–çš„å­—èŠ‚æ€»æ•°ï¼Œå¦‚æœæ–‡ä»¶å·²è¯»å®Œï¼Œè·³å‡ºå¾ªç¯ã€‚    totalbytes=totalbytes+bytes;    if (totalbytes==filesize) break;  &#125;  fclose(fp);  return true;&#125;// åˆ é™¤æˆ–è€…è½¬å­˜æœ¬åœ°çš„æ–‡ä»¶ã€‚bool AckMessage(const char *strrecvbuffer)&#123;  char filename[301];  char result[11];  memset(filename,0,sizeof(filename));  memset(result,0,sizeof(result));  GetXMLBuffer(strrecvbuffer,&quot;filename&quot;,filename,300);  GetXMLBuffer(strrecvbuffer,&quot;result&quot;,result,10);  // å¦‚æœæœåŠ¡ç«¯æ¥æ”¶æ–‡ä»¶ä¸æˆåŠŸï¼Œç›´æ¥è¿”å›ã€‚  if (strcmp(result,&quot;ok&quot;)!=0) return true;  // ptype==1ï¼Œåˆ é™¤æ–‡ä»¶ã€‚  if (starg.ptype==1)  &#123;    if (REMOVE(filename)==false) &#123; logfile.Write(&quot;REMOVE(%s) failed.\\n&quot;,filename); return false; &#125;  &#125;  // ptype==2ï¼Œç§»åŠ¨åˆ°å¤‡ä»½ç›®å½•ã€‚  if (starg.ptype==2)  &#123;    // ç”Ÿæˆè½¬å­˜åçš„å¤‡ä»½ç›®å½•æ–‡ä»¶åã€‚    char bakfilename[301];    STRCPY(bakfilename,sizeof(bakfilename),filename);    UpdateStr(bakfilename,starg.srvpath,starg.srvpathbak,false);    if (RENAME(filename,bakfilename)==false)    &#123; logfile.Write(&quot;RENAME(%s,%s) failed.\\n&quot;,filename,bakfilename); return false; &#125;  &#125;  return true;&#125;\n\n\n\n\n\ntcpç¼–è¯‘makefile\n# å¼€å‘æ¡†æ¶å¤´æ–‡ä»¶è·¯å¾„ã€‚PUBINCL = -I/project/public# å¼€å‘æ¡†æ¶cppæ–‡ä»¶åï¼Œè¿™é‡Œç›´æ¥åŒ…å«è¿›æ¥ï¼Œæ²¡æœ‰é‡‡ç”¨é“¾æ¥åº“ï¼Œæ˜¯ä¸ºäº†æ–¹ä¾¿è°ƒè¯•ã€‚PUBCPP = /project/public/_public.cpp# ç¼–è¯‘å‚æ•°ã€‚CFLAGS = -gall:tcpputfiles fileserver tcpgetfiles tcpputfiles:tcpputfiles.cpp\tg++ $(CFLAGS) -o tcpputfiles tcpputfiles.cpp $(PUBINCL) $(PUBCPP) -lm -lc\tcp tcpputfiles ../bin/.fileserver:fileserver.cpp\tg++ $(CFLAGS) -o fileserver fileserver.cpp $(PUBINCL) $(PUBCPP) -lm -lc\tcp fileserver ../bin/.tcpgetfiles:tcpgetfiles.cpp\tg++ $(CFLAGS) -o tcpgetfiles tcpgetfiles.cpp $(PUBINCL) $(PUBCPP) -lm -lc\tcp tcpgetfiles ../bin/.clean:\trm -f tcpputfiles fileserver tcpgetfiles \n\nmysqlæ•°æ®åº“å¼€å‘æŸ¥çœ‹ä¿®æ”¹æ•°æ®åº“å­—ç¬¦é›†mysql -u root -pSHOW VARIABLES LIKE &#x27;character%&#x27;;quitvi /etc/my.cnf[mysqld]character-set-server=utf8 [client]default-character-set=utf8\n\nA. æŸ¥çœ‹ä¿®æ”¹æ•°æ®åº“çš„å­—ç¬¦é›†æ–¹å¼-- database_name ä¸ºæ•°æ®åº“åç§°SHOW CREATE DATABASE database_name;-- database_name ä¸ºæ•°æ®åº“åç§°-- utf8ä¸ºç›®æ ‡å­—ç¬¦ç¼–ç ALTER DATABSE database_name DEFAULT CHARACTER SET utf8;\n\nB. æŸ¥çœ‹ä¿®æ”¹è¡¨çš„å­—ç¬¦é›†æ–¹å¼-- table_nameä¸ºè¡¨çš„åç§°SHOW CREATE TABLE table_name;-- table_nameä¸ºè¡¨çš„åç§°-- utf8ä¸ºç›®æ ‡å­—ç¬¦ç¼–ç ALTER TABLE table_name DEFAULT CHARACTER SET utf8;\n\nC. æŸ¥çœ‹å­—æ®µçš„å­—ç¬¦é›†æ–¹å¼-- column_nameä¸ºå­—æ®µåç§°SHOW FULL COLUMNS FROM column_name;-- table_nameä¸ºè¡¨çš„åç§°-- column_nameä¸ºå­—æ®µåç§°-- varchar(20)ä¸ºå­—æ®µçš„ç±»å‹-- utf8ä¸ºç›®æ ‡å­—ç¬¦é›†ALTER TABLE table_name CHANGE column_name column_name VARCHAR(20) CHARACTER SET utf8;\n\nD. åŒæ—¶ä¿®æ”¹è¡¨å’Œè¡¨ä¸­æ‰€æœ‰å­—ç¬¦ç±»å‹çš„å­—æ®µå­—ç¬¦é›†æ–¹å¼-- ä¾‹å­ï¼šalter table user2 convert to character set utf8 collate utf8_general_ci;ALTER TABLE tbl_name CONVERT TO CHARACTER SET character_name [COLLATE ...]\n\nåˆ›å»ºè¡¨createtable.cpp\n/* *  ç¨‹åºåï¼šcreatetable.cppï¼Œæ­¤ç¨‹åºæ¼”ç¤ºå¼€å‘æ¡†æ¶æ“ä½œMySQLæ•°æ®åº“ï¼ˆåˆ›å»ºè¡¨ï¼‰ã€‚*/#include &quot;_mysql.h&quot;       // å¼€å‘æ¡†æ¶æ“ä½œMySQLçš„å¤´æ–‡ä»¶ã€‚int main(int argc,char *argv[])&#123;  connection conn;   // æ•°æ®åº“è¿æ¥ç±»ã€‚  // ç™»å½•æ•°æ®åº“ï¼Œè¿”å›å€¼ï¼š0-æˆåŠŸï¼›å…¶å®ƒæ˜¯å¤±è´¥ï¼Œå­˜æ”¾äº†MySQLçš„é”™è¯¯ä»£ç ã€‚  // å¤±è´¥ä»£ç åœ¨conn.m_cda.rcä¸­ï¼Œå¤±è´¥æè¿°åœ¨conn.m_cda.messageä¸­ã€‚  if (conn.connecttodb(&quot;127.0.0.1,root,phcQdNaiZ.g2,mysql,3306&quot;,&quot;utf8&quot;)!=0)  &#123;    printf(&quot;connect database failed.\\n%s\\n&quot;,conn.m_cda.message); return -1;  &#125;    sqlstatement stmt(&amp;conn);  // æ“ä½œSQLè¯­å¥çš„å¯¹è±¡ã€‚  // å‡†å¤‡åˆ›å»ºè¡¨çš„SQLè¯­å¥ã€‚  // è¶…å¥³è¡¨girlsï¼Œè¶…å¥³ç¼–å·idï¼Œè¶…å¥³å§“ånameï¼Œä½“é‡weightï¼ŒæŠ¥åæ—¶é—´btimeï¼Œè¶…å¥³è¯´æ˜memoï¼Œè¶…å¥³å›¾ç‰‡picã€‚  stmt.prepare(&quot;create table girls(id      bigint(10),\\                   name    varchar(30),\\                   weight  decimal(8,2),\\                   btime   datetime,\\                   memo    longtext,\\                   pic     longblob,\\                   primary key (id))&quot;);  /*  1ã€int prepare(const char *fmt,...)ï¼ŒSQLè¯­å¥å¯ä»¥å¤šè¡Œä¹¦å†™ã€‚  2ã€SQLè¯­å¥æœ€åçš„åˆ†å·å¯æœ‰å¯æ— ï¼Œå»ºè®®ä¸è¦å†™ï¼ˆå…¼å®¹æ€§è€ƒè™‘ï¼‰ã€‚  3ã€SQLè¯­å¥ä¸­ä¸èƒ½æœ‰è¯´æ˜æ–‡å­—ã€‚  4ã€å¯ä»¥ä¸ç”¨åˆ¤æ–­stmt.prepare()çš„è¿”å›å€¼ï¼Œstmt.execute()æ—¶å†åˆ¤æ–­ã€‚  */  // æ‰§è¡ŒSQLè¯­å¥ï¼Œä¸€å®šè¦åˆ¤æ–­è¿”å›å€¼ï¼Œ0-æˆåŠŸï¼Œå…¶å®ƒ-å¤±è´¥ã€‚  // å¤±è´¥ä»£ç åœ¨stmt.m_cda.rcä¸­ï¼Œå¤±è´¥æè¿°åœ¨stmt.m_cda.messageä¸­ã€‚  if (stmt.execute()!=0)  &#123;    printf(&quot;stmt.execute() failed.\\n%s\\n%s\\n&quot;,stmt.m_sql,stmt.m_cda.message); return -1;  &#125;  printf(&quot;create table girls ok.\\n&quot;);  return 0;&#125;/*-- è¶…å¥³åŸºæœ¬ä¿¡æ¯è¡¨ã€‚create table girls(id      bigint(10),    -- è¶…å¥³ç¼–å·ã€‚                   name    varchar(30),   -- è¶…å¥³å§“åã€‚                   weight  decimal(8,2),  -- è¶…å¥³ä½“é‡ã€‚                   btime   datetime,      -- æŠ¥åæ—¶é—´ã€‚                   memo    longtext,      -- å¤‡æ³¨ã€‚                   pic     longblob,      -- ç…§ç‰‡ã€‚                   primary key (id));*/\n\n\n\næ’å…¥æ•°æ®inserttable.cpp\n/* *  ç¨‹åºåï¼šinserttable.cppï¼Œæ­¤ç¨‹åºæ¼”ç¤ºå¼€å‘æ¡†æ¶æ“ä½œMySQLæ•°æ®åº“ï¼ˆå‘è¡¨ä¸­æ’å…¥5æ¡è®°å½•ï¼‰ã€‚*/#include &lt;unistd.h&gt;#include &quot;_mysql.h&quot;       // å¼€å‘æ¡†æ¶æ“ä½œMySQLçš„å¤´æ–‡ä»¶ã€‚int main(int argc,char *argv[])&#123;  connection conn;   // æ•°æ®åº“è¿æ¥ç±»ã€‚  // ç™»å½•æ•°æ®åº“ï¼Œè¿”å›å€¼ï¼š0-æˆåŠŸï¼›å…¶å®ƒæ˜¯å¤±è´¥ï¼Œå­˜æ”¾äº†MySQLçš„é”™è¯¯ä»£ç ã€‚  // å¤±è´¥ä»£ç åœ¨conn.m_cda.rcä¸­ï¼Œå¤±è´¥æè¿°åœ¨conn.m_cda.messageä¸­ã€‚  if (conn.connecttodb(&quot;127.0.0.1,root,phcQdNaiZ.g2,mysql,3306&quot;,&quot;utf8&quot;)!=0)  &#123;    printf(&quot;connect database failed.\\n%s\\n&quot;,conn.m_cda.message); return -1;  &#125;  // å®šä¹‰ç”¨äºè¶…å¥³ä¿¡æ¯çš„ç»“æ„ï¼Œä¸è¡¨ä¸­çš„å­—æ®µå¯¹åº”ã€‚  struct st_girls  &#123;    long   id;        // è¶…å¥³ç¼–å·    char   name[31];  // è¶…å¥³å§“å    double weight;    // è¶…å¥³ä½“é‡    char   btime[20]; // æŠ¥åæ—¶é—´  &#125; stgirls;  sqlstatement stmt(&amp;conn);  // æ“ä½œSQLè¯­å¥çš„å¯¹è±¡ã€‚  // å‡†å¤‡æ’å…¥è¡¨çš„SQLè¯­å¥ã€‚  stmt.prepare(&quot;\\    insert into girls(id,name,weight,btime) values(:1+1,:2,:3+45.35,str_to_date(:4,&#x27;%%Y-%%m-%%d %%H:%%i:%%s&#x27;))&quot;);    //insert into girls(id,name,weight,btime) values(?+1,?,?+45.35,to_date(?,&#x27;yyyy-mm-dd hh24:mi:ss&#x27;))&quot;);  /*    æ³¨æ„äº‹é¡¹ï¼š    1ã€å‚æ•°çš„åºå·ä»1å¼€å§‹ï¼Œè¿ç»­ã€é€’å¢ï¼Œå‚æ•°ä¹Ÿå¯ä»¥ç”¨é—®å·è¡¨ç¤ºï¼Œä½†æ˜¯ï¼Œé—®å·çš„å…¼å®¹æ€§ä¸å¥½ï¼Œä¸å»ºè®®ï¼›    2ã€SQLè¯­å¥ä¸­çš„å³å€¼æ‰èƒ½ä½œä¸ºå‚æ•°ï¼Œè¡¨åã€å­—æ®µåã€å…³é”®å­—ã€å‡½æ•°åç­‰éƒ½ä¸èƒ½ä½œä¸ºå‚æ•°ï¼›    3ã€å‚æ•°å¯ä»¥å‚ä¸è¿ç®—æˆ–ç”¨äºå‡½æ•°çš„å‚æ•°ï¼›    4ã€å¦‚æœSQLè¯­å¥çš„ä¸»ä½“æ²¡æœ‰æ”¹å˜ï¼Œåªéœ€è¦prepare()ä¸€æ¬¡å°±å¯ä»¥äº†ï¼›    5ã€SQLè¯­å¥ä¸­çš„æ¯ä¸ªå‚æ•°ï¼Œå¿…é¡»è°ƒç”¨bindin()ç»‘å®šå˜é‡çš„åœ°å€ï¼›    6ã€å¦‚æœSQLè¯­å¥çš„ä¸»ä½“å·²æ”¹å˜ï¼Œprepare()åï¼Œéœ€é‡æ–°ç”¨bindin()ç»‘å®šå˜é‡ï¼›    7ã€prepare()æ–¹æ³•æœ‰è¿”å›å€¼ï¼Œä¸€èˆ¬ä¸æ£€æŸ¥ï¼Œå¦‚æœSQLè¯­å¥æœ‰é—®é¢˜ï¼Œè°ƒç”¨execute()æ–¹æ³•æ—¶èƒ½å‘ç°ï¼›    8ã€bindin()æ–¹æ³•çš„è¿”å›å€¼å›ºå®šä¸º0ï¼Œä¸ç”¨åˆ¤æ–­è¿”å›å€¼ï¼›    9ã€prepare()å’Œbindin()ä¹‹åï¼Œæ¯è°ƒç”¨ä¸€æ¬¡execute()ï¼Œå°±æ‰§è¡Œä¸€æ¬¡SQLè¯­å¥ï¼ŒSQLè¯­å¥çš„æ•°æ®æ¥è‡ªè¢«ç»‘å®šå˜é‡çš„å€¼ã€‚  */  stmt.bindin(1,&amp;stgirls.id);  stmt.bindin(2, stgirls.name,30);  stmt.bindin(3,&amp;stgirls.weight);  stmt.bindin(4, stgirls.btime,19);  // æ¨¡æ‹Ÿè¶…å¥³æ•°æ®ï¼Œå‘è¡¨ä¸­æ’å…¥5æ¡æµ‹è¯•æ•°æ®ã€‚  for (int ii=0;ii&lt;5;ii++)  &#123;    memset(&amp;stgirls,0,sizeof(struct st_girls));         // ç»“æ„ä½“å˜é‡åˆå§‹åŒ–ã€‚    // ä¸ºç»“æ„ä½“å˜é‡çš„æˆå‘˜èµ‹å€¼ã€‚    stgirls.id=ii;                                     // è¶…å¥³ç¼–å·ã€‚    sprintf(stgirls.name,&quot;è¥¿æ–½%05dgirl&quot;,ii+1);         // è¶…å¥³å§“åã€‚    stgirls.weight=ii;                                 // è¶…å¥³ä½“é‡ã€‚    sprintf(stgirls.btime,&quot;2021-08-25 10:33:%02d&quot;,ii); // æŠ¥åæ—¶é—´ã€‚     // æ‰§è¡ŒSQLè¯­å¥ï¼Œä¸€å®šè¦åˆ¤æ–­è¿”å›å€¼ï¼Œ0-æˆåŠŸï¼Œå…¶å®ƒ-å¤±è´¥ã€‚    // å¤±è´¥ä»£ç åœ¨stmt.m_cda.rcä¸­ï¼Œå¤±è´¥æè¿°åœ¨stmt.m_cda.messageä¸­ã€‚    if (stmt.execute()!=0)    &#123;      printf(&quot;stmt.execute() failed.\\n%s\\n%s\\n&quot;,stmt.m_sql,stmt.m_cda.message); return -1;    &#125;    printf(&quot;æˆåŠŸæ’å…¥äº†%ldæ¡è®°å½•ã€‚\\n&quot;,stmt.m_cda.rpc); // stmt.m_cda.rpcæ˜¯æœ¬æ¬¡æ‰§è¡ŒSQLå½±å“çš„è®°å½•æ•°ã€‚  &#125;  printf(&quot;insert table girls ok.\\n&quot;);  conn.commit();   // æäº¤æ•°æ®åº“äº‹åŠ¡ã€‚  return 0;&#125;\n\nä¿®æ”¹æ•°æ®updatetable.cpp\n/* *  ç¨‹åºåï¼šupdatetable.cppï¼Œæ­¤ç¨‹åºæ¼”ç¤ºå¼€å‘æ¡†æ¶æ“ä½œMySQLæ•°æ®åº“ï¼ˆä¿®æ”¹è¡¨ä¸­çš„è®°å½•ï¼‰ã€‚*/#include &quot;_mysql.h&quot;       // å¼€å‘æ¡†æ¶æ“ä½œMySQLçš„å¤´æ–‡ä»¶ã€‚int main(int argc,char *argv[])&#123;  connection conn;   // æ•°æ®åº“è¿æ¥ç±»ã€‚  // ç™»å½•æ•°æ®åº“ï¼Œè¿”å›å€¼ï¼š0-æˆåŠŸï¼›å…¶å®ƒæ˜¯å¤±è´¥ï¼Œå­˜æ”¾äº†MySQLçš„é”™è¯¯ä»£ç ã€‚  // å¤±è´¥ä»£ç åœ¨conn.m_cda.rcä¸­ï¼Œå¤±è´¥æè¿°åœ¨conn.m_cda.messageä¸­ã€‚  if (conn.connecttodb(&quot;127.0.0.1,root,phcQdNaiZ.g2,mysql,3306&quot;,&quot;utf8&quot;)!=0)  &#123;    printf(&quot;connect database failed.\\n%s\\n&quot;,conn.m_cda.message); return -1;  &#125;  // å®šä¹‰ç”¨äºè¶…å¥³ä¿¡æ¯çš„ç»“æ„ï¼Œä¸è¡¨ä¸­çš„å­—æ®µå¯¹åº”ã€‚  struct st_girls  &#123;    long   id;        // è¶…å¥³ç¼–å·    char   name[31];  // è¶…å¥³å§“å    double weight;    // è¶…å¥³ä½“é‡    char   btime[20]; // æŠ¥åæ—¶é—´  &#125; stgirls;  sqlstatement stmt(&amp;conn);  // æ“ä½œSQLè¯­å¥çš„å¯¹è±¡ã€‚  // å‡†å¤‡ä¿®æ”¹è¡¨çš„SQLè¯­å¥ã€‚  stmt.prepare(&quot;\\    update girls set name=:1,weight=:2,btime=str_to_date(:3,&#x27;%%Y-%%m-%%d %%H:%%i:%%s&#x27;) where id=:4&quot;);  /*    æ³¨æ„äº‹é¡¹ï¼š    1ã€å‚æ•°çš„åºå·ä»1å¼€å§‹ï¼Œè¿ç»­ã€é€’å¢ï¼Œå‚æ•°ä¹Ÿå¯ä»¥ç”¨é—®å·è¡¨ç¤ºï¼Œä½†æ˜¯ï¼Œé—®å·çš„å…¼å®¹æ€§ä¸å¥½ï¼Œä¸å»ºè®®ï¼›    2ã€SQLè¯­å¥ä¸­çš„å³å€¼æ‰èƒ½ä½œä¸ºå‚æ•°ï¼Œè¡¨åã€å­—æ®µåã€å…³é”®å­—ã€å‡½æ•°åç­‰éƒ½ä¸èƒ½ä½œä¸ºå‚æ•°ï¼›    3ã€å‚æ•°å¯ä»¥å‚ä¸è¿ç®—æˆ–ç”¨äºå‡½æ•°çš„å‚æ•°ï¼›    4ã€å¦‚æœSQLè¯­å¥çš„ä¸»ä½“æ²¡æœ‰æ”¹å˜ï¼Œåªéœ€è¦prepare()ä¸€æ¬¡å°±å¯ä»¥äº†ï¼›    5ã€SQLè¯­å¥ä¸­çš„æ¯ä¸ªå‚æ•°ï¼Œå¿…é¡»è°ƒç”¨bindin()ç»‘å®šå˜é‡çš„åœ°å€ï¼›    6ã€å¦‚æœSQLè¯­å¥çš„ä¸»ä½“å·²æ”¹å˜ï¼Œprepare()åï¼Œéœ€é‡æ–°ç”¨bindin()ç»‘å®šå˜é‡ï¼›    7ã€prepare()æ–¹æ³•æœ‰è¿”å›å€¼ï¼Œä¸€èˆ¬ä¸æ£€æŸ¥ï¼Œå¦‚æœSQLè¯­å¥æœ‰é—®é¢˜ï¼Œè°ƒç”¨execute()æ–¹æ³•æ—¶èƒ½å‘ç°ï¼›    8ã€bindin()æ–¹æ³•çš„è¿”å›å€¼å›ºå®šä¸º0ï¼Œä¸ç”¨åˆ¤æ–­è¿”å›å€¼ï¼›    9ã€prepare()å’Œbindin()ä¹‹åï¼Œæ¯è°ƒç”¨ä¸€æ¬¡execute()ï¼Œå°±æ‰§è¡Œä¸€æ¬¡SQLè¯­å¥ï¼ŒSQLè¯­å¥çš„æ•°æ®æ¥è‡ªè¢«ç»‘å®šå˜é‡çš„å€¼ã€‚  */  stmt.bindin(1, stgirls.name,30);  stmt.bindin(2,&amp;stgirls.weight);  stmt.bindin(3, stgirls.btime,19);  stmt.bindin(4,&amp;stgirls.id);  // æ¨¡æ‹Ÿè¶…å¥³æ•°æ®ï¼Œä¿®æ”¹è¶…å¥³ä¿¡æ¯è¡¨ä¸­çš„å…¨éƒ¨è®°å½•ã€‚  for (int ii=0;ii&lt;5;ii++)  &#123;    memset(&amp;stgirls,0,sizeof(struct st_girls));         // ç»“æ„ä½“å˜é‡åˆå§‹åŒ–ã€‚    // ä¸ºç»“æ„ä½“å˜é‡çš„æˆå‘˜èµ‹å€¼ã€‚    stgirls.id=ii+1;                                   // è¶…å¥³ç¼–å·ã€‚    sprintf(stgirls.name,&quot;è²‚è‰%05dgirl&quot;,ii+1);         // è¶…å¥³å§“åã€‚    stgirls.weight=ii+48.39;                           // è¶…å¥³ä½“é‡ã€‚    sprintf(stgirls.btime,&quot;2021-10-02 11:25:%02d&quot;,ii); // æŠ¥åæ—¶é—´ã€‚     // æ‰§è¡ŒSQLè¯­å¥ï¼Œä¸€å®šè¦åˆ¤æ–­è¿”å›å€¼ï¼Œ0-æˆåŠŸï¼Œå…¶å®ƒ-å¤±è´¥ã€‚    // å¤±è´¥ä»£ç åœ¨stmt.m_cda.rcä¸­ï¼Œå¤±è´¥æè¿°åœ¨stmt.m_cda.messageä¸­ã€‚    if (stmt.execute()!=0)    &#123;      printf(&quot;stmt.execute() failed.\\n%s\\n%s\\n&quot;,stmt.m_sql,stmt.m_cda.message); return -1;    &#125;    printf(&quot;æˆåŠŸä¿®æ”¹äº†%ldæ¡è®°å½•ã€‚\\n&quot;,stmt.m_cda.rpc); // stmt.m_cda.rpcæ˜¯æœ¬æ¬¡æ‰§è¡ŒSQLå½±å“çš„è®°å½•æ•°ã€‚  &#125;  printf(&quot;update table girls ok.\\n&quot;);  conn.commit();   // æäº¤æ•°æ®åº“äº‹åŠ¡ã€‚  return 0;&#125;\n\n\n\næŸ¥è¯¢æ•°æ®selecttable.cpp\n/* *  ç¨‹åºåï¼šselecttable.cppï¼Œæ­¤ç¨‹åºæ¼”ç¤ºå¼€å‘æ¡†æ¶æ“ä½œMySQLæ•°æ®åº“ï¼ˆæŸ¥è¯¢è¡¨ä¸­çš„è®°å½•ï¼‰ã€‚*/#include &lt;unistd.h&gt;#include &quot;_mysql.h&quot;       // å¼€å‘æ¡†æ¶æ“ä½œMySQLçš„å¤´æ–‡ä»¶ã€‚int main(int argc,char *argv[])&#123;  connection conn;   // æ•°æ®åº“è¿æ¥ç±»ã€‚  // ç™»å½•æ•°æ®åº“ï¼Œè¿”å›å€¼ï¼š0-æˆåŠŸï¼›å…¶å®ƒæ˜¯å¤±è´¥ï¼Œå­˜æ”¾äº†MySQLçš„é”™è¯¯ä»£ç ã€‚  // å¤±è´¥ä»£ç åœ¨conn.m_cda.rcä¸­ï¼Œå¤±è´¥æè¿°åœ¨conn.m_cda.messageä¸­ã€‚  if (conn.connecttodb(&quot;127.0.0.1,root,phcQdNaiZ.g2,mysql,3306&quot;,&quot;utf8&quot;)!=0)  &#123;    printf(&quot;connect database failed.\\n%s\\n&quot;,conn.m_cda.message); return -1;  &#125;  // å®šä¹‰ç”¨äºè¶…å¥³ä¿¡æ¯çš„ç»“æ„ï¼Œä¸è¡¨ä¸­çš„å­—æ®µå¯¹åº”ã€‚  struct st_girls  &#123;    long   id;        // è¶…å¥³ç¼–å·    char   name[31];  // è¶…å¥³å§“å    double weight;    // è¶…å¥³ä½“é‡    char   btime[20]; // æŠ¥åæ—¶é—´  &#125; stgirls;  sqlstatement stmt(&amp;conn);  // æ“ä½œSQLè¯­å¥çš„å¯¹è±¡ã€‚  int iminid,imaxid;  // æŸ¥è¯¢æ¡ä»¶æœ€å°å’Œæœ€å¤§çš„idã€‚  // å‡†å¤‡æŸ¥è¯¢è¡¨çš„SQLè¯­å¥ã€‚  stmt.prepare(&quot;\\    select id,name,weight,date_format(btime,&#x27;%%Y-%%m-%%d %%H:%%i:%%s&#x27;) from girls where id&gt;=:1 and id&lt;=:2&quot;);  /*    æ³¨æ„äº‹é¡¹ï¼š    1ã€å¦‚æœSQLè¯­å¥çš„ä¸»ä½“æ²¡æœ‰æ”¹å˜ï¼Œåªéœ€è¦prepare()ä¸€æ¬¡å°±å¯ä»¥äº†ï¼›    2ã€ç»“æœé›†ä¸­çš„å­—æ®µï¼Œè°ƒç”¨bindout()ç»‘å®šå˜é‡çš„åœ°å€ï¼›    3ã€bindout()æ–¹æ³•çš„è¿”å›å€¼å›ºå®šä¸º0ï¼Œä¸ç”¨åˆ¤æ–­è¿”å›å€¼ï¼›    4ã€å¦‚æœSQLè¯­å¥çš„ä¸»ä½“å·²æ”¹å˜ï¼Œprepare()åï¼Œéœ€é‡æ–°ç”¨bindout()ç»‘å®šå˜é‡ï¼›    5ã€è°ƒç”¨execute()æ–¹æ³•æ‰§è¡ŒSQLè¯­å¥ï¼Œç„¶åå†å¾ªç¯è°ƒç”¨next()æ–¹æ³•è·å–ç»“æœé›†ä¸­çš„è®°å½•ï¼›    6ã€æ¯è°ƒç”¨ä¸€æ¬¡next()æ–¹æ³•ï¼Œä»ç»“æœé›†ä¸­è·å–ä¸€æ¡è®°å½•ï¼Œå­—æ®µå†…å®¹ä¿å­˜åœ¨å·²ç»‘å®šçš„å˜é‡ä¸­ã€‚  */  // ä¸ºSQLè¯­å¥ç»‘å®šè¾“å…¥å˜é‡çš„åœ°å€ï¼Œbindinæ–¹æ³•ä¸éœ€è¦åˆ¤æ–­è¿”å›å€¼ã€‚  stmt.bindin(1,&amp;iminid);  stmt.bindin(2,&amp;imaxid);  // ä¸ºSQLè¯­å¥ç»‘å®šè¾“å‡ºå˜é‡çš„åœ°å€ï¼Œbindoutæ–¹æ³•ä¸éœ€è¦åˆ¤æ–­è¿”å›å€¼ã€‚  stmt.bindout(1,&amp;stgirls.id);  stmt.bindout(2, stgirls.name,30);  stmt.bindout(3,&amp;stgirls.weight);  stmt.bindout(4, stgirls.btime,19);  iminid=1;    // æŒ‡å®šå¾…æŸ¥è¯¢è®°å½•çš„æœ€å°idçš„å€¼ã€‚  imaxid=3;    // æŒ‡å®šå¾…æŸ¥è¯¢è®°å½•çš„æœ€å¤§idçš„å€¼ã€‚  // æ‰§è¡ŒSQLè¯­å¥ï¼Œä¸€å®šè¦åˆ¤æ–­è¿”å›å€¼ï¼Œ0-æˆåŠŸï¼Œå…¶å®ƒ-å¤±è´¥ã€‚  // å¤±è´¥ä»£ç åœ¨stmt.m_cda.rcä¸­ï¼Œå¤±è´¥æè¿°åœ¨stmt.m_cda.messageä¸­ã€‚  if (stmt.execute() != 0)  &#123;    printf(&quot;stmt.execute() failed.\\n%s\\n%s\\n&quot;,stmt.m_sql,stmt.m_cda.message); return -1;  &#125;  // æœ¬ç¨‹åºæ‰§è¡Œçš„æ˜¯æŸ¥è¯¢è¯­å¥ï¼Œæ‰§è¡Œstmt.execute()åï¼Œå°†ä¼šåœ¨æ•°æ®åº“çš„ç¼“å†²åŒºä¸­äº§ç”Ÿä¸€ä¸ªç»“æœé›†ã€‚  while (true)  &#123;    memset(&amp;stgirls,0,sizeof(struct st_girls));         // ç»“æ„ä½“å˜é‡åˆå§‹åŒ–ã€‚    // ä»ç»“æœé›†ä¸­è·å–ä¸€æ¡è®°å½•ï¼Œä¸€å®šè¦åˆ¤æ–­è¿”å›å€¼ï¼Œ0-æˆåŠŸï¼Œ1403-æ— è®°å½•ï¼Œå…¶å®ƒ-å¤±è´¥ã€‚    // åœ¨å®é™…å¼€å‘ä¸­ï¼Œé™¤äº†0å’Œ1403ï¼Œå…¶å®ƒçš„æƒ…å†µæå°‘å‡ºç°ã€‚    if (stmt.next()!=0) break;    // æŠŠè·å–åˆ°çš„è®°å½•çš„å€¼æ‰“å°å‡ºæ¥ã€‚    printf(&quot;id=%ld,name=%s,weight=%.02f,btime=%s\\n&quot;,stgirls.id,stgirls.name,stgirls.weight,stgirls.btime);  &#125;  // è¯·æ³¨æ„ï¼Œstmt.m_cda.rpcå˜é‡éå¸¸é‡è¦ï¼Œå®ƒä¿å­˜äº†SQLè¢«æ‰§è¡Œåå½±å“çš„è®°å½•æ•°ã€‚  printf(&quot;æœ¬æ¬¡æŸ¥è¯¢äº†girlsè¡¨%ldæ¡è®°å½•ã€‚\\n&quot;,stmt.m_cda.rpc);  return 0;&#125;\n\n\n\nåˆ é™¤æ•°æ®deletetable.cpp\n/* *  ç¨‹åºåï¼šdeletetable.cppï¼Œæ­¤ç¨‹åºæ¼”ç¤ºå¼€å‘æ¡†æ¶æ“ä½œMySQLæ•°æ®åº“ï¼ˆåˆ é™¤è¡¨ä¸­çš„è®°å½•ï¼‰ã€‚*/#include &quot;_mysql.h&quot;       // å¼€å‘æ¡†æ¶æ“ä½œMySQLçš„å¤´æ–‡ä»¶ã€‚int main(int argc,char *argv[])&#123;  connection conn;   // æ•°æ®åº“è¿æ¥ç±»ã€‚  // ç™»å½•æ•°æ®åº“ï¼Œè¿”å›å€¼ï¼š0-æˆåŠŸï¼›å…¶å®ƒæ˜¯å¤±è´¥ï¼Œå­˜æ”¾äº†MySQLçš„é”™è¯¯ä»£ç ã€‚  // å¤±è´¥ä»£ç åœ¨conn.m_cda.rcä¸­ï¼Œå¤±è´¥æè¿°åœ¨conn.m_cda.messageä¸­ã€‚  if (conn.connecttodb(&quot;127.0.0.1,root,phcQdNaiZ.g2,mysql,3306&quot;,&quot;utf8&quot;)!=0)  &#123;    printf(&quot;connect database failed.\\n%s\\n&quot;,conn.m_cda.message); return -1;  &#125;  sqlstatement stmt(&amp;conn);  // æ“ä½œSQLè¯­å¥çš„å¯¹è±¡ã€‚  int iminid,imaxid;  // åˆ é™¤æ¡ä»¶æœ€å°å’Œæœ€å¤§çš„idã€‚  // å‡†å¤‡åˆ é™¤è¡¨çš„SQLè¯­å¥ã€‚  stmt.prepare(&quot;delete from girls where id&gt;=:1 and id&lt;=:2&quot;);  // ä¸ºSQLè¯­å¥ç»‘å®šè¾“å…¥å˜é‡çš„åœ°å€ï¼Œbindinæ–¹æ³•ä¸éœ€è¦åˆ¤æ–­è¿”å›å€¼ã€‚  stmt.bindin(1,&amp;iminid);  stmt.bindin(2,&amp;imaxid);  iminid=1;    // æŒ‡å®šå¾…åˆ é™¤è®°å½•çš„æœ€å°idçš„å€¼ã€‚  imaxid=3;    // æŒ‡å®šå¾…åˆ é™¤è®°å½•çš„æœ€å¤§idçš„å€¼ã€‚  // æ‰§è¡ŒSQLè¯­å¥ï¼Œä¸€å®šè¦åˆ¤æ–­è¿”å›å€¼ï¼Œ0-æˆåŠŸï¼Œå…¶å®ƒ-å¤±è´¥ã€‚  // å¤±è´¥ä»£ç åœ¨stmt.m_cda.rcä¸­ï¼Œå¤±è´¥æè¿°åœ¨stmt.m_cda.messageä¸­ã€‚  if (stmt.execute() != 0)  &#123;    printf(&quot;stmt.execute() failed.\\n%s\\n%s\\n&quot;,stmt.m_sql,stmt.m_cda.message); return -1;  &#125;  // è¯·æ³¨æ„ï¼Œstmt.m_cda.rpcå˜é‡éå¸¸é‡è¦ï¼Œå®ƒä¿å­˜äº†SQLè¢«æ‰§è¡Œåå½±å“çš„è®°å½•æ•°ã€‚  printf(&quot;æœ¬æ¬¡åˆ é™¤äº†girlsè¡¨%ldæ¡è®°å½•ã€‚\\n&quot;,stmt.m_cda.rpc);  conn.commit();   // æäº¤æ•°æ®åº“äº‹åŠ¡ã€‚  return 0;&#125;\n\näºŒè¿›åˆ¶å¤§å¯¹è±¡å­˜æ”¾filetoblob.cpp\n/* *  ç¨‹åºåï¼šfiletoblob.cppï¼Œæ­¤ç¨‹åºæ¼”ç¤ºå¼€å‘æ¡†æ¶æ“ä½œMySQLæ•°æ®åº“ï¼ˆæŠŠå›¾ç‰‡æ–‡ä»¶å­˜å…¥BLOBå­—æ®µï¼‰ã€‚*/#include &quot;_mysql.h&quot;       // å¼€å‘æ¡†æ¶æ“ä½œMySQLçš„å¤´æ–‡ä»¶ã€‚int main(int argc,char *argv[])&#123;  connection conn;   // æ•°æ®åº“è¿æ¥ç±»ã€‚  // ç™»å½•æ•°æ®åº“ï¼Œè¿”å›å€¼ï¼š0-æˆåŠŸï¼›å…¶å®ƒæ˜¯å¤±è´¥ï¼Œå­˜æ”¾äº†MySQLçš„é”™è¯¯ä»£ç ã€‚  // å¤±è´¥ä»£ç åœ¨conn.m_cda.rcä¸­ï¼Œå¤±è´¥æè¿°åœ¨conn.m_cda.messageä¸­ã€‚  if (conn.connecttodb(&quot;127.0.0.1,root,phcQdNaiZ.g2,mysql,3306&quot;,&quot;utf8&quot;)!=0)  &#123;    printf(&quot;connect database failed.\\n%s\\n&quot;,conn.m_cda.message); return -1;  &#125;  // å®šä¹‰ç”¨äºè¶…å¥³ä¿¡æ¯çš„ç»“æ„ï¼Œä¸è¡¨ä¸­çš„å­—æ®µå¯¹åº”ã€‚  struct st_girls  &#123;    long   id;             // è¶…å¥³ç¼–å·    char   pic[100000];    // è¶…å¥³å›¾ç‰‡çš„å†…å®¹ã€‚    unsigned long picsize; // å›¾ç‰‡å†…å®¹å ç”¨çš„å­—èŠ‚æ•°ã€‚  &#125; stgirls;  sqlstatement stmt(&amp;conn);  // æ“ä½œSQLè¯­å¥çš„å¯¹è±¡ã€‚  // å‡†å¤‡ä¿®æ”¹è¡¨çš„SQLè¯­å¥ã€‚  stmt.prepare(&quot;update girls set pic=:1 where id=:2&quot;);  stmt.bindinlob(1, stgirls.pic,&amp;stgirls.picsize);  stmt.bindin(2,&amp;stgirls.id);  // ä¿®æ”¹è¶…å¥³ä¿¡æ¯è¡¨ä¸­idä¸º1ã€2çš„è®°å½•ã€‚  for (int ii=1;ii&lt;3;ii++)  &#123;    memset(&amp;stgirls,0,sizeof(struct st_girls));         // ç»“æ„ä½“å˜é‡åˆå§‹åŒ–ã€‚    // ä¸ºç»“æ„ä½“å˜é‡çš„æˆå‘˜èµ‹å€¼ã€‚    stgirls.id=ii;                                   // è¶…å¥³ç¼–å·ã€‚    // æŠŠå›¾ç‰‡çš„å†…å®¹åŠ è½½åˆ°stgirls.picä¸­ã€‚    if (ii==1) stgirls.picsize=filetobuf(&quot;1.jpg&quot;,stgirls.pic);    if (ii==2) stgirls.picsize=filetobuf(&quot;2.jpg&quot;,stgirls.pic);    // æ‰§è¡ŒSQLè¯­å¥ï¼Œä¸€å®šè¦åˆ¤æ–­è¿”å›å€¼ï¼Œ0-æˆåŠŸï¼Œå…¶å®ƒ-å¤±è´¥ã€‚    // å¤±è´¥ä»£ç åœ¨stmt.m_cda.rcä¸­ï¼Œå¤±è´¥æè¿°åœ¨stmt.m_cda.messageä¸­ã€‚    if (stmt.execute()!=0)    &#123;      printf(&quot;stmt.execute() failed.\\n%s\\n%s\\n&quot;,stmt.m_sql,stmt.m_cda.message); return -1;    &#125;    printf(&quot;æˆåŠŸä¿®æ”¹äº†%ldæ¡è®°å½•ã€‚\\n&quot;,stmt.m_cda.rpc); // stmt.m_cda.rpcæ˜¯æœ¬æ¬¡æ‰§è¡ŒSQLå½±å“çš„è®°å½•æ•°ã€‚  &#125;  printf(&quot;update table girls ok.\\n&quot;);  conn.commit();   // æäº¤æ•°æ®åº“äº‹åŠ¡ã€‚  return 0;&#125;\n\näºŒè¿›åˆ¶å¤§å¯¹è±¡æŠ½å–blobtofile.cpp\n/* *  ç¨‹åºåï¼šblobtofile.cppï¼Œæ­¤ç¨‹åºæ¼”ç¤ºå¼€å‘æ¡†æ¶æ“ä½œMySQLæ•°æ®åº“ï¼ˆæå–BLOBå­—æ®µå†…å®¹åˆ°å›¾ç‰‡æ–‡ä»¶ä¸­ï¼‰ã€‚*/#include &quot;_mysql.h&quot;       // å¼€å‘æ¡†æ¶æ“ä½œMySQLçš„å¤´æ–‡ä»¶ã€‚int main(int argc,char *argv[])&#123;  connection conn;   // æ•°æ®åº“è¿æ¥ç±»ã€‚  // ç™»å½•æ•°æ®åº“ï¼Œè¿”å›å€¼ï¼š0-æˆåŠŸï¼›å…¶å®ƒæ˜¯å¤±è´¥ï¼Œå­˜æ”¾äº†MySQLçš„é”™è¯¯ä»£ç ã€‚  // å¤±è´¥ä»£ç åœ¨conn.m_cda.rcä¸­ï¼Œå¤±è´¥æè¿°åœ¨conn.m_cda.messageä¸­ã€‚  if (conn.connecttodb(&quot;127.0.0.1,root,phcQdNaiZ.g2,mysql,3306&quot;,&quot;utf8&quot;)!=0)  &#123;    printf(&quot;connect database failed.\\n%s\\n&quot;,conn.m_cda.message); return -1;  &#125;  // å®šä¹‰ç”¨äºè¶…å¥³ä¿¡æ¯çš„ç»“æ„ï¼Œä¸è¡¨ä¸­çš„å­—æ®µå¯¹åº”ã€‚  struct st_girls  &#123;    long   id;             // è¶…å¥³ç¼–å·    char   pic[100000];    // è¶…å¥³å›¾ç‰‡çš„å†…å®¹ã€‚    unsigned long picsize; // å›¾ç‰‡å†…å®¹å ç”¨çš„å­—èŠ‚æ•°ã€‚  &#125; stgirls;  sqlstatement stmt(&amp;conn);  // æ“ä½œSQLè¯­å¥çš„å¯¹è±¡ã€‚  // å‡†å¤‡æŸ¥è¯¢è¡¨çš„SQLè¯­å¥ã€‚  stmt.prepare(&quot;select id,pic from girls where id in (1,2)&quot;);  stmt.bindout(1,&amp;stgirls.id);  stmt.bindoutlob(2, stgirls.pic,100000,&amp;stgirls.picsize);  // æ‰§è¡ŒSQLè¯­å¥ï¼Œä¸€å®šè¦åˆ¤æ–­è¿”å›å€¼ï¼Œ0-æˆåŠŸï¼Œå…¶å®ƒ-å¤±è´¥ã€‚  // å¤±è´¥ä»£ç åœ¨stmt.m_cda.rcä¸­ï¼Œå¤±è´¥æè¿°åœ¨stmt.m_cda.messageä¸­ã€‚  if (stmt.execute()!=0)  &#123;    printf(&quot;stmt.execute() failed.\\n%s\\n%s\\n&quot;,stmt.m_sql,stmt.m_cda.message); return -1;  &#125;  // æœ¬ç¨‹åºæ‰§è¡Œçš„æ˜¯æŸ¥è¯¢è¯­å¥ï¼Œæ‰§è¡Œstmt.execute()åï¼Œå°†ä¼šåœ¨æ•°æ®åº“çš„ç¼“å†²åŒºä¸­äº§ç”Ÿä¸€ä¸ªç»“æœé›†ã€‚  while (true)  &#123;    memset(&amp;stgirls,0,sizeof(stgirls)); // å…ˆæŠŠç»“æ„ä½“å˜é‡åˆå§‹åŒ–ã€‚    // ä»ç»“æœé›†ä¸­è·å–ä¸€æ¡è®°å½•ï¼Œä¸€å®šè¦åˆ¤æ–­è¿”å›å€¼ï¼Œ0-æˆåŠŸï¼Œ1403-æ— è®°å½•ï¼Œå…¶å®ƒ-å¤±è´¥ã€‚    // åœ¨å®é™…å¼€å‘ä¸­ï¼Œé™¤äº†0å’Œ1403ï¼Œå…¶å®ƒçš„æƒ…å†µæå°‘å‡ºç°ã€‚    if (stmt.next()!=0) break;    // ç”Ÿæˆæ–‡ä»¶åã€‚    char filename[101]; memset(filename,0,sizeof(filename));    sprintf(filename,&quot;%d_out.jpg&quot;,stgirls.id);        // æŠŠå†…å®¹å†™å…¥æ–‡ä»¶ã€‚    buftofile(filename,stgirls.pic,stgirls.picsize);  &#125;  // è¯·æ³¨æ„ï¼Œstmt.m_cda.rpcå˜é‡éå¸¸é‡è¦ï¼Œå®ƒä¿å­˜äº†SQLè¢«æ‰§è¡Œåå½±å“çš„è®°å½•æ•°ã€‚  printf(&quot;æœ¬æ¬¡æŸ¥è¯¢äº†girlsè¡¨%ldæ¡è®°å½•ã€‚\\n&quot;,stmt.m_cda.rpc);  return 0;&#125;\n\n\n\nç¼–è¯‘æ–‡ä»¶makefile\n# mysqlå¤´æ–‡ä»¶å­˜æ”¾çš„ç›®å½•ã€‚locate mysql.hMYSQLINCL = -I/usr/include/mysql# mysqlåº“æ–‡ä»¶å­˜æ”¾çš„ç›®å½•ã€‚locate libmysqlclient.aMYSQLLIB = -L/usr/lib64/mysql#_mysql.h _mysql.cppåœ¨å½“å‰æ–‡ä»¶å¤¹# éœ€è¦é“¾æ¥çš„mysqlåº“ã€‚MYSQLLIBS = -lmysqlclientCFLAGS=-g -Wno-write-stringsall:createtable  inserttable updatetable selecttable deletetable filetoblob blobtofile book1 book2createtable:createtable.cpp _mysql.h _mysql.cpp\tg++ $(CFLAGS) -o createtable createtable.cpp $(MYSQLINCL) $(MYSQLLIB) $(MYSQLLIBS) _mysql.cpp -lm -lcinserttable:inserttable.cpp _mysql.h _mysql.cpp\tg++ $(CFLAGS) -o inserttable inserttable.cpp $(MYSQLINCL) $(MYSQLLIB) $(MYSQLLIBS) _mysql.cpp -lm -lcupdatetable:updatetable.cpp _mysql.h _mysql.cpp\tg++ $(CFLAGS) -o updatetable updatetable.cpp $(MYSQLINCL) $(MYSQLLIB) $(MYSQLLIBS) _mysql.cpp -lm -lcselecttable:selecttable.cpp _mysql.h _mysql.cpp\tg++ $(CFLAGS) -o selecttable selecttable.cpp $(MYSQLINCL) $(MYSQLLIB) $(MYSQLLIBS) _mysql.cpp -lm -lcdeletetable:deletetable.cpp _mysql.h _mysql.cpp\tg++ $(CFLAGS) -o deletetable deletetable.cpp $(MYSQLINCL) $(MYSQLLIB) $(MYSQLLIBS) _mysql.cpp -lm -lcfiletoblob:filetoblob.cpp _mysql.h _mysql.cpp\tg++ $(CFLAGS) -o filetoblob filetoblob.cpp $(MYSQLINCL) $(MYSQLLIB) $(MYSQLLIBS) _mysql.cpp -lm -lcblobtofile:blobtofile.cpp _mysql.h _mysql.cpp\tg++ $(CFLAGS) -o blobtofile blobtofile.cpp $(MYSQLINCL) $(MYSQLLIB) $(MYSQLLIBS) _mysql.cpp -lm -lcbook1:book1.cpp _mysql.h _mysql.cpp\tg++ $(CFLAGS) -o book1 book1.cpp $(MYSQLINCL) $(MYSQLLIB) $(MYSQLLIBS) _mysql.cpp -lm -lcbook2:book2.cpp _mysql.h _mysql.cpp\tg++ $(CFLAGS) -o book2 book2.cpp $(MYSQLINCL) $(MYSQLLIB) $(MYSQLLIBS) _mysql.cpp -lm -lcclean:\trm -rf createtable  inserttable updatetable selecttable deletetable filetoblob blobtofile book1 book2\n\n\n\noracleæ•°æ®åº“å¼€å‘æ•°æ®æŠ½å–ç³»ç»Ÿæ•°æ®å…¥åº“ç³»ç»Ÿæ•°æ®åŒæ­¥ç³»ç»Ÿæ•°æ®æœåŠ¡æ€»çº¿ioå¤ç”¨ åå‘ä»£ç†æ¨¡å—","slug":"linux","date":"2024-07-30T07:18:43.000Z","categories_index":"æ“ä½œç³»ç»Ÿ","tags_index":"Linux","author_index":"æš—ä½¿å¼€å¼€"},{"id":"0c28c8671cbf680a33a46ee0d16608fc","title":"IDEA","content":"IDEAä»£ç ç¼–è¾‘\nctrl+shift+V ç²˜è´´å¤åˆ¶å†å²\nctrl+shift+alt+V ä¸å¸¦æ ¼å¼çš„ç²˜è´´\nctrl +alt+L ä»£ç æ ¼å¼åŒ–\nalt+é¼ æ ‡å·¦é”®å¹¶æ‹–åŠ¨ çºµå‘é€‰ä¸­å¤šè¡Œæ–‡å­—\nctrl+d å¤åˆ¶ç²˜è´´ä¸€è¡Œæˆ–å¤šè¡Œ\nalt+shift+ä¸Šä¸‹é”® ç§»åŠ¨é€‰ä¸­è¡Œè¡Œ\nshift+ä¸Š&#x2F;ä¸‹ é€‰ä¸­å¤šè¡Œ \nalt+insert generater\n\nå¿«é€Ÿè·³è½¬\nctrl+é¼ æ ‡å·¦é”® è¿›å…¥æ–¹æ³•\nctrl+alt+é¼ æ ‡å·¦é”® å›åˆ°åˆšæ‰çš„ä½ç½®\nhome è¡Œé¦–ï¼Œendè¡Œå°¾ è¡Œå†…è·³è½¬æˆ–é€‰ä¸­\nctrl+å·¦å³ å…‰æ ‡ä¸€ä¸ªå•è¯çš„è·³\nctrl+g è·³åˆ°æŒ‡å®šè¡Œ\nalt+å·¦å³ tabåˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªä¸‹ä¸€ä¸ª\nctrl+e æŸ¥çœ‹æœ€è¿‘æ‰“å¼€çš„æ–‡ä»¶\nshow in explorerå¿«é€Ÿæ‰“å¼€æ–‡ä»¶æ‰€åœ¨çš„æ–‡ä»¶å¤¹\n\nå¿«é€ŸæŸ¥æ‰¾å’Œæ›¿æ¢\nctrl+f å†…å®¹æŸ¥æ‰¾\nctrl+r å†…å®¹æ›¿æ¢\nctrl+shift+f&#x2F;r é¡¹ç›®ä¸­çš„å†…å®¹æŸ¥æ‰¾&#x2F;æ›¿æ¢ï¼ˆå…¨å±€ï¼‰\nctrl+shift+n æŸ¥æ‰¾æ–‡ä»¶&#x2F;æ“ä½œèœå•&#x2F;â€¦\n\nä¸‡èƒ½å¿«æ·é”®\nalt+enter æç¤º&#x2F;å¼•å…¥&#x2F;è¡¥å…¨&#x2F; åŠ å…¥å­—å…¸&#x2F;ç”Ÿæˆæ„é€ æ–¹æ³•&#x2F;getsetæ–¹æ³•&#x2F;â€¦\n\næ’ä»¶\ngit\n\nè‡ªå®šä¹‰ä»£ç æ¨¡æ¿Live Templatesetting-ã€‹Editor-ã€‹Live Templates\ngtr,ptr,ptrp\npostfixå…ˆæ‰“å˜é‡ï¼Œè¡¨è¾¾å¼ï¼Œåæ‰“å¿«æ·é”®\ni==1.ifuser.nulluser.sout\n\n\n\nçƒ­éƒ¨ç½² è‡ªåŠ¨ç¼–è¯‘setting-ã€‹Compiler-ã€‹Build project automatically\nhelp-ã€‹find action-ã€‹Registry\n","slug":"IDEA","date":"2024-07-30T07:17:06.000Z","categories_index":"å¼€å‘å·¥å…·","tags_index":"IDEA","author_index":"æš—ä½¿å¼€å¼€"},{"id":"58b7f561a82cc9dd7c27d8845a6fb9dd","title":"git","content":"ä½¿ç”¨githubæœç´¢awesome xxx &#x2F;&#x2F;æ‰¾ç™¾ç§‘å…¨ä¹¦\nxxx sample &#x2F;&#x2F;æ‰¾ä¾‹å­\nxxx starter &#x2F;xxx boilerplate &#x2F;&#x2F;æ‰¾ç©ºé¡¹ç›®æ¶å­\nxxx tutorial &#x2F;&#x2F;æ‰¾æ•™ç¨‹\ngitignoreä¸ç”Ÿæ•ˆgit rm -r --cached .git add .git commit -m &quot;update .gitignore&quot;\n\n\ngitåŸºæœ¬æ“ä½œè®¾ç½®æŸ¥è¯¢é…ç½®ä¿¡æ¯git config --global user.name &quot;govk&quot;git config --global user.email &quot;china.lijialin@outlook.com&quot;å…‹éš†ä»£ç git cloneæŸ¥çœ‹çŠ¶æ€git statuså‘Šè¯‰æ–°å»ºçš„æ–‡ä»¶å¤¹è¦ç”¨gitç®¡ç†git init æäº¤ä»£ç //å…¨éƒ¨æäº¤åˆ°ç¼“å†²åŒº æš‚å­˜åŒºgit add . //å•æ¬¡æäº¤ git add 2.pyæäº¤ä»£ç åˆ°ä»“åº“git commit -m &quot;åŠ å¤‡æ³¨&quot; æ¨é€ä»£ç git pushæ‹‰å–ä»£ç git pullæŸ¥çœ‹gitæäº¤æ—¥å¿—git log  å›æ»šgit reset HEAD //resetå®šå‘åˆ°git chackout HEAD main.py //å›é€€åˆ°main.pyæœ€åä¸€æ¬¡æäº¤çš„ç‰ˆæœ¬git chackout main.py //æ²¡æœ‰æäº¤å‰ ä»ç¼“å†²åŒºé€€å›åˆ°å·¥ä½œåŒºä»å½“å‰åˆ†æ”¯ä¸ºåŸºç¡€æ–°å»ºåˆ†æ”¯//åˆ›å»ºåˆ†æ”¯a bgit checkout -b a git checkout -b båˆ‡æ¢å›masterä¸»åˆ†æ”¯git checkout masteråˆå¹¶åˆ†æ”¯agit merge aåˆå¹¶æœ‰å†²çªè‡ªå·±éš¾ä»¥å†³ç­–æ—¶ æ”¾å¼ƒå½“å‰åˆå¹¶git merge --abortçœ‹å½“å‰æœ‰å“ªäº›åˆ†æ”¯git branchå®Œæˆçš„åˆ†æ”¯åˆ é™¤git branch -D a\n\n\n\nè¿æ¥githubgithubæ–°å»ºä»“åº“æœ‰æç¤º\nâ€¦or create a new repository on the command lineecho &quot;# -&quot; &gt;&gt; README.mdgit initgit add README.mdgit commit -m &quot;first commit&quot;git branch -M maingit remote add origin https://github.com/govk/-.gitgit push -u origin main\n\nâ€¦or push an existing repository from the command linegit remote add origin https://github.com/govk/-.gitgit branch -M maingit push -u origin main\n\nâ€¦or import code from another repositoryYou can initialize this repository with code from a Subversion, Mercurial, or TFS project.\nvscodeæ’ä»¶ä¸‹è½½ gitlens\n","slug":"git","date":"2024-07-30T07:15:25.000Z","categories_index":"å¼€å‘å·¥å…·","tags_index":"git","author_index":"æš—ä½¿å¼€å¼€"},{"id":"4122a09df2e4f3d18921791a0dcc0507","title":"docker","content":"Dockerå®‰è£…dockerå®¹å™¨åŒ–å’ŒDockerfileDockerfile\nFROM node:14-alpine //åŸºç¡€é•œåƒï¼Œnodeï¼Œv14ï¼ŒåŸºäºalpineæ“ä½œç³»ç»ŸCOPY index.js /     //æºè·¯å¾„æ˜¯ç›¸å¯¹äºDockerfileæ–‡ä»¶çš„è·¯å¾„ï¼Œç›®æ ‡è·¯å¾„æ˜¯ç›¸å¯¹äºé•œåƒçš„è·¯å¾„CMD node /index.js  //å¯æ‰§è¡Œç¨‹åºçš„åå­—ï¼Œå¯æ‰§è¡Œç¨‹åºæ¥æ”¶åˆ°çš„å‚æ•°\n\ndocker build -t hello-docker . //hello-dockeræ˜¯é•œåƒçš„åå­— .è¡¨ç¤ºDockerfileæ‰€åœ¨çš„ç›®å½•docker images //æŸ¥çœ‹æ‰€æœ‰é•œåƒdocker run hello-docker //è¿è¡Œé•œåƒ\n\n","slug":"docker","date":"2024-07-30T07:12:50.000Z","categories_index":"å¼€å‘å·¥å…·","tags_index":"docker","author_index":"æš—ä½¿å¼€å¼€"},{"id":"487367ff609355e6216873e9408d459b","title":"é›…æ€","content":"IELTS\nå‰‘é›…çœŸé¢˜8-16\nè€ƒç‚¹è¯538\nSIMONé›…æ€è¯¾\næ…å°å¶·å†™ä½œç´ æåº“\n\nè½¯ä»¶\n\né›…æ€å“¥\né›…æ€è€ƒæ»¡åˆ†\næ¯æ—¥è‹±è¯­å¬é¢˜\n\npart1\nä¸€èˆ¬åŠ ç‰¹æ®Š\nè®¾ç½®æ¡ä»¶ï¼Œä¸€å®šè¦ç®€å•\n å¹³å¸¸æ€ä¹ˆæ ·ï¼Œå½“ä»€ä¹ˆæ—¶å€™ï¼Œå°±æ€ä¹ˆæ ·ï¼ŒåŸå› \n å¼€ä¸å¼€å¿ƒï¼Œå¿™ä¸å¿™ï¼Œå‘¨æ—¥å¹³æ—¶\n\nè¿‡å»åŠ ç°åœ¨\nlikeä¹‹ç±»çš„ï¼Œè¿‡å»æ€ä¹ˆç°åœ¨æ€ä¹ˆï¼ŒåŸå› \n\nè€å¹´äººå¹´è½»äººç”·äººå¥³äºº\nä¸€ç±»äººæ€ä¹ˆæ ·ï¼ŒåŸå› \n\n\npart2\né¢˜åº“\n\næƒ³ä¸€ä¸ªæ—…æ¸¸çš„æ•…äº‹ï¼ˆå°½é‡å°ä¼—çš„åœ°æ–¹ï¼‰\nlonelyplanet.com\n\nåœ¨å“ª\nä»€ä¹ˆæ ·\nåšçš„ä¸€ä»¶äº‹\né‡è§çš„ä¸€ä¸ªäºº\nçœ‹åˆ°çš„ä¸€ä¸ªç‰©å“\n\n\nåº”ç”¨åˆ°é¢˜åº“\n\n\nå°ä½œæ–‡å›¾è¡¨é¢˜20min 150è¯ï¼ˆæ³¨æ„æ—¶æ€ï¼‰\n\nIntroduction\nä¸€å¥è¯ ä»‹ç»å›¾è¡¨\n\nOverview\nä¸¤å¥è¯ é€‰ä¸¤ä¸ªç‰¹ç‚¹\nä¸è¦æåˆ°å…·ä½“çš„ï¼ˆæ•°å­—ï¼‰ï¼Œä¸éœ€è¦ä¸»è§‚å†…å®¹\n\nDetails\nç¬¬ä¸€å¥è¯ è¯´æ˜æœ¬æ®µå“ªä¸ªå›¾è¡¨\n\nDetails\nç¬¬ä¸€å¥è¯ è¯´æ˜æœ¬æ®µå“ªä¸ªå›¾è¡¨\n\n\nå°ä½œæ–‡ å„å›¾è¡¨å¥å¼Introduction\n\nGiven is a&#x2F;are two\ndiagram illustrating the process by which [thing] is [done]&#x2F;Interaction between â€¦\ngraphs&#x2F;figures&#x2F;pie charts&#x2F;line graphs&#x2F;column graphs&#x2F;bar\ngraphs concerning&#x2F;comparing&#x2F;providing a comparison [of&#x2F;between something] in[place] in [year]&#x2F;during the period fromâ€¦ toâ€¦ as well asâ€¦ in these regions.\n\n\nA glance at the (two) graph&#x2F;figure&#x2F;pie chart&#x2F;table(s) provided reveals\nthe relative popularity of [thing] among [ppl] in [place] in [year].\nsome&#x2F;a number of striking similarities&#x2F;clear differences between [thing] in termsof [length&#x2F;age&#x2F;scale] in [place] during the period fromâ€¦ toâ€¦\n\n\nThe chart&#x2F;graph gives information regardingâ€¦\nDIAGRAM - The [thing] is&#x2F;are denoted by [symbol], while the [thing] is&#x2F;are marked as[symbol].\n\nparaphrase tips:between 1980 and 2012 &#x3D; over a period of 32 years&#x2F;over the period shownthe figure forâ€¦\nBody æ­£æ–‡\n\nOpening Sentences\nIt is evident&#x2F;apparent from the information supplied that â€¦\nFrom the information supplied, it is evident that â€¦\nAs shown in the figure, â€¦\nWhile â€¦, it seems that â€¦\nOne particular interesting fact highlighted by the figure is that â€¦\nAlso evident&#x2F;noteworthy is the fact that â€¦\nNot surprisingly, â€¦ Equally predictable is the fact that â€¦\nAs for&#x2F;with regard to {thing}, â€¦\nIt is also interesting to note that â€¦\nIn stark contrast, however, â€¦\nIn contrast to [party], â€¦\nYet, by far the most significant change to take place during the period in question was â€¦\nThere were also considerable decreases in â€¦\n\n\nLine Graph æŠ˜çº¿å›¾\nç°åœ¨æ—¶ - From a negligible [value], the [figure] soars to [value] among â€¦\nè¿‡å»å¼ - From [value] in [yr], [figure] climbed steadily to [figure] in [yr], before soaringto a staggering [value] in [yr].\nIncreasing from approximately [value] in [year] to [value] in [year], [thing] then plungedto a low of just [value] in the [time].\nThe [figure&#x2F;thing], meanwhile, fluctuated at somewhere between [value n value] priorto [time], before dropping sharply to less than [value] in [time].\nThis is&#x2F;was followed by an exponential growth, with [thing&#x2F;figure] reaching a peak of[value].\nThe [time, eg. latter half of the century; following 5 yrs; subsequent decades], however,saw a sustained decline&#x2F;rapid growth in this figure, to somewhere in the vicinity of[value] in [time], followed by a steady fall&#x2F;rise.\nSecond in terms of [thing] was [party]. This [party] saw a threefold increase during theperiod in question, from [value] in [yr] to [value] in [yr].\nJust one year later, A overtook B as the primary source ofâ€¦\nâ€¦ increased by progressively small amounts and reachedâ€¦\nâ€¦ rose at an increasingly rapid rate, reaching [number] by [year] and [number] in [year].\n\n\nPie Chart é¥¼çŠ¶å›¾\nAs for [figure], men outnumber women 24 to 1.\nOverall, the number of [thing, eg. men and women studying part time] outnumberedthose [studying full-time] by a significant margin.\nSome 70% of the [thing] are [what], while the remainder are [what].\nOf these [things], [thing] is&#x2F;was the most â€¦\nNot a single respondent to the survey rated [thing] as â€¦ in [yr]. However, by [yr] thisfigure stood at [value] â€” the second highest overall.\nAlso more popular is [thing], at [value] in [yr] compared to [value] a decade earlier.\n[Thing] â€” which was the second most [what] in [yr], accounting for [percent] ofrespondents â€” slipped to a mere [percent] in [yr].\n[Thing] was far more common in [party] than in any other [party] listed.\nThe prevalence of [thing] in [party] was double that of [party] and triple that of [party].\n[Party], meanwhile, had moderate levels of [thing].\nspending on A varied widely in the 3 year and was in the range of 7-16% of the totalbudget.\nin [year], x% of A did â€¦, while the equivalent figure for B was y%.\nBoth UK and USA saw an increase in â€¦, from x1% to x2% in UK and from y1% to y2%in USA.\nSth account for the highest proportion of UK â€¦ in both years, but only the third highestproportion in USA.\nBritish spent only half as much in relative terms on X as US residents.\nIn both countries, A and B took roughly x% and y% of the budgets respectively.\nthe majority of â€¦ were over 40 years of age. To be precise, â€¦% of them were aged 50 ormore, and â€¦% aged between 40 and 49. Younger adults were in the minority, withâ€¦\nIn Poland, however, studies take almost half the expenditure at 43%, followed bytransport at 26%.\ntake the vast majority\n\n\n\nvocab: account for&#x2F;make up x%\n\nColumn&#x2F;bar Graph æŸ±çŠ¶å›¾\nBy far the most common [thing] for this group, [thing] and [thing], were [done] astaggering [value] and [value] respectively.\nNumbering (some) [value], [thing] was the second for this group.\nThird (in terms of â€¦) was [thing]\n, at approximately [value].\n. An approximate [value] of [thing] were [done] on [party] during the year inquestion.\n[Thing] and [thing] were considerably less common, at [value] and [value] respectively.\n[Thing] doubled from around [eg100] in [yr] to well over [eg200] in [yr].\nThe number of [thing] over the [eg.3] periods fluctuated, dropping from approximately[value] to [value]. (When X axis is time)\nFor [party], the trajectory was less consistent rising sharply in the [time, eg. first decade]and then tapering off to an almost identical level to that of [party] in [time].\nThe â€¦ partially follow this pattern.\n[figure] lies roughly between these two extremes.\n\n\n\nå¤§ä½œæ–‡\nè®®è®ºæ–‡40min 250è¯\n4æ®µ13å¥\n\nIntroduction 2å¥\nä»‹ç»ä¸»é¢˜\nç»™å‡ºæ€åº¦\n\n\næ­£æ–‡ 5å¥\nä¸­å¿ƒå¥\n3ä¸ªåˆ†è®ºç‚¹\nä¸€ä¸ªä¾‹å­\n\n\næ­£æ–‡ 5å¥\nä¸€ä¸ªè®ºç‚¹\n3å¥è§£é‡Š\n1å¥æ€»ç»“\n\n\nConclusion 1å¥\nç¬¬ä¸€æ®µç¬¬äºŒå¥è¯\n\n\n\nå¤§ä½œæ–‡ 6ç§å¥å‹\nSimple sentences\nSugar makes people unhealthy.\nSugar harms peopleâ€™s teeth.\n\n\nCompound sentences\nSugar makes people unhealthy and it harms their teeth.\n\n\nComplex sentences (ä¸€ç¯‡ä½œæ–‡ä¸­è‡³å°‘ç”¨5å¥)\nWhile some people will support the tax, others will be against it.\nAlthough people will benefit, companies will suffer.\n\n\nPassive sentences\nSugary drinks are known to be addictive.\n\n\nQuestion sentences (ä¸€ç¯‡ä½œæ–‡ä¸­æœ€å¤šç”¨ä¸€æ¬¡)\nBut would a sugary tax really work?\n\n\nConditional sentences (&#x3D;if)\nIf the government had taxed sugary drinks earlier then we would not have anobesity issue now.\n\n\n\nå¬åŠ›ç”¨è€³æœµèƒŒå•è¯\nç²¾å¬ï¼šå¬ä¸€å¥å†™ä¸€å¥\n\nææ–™ï¼š100ä¸ªè¯æœ€å¤š1-2ä¸ªä¸è®¤è¯†çš„å•è¯\nä¸è¦å¤šæ€è€ƒï¼Œå¤šæ¨¡ä»¿\nä¸€èˆ¬5minéŸ³é¢‘å¬å†™åœ¨1ä¸ªå¤šå°æ—¶å·¦å³\n\n\nåŠ 1.5&#x2F;2å€é€Ÿç»ƒä¹ \næ¯å¤©ç»ƒä¹ 3ä¸ªäº”åˆ†é’Ÿæ‰˜ç¦éŸ³é¢‘ å¤ä¹ -0ï¼Œ-1ï¼Œ-3ï¼Œ-7\n\nå£è¯­å…¨æ–‡èƒŒè¯µï¼Œä¸æ€•æ…¢ï¼Œæœ‰æ„Ÿæƒ…è¯»ä¸€å¥è¯»å‡ éï¼ŒèƒŒä¸€å¥\né˜…è¯»æ‰¾é•¿éš¾å¥ç»ƒä¹ \nå¤–åŠŸï¼Œåˆ†å‰²å¥å­ï¼Œæ ‡ç‚¹-è¿æ¥è¯-ä¸»è°“è¯­\nå†…åŠŸï¼Œåå¤æœ‰æ„Ÿæƒ…çš„è¯»åˆ†æåçš„å¥å­\nèƒŒå•è¯å¤ä¹ æ—¶é—´å’ŒèƒŒå•è¯æ—¶é—´åº”è¯¥æ˜¯æŒå¹³ï¼Œè§„åˆ’å¥½æ—¶é—´ï¼Œå¤ä¹ å’Œå­¦ä¹ éƒ½ä¸èƒ½æ”¾æ¾ï¼Œä¸æ±‚å¿«\n\nåˆé€‚çš„æ—¶é—´\n\né¥¥é¥¿è®°å¿†\næ¥å›èµ°åŠ¨\næ¸©åº¦ä½\nç¡å‰ï¼ˆè¦è¾“å‡ºçš„å­¦ä¹ ï¼‰\nè¿åŠ¨å\n\n\nå­¦ä¹ åŠ¨æœº\n\nåˆ›é€ æ„ä¹‰\nå¼€å§‹å­¦ä¹ å›°éš¾ç»™è‡ªå·±ä¸€ä¸ªä¸­é—´æ€é€‚åº”\nå¥–åŠ±å›è·¯\n\n\nèƒŒæ–°å•è¯ 100&#x2F;d\n\nä¸è¦ç»å¸¸æ¢ä¹¦\nè”æƒ³\nå¿«é€Ÿåå¤\n\n\nå¤ä¹ \n\nå¤ä¹ æ—¶é—´ -0ï¼Œ-1ï¼Œ-3ï¼Œ-7\nå¤ä¹ è¦ç”¨åŠŸä¸èƒ½æ”¾æ¾\nè¾“å‡ºçš„å¤ä¹ ï¼Œè®²å‡ºæ¥è®²ç»™åˆ«äººä¹Ÿè¡Œ\n\n\næ‹¼å†™ 10&#x2F;d\n\né‡å¤å›å¿†æ‹¼å†™ï¼Œä¸è¦è€çœ‹\n\n\n\nå†™ä½œåŸåˆ™\né‡è¦çš„äº‹æƒ…å…ˆè¯´\nåˆ†è§£(æ¯”å¦‚ä½ è¦å†™å¤§è±¡ï¼Œå°±å¯ä»¥æŒ‰å¤§è±¡çš„ç§ç±»ï¼Œå¹´é¾„è¿›è¡Œåˆ†ç±»ï¼Œç„¶åå¯¹æ¯ä¸€ç±»çš„è¿›è¡Œå•ç‹¬æå†™)\né“¾æ¥è¯(è½¬æŠ˜howeverï¼Œbutï¼Œyet nonethelessï¼Œæ‰¿æ¥ moreoverï¼Œfurthermoreï¼Œä¸¾ä¾‹ï¼Œfor exampleï¼Œfor instanceï¼Œæ€»ç»“ in conclusion)\nå°æ¨¡æ¿ (æ¯”è¾ƒå…³ç³»(aæ¯”bå¥½ï¼Œæˆ–ä¸¤è€…ç›¸å·®ä¸å¤§)ï¼Œæ—¶é—´é¡ºåºï¼Œå› æœå…³ç³»(å› ä¸ºå‰è€…å‘ç”Ÿï¼Œå¯¼è‡´åè€…))\n\næ¨¡ä»¿\næ‡‚äº†åŸåˆ™è¿˜è¦çœ‹ä»–äººå¦‚ä½•è¿ç”¨(æ¯è¯­è€…æˆ–è€…æ˜¯è‹±æ–‡å†™ä½œæ°´å¹³é«˜çš„äººå¦‚ä½•è¿ç”¨\nå…‰æœ‰åŸåˆ™ä¸è¡Œï¼Œä¸èƒ½æŒ‰ç…§è‡ªå·±çš„ç†è§£æ¥è¿ç”¨åŸåˆ™\nå…‰æ¨¡ä»¿ä¸è¡Œï¼Œéœ€è¦çŸ¥é“åˆ«äººè¿ç”¨äº†ä»€ä¹ˆåŸåˆ™ï¼Œä¸ºä»€ä¹ˆå†™å¾—å¥½\n\næ¨¡ä»¿ä¸åŸåˆ™çš„å…³ç³»æ¨¡ä»¿æ˜¯ç»ƒä¹ ï¼Œéœ€è¦å°†åŸåˆ™è½¬åŒ–ä¸ºè‡ªå·±çš„æœ¬èƒ½è¿™æ ·æ‰èƒ½æå‡è‡ªå·±çš„å†™ä½œèƒ½åŠ›ã€‚ç»ƒä¹ æ–¹æ³•ï¼šå…¨æ–‡èƒŒè¯µï¼Œç¿»è¯‘ï¼Œå†™ä½œåé¦ˆå†å†™ä½œä¸š(åŠ ç¾¤)\nåé¦ˆ\nå†™ä½œèƒ½åŠ›çš„æé«˜çš„å‰ææ˜¯é‰´èµèƒ½åŠ›çš„æé«˜ï¼Œåªæœ‰çŸ¥é“ä»€ä¹ˆæ˜¯å¥½çš„æ–‡ç« ï¼Œæ‰èƒ½æœç€é‚£ä¸ªæ–¹å‘åŠªåŠ›\næå‡é‰´èµèƒ½åŠ›å’Œå†™ä½œèƒ½åŠ›éå¸¸å¥½çš„åŠæ³•æ˜¯æœ‰ä¸€ä¸ªå†™ä½œæ°´å¹³é«˜å‡ºä½ å¾ˆå¤šçš„äººå‘Šè¯‰ä½ ï¼Œä½ å†™çš„ä¸œè¥¿å“ªé‡Œä¸å¥½ï¼Œä¸ºä»€ä¹ˆã€‚\nåé¦ˆè§æ•ˆâ€”â€”1ä¸ªæœˆ æœ‰å…´è¶£ï¼Œæœ‰å†™ä½œæ„Ÿè§‰\n\nç¿»è¯‘\næ‰¾ä¸»å¹²ï¼ˆè° æ˜¯ ä»€ä¹ˆï¼Œè° åš ä»€ä¹ˆï¼Œ ä»€ä¹ˆ è¢« åšï¼‰\næ·»åŠ ä¿®é¥°æˆåˆ†\næ£€æŸ¥å›è¯»\n\næœ‰ï¼šhava&#x2F;has\n There be(is&#x2F;are&#x2F;was&#x2F;were)\næ›¾æœ‰ç°åœ¨æ²¡äº†ï¼šthere has been&#x2F;there have been\nå°†ä¼šæœ‰ï¼šthere will be\nä¼´éšçš„ä¸€ç§çŠ¶æ€ï¼šwith\näº†ï¼šå®Œæˆæ—¶æ ‡å¿—ï¼Œç”¨have&#x2F;has done\nçš„ï¼šofâ€”A of B Bçš„A\nå¬åŠ›\nåšé¢˜\n\n\nå¬å‰ï¼šé¢„è¯»é¢˜ç›®å‹¾é€‰å…³é”®è¯â€“é¢„æµ‹è¯»éŸ³ é¢„æµ‹æ„æ€ ä¸å¬é—®é¢˜\nå¬ä¸­ï¼šå‹¾ç”»å¬åˆ°çš„ä¸œè¥¿â€“å¯¹åº”ç¨‹åº¦é«˜çš„ä¸ºæ­£ç¡®é€‰é¡¹çš„å‡ ç‡å¤§\n\n\nç»ƒä¹ \nå¬ä¸€å¥å†™ä¸€å¥ï¼Œå†™å‡ºæ¥ä¸ºæ­¢\n\n\næ–°é—»æŠ¥é“é•¿å¯¹è¯ç¯‡ç« å†™ä½œèƒ½åŠ›çš„é‡è¦æ€§Directionsï¼š For this part, you are allowed 30 minutes to write a short essay on the importance of writing ability and how to develop it. you should write at least 120 words but no more than 180 words.\nèŒƒæ–‡ï¼š Tsinghua Universityâ€™s decision to make Writing and Communication a required course has sparked a heated debate recently.\n Many people regard writing as a must-have skill only for certain professions, on which they donâ€™t have to put much emphasis. But writing, as I see it, is a basic ability everyone canâ€™t do without. From composing a well-organized paper, to giving a sharply-focused work report, and even posting a sentiment on WeChat Moments, all aspects of life just require this ability. On top of communications, writing sharpens out logic and cognitive thinking, for it requires reflection, analysis and artful presentation of information and views. So itâ€™s no surprise that top-ranking universities like Harvard made writing a compulsory course even for science majors.\n Then how to improve writing skills? Certainly there is a shortcut to learning layout and word choice. For example, you can read and imitate excellent works, learning skills from them like expression, rhetoric and coherence. But tricks arenâ€™t enough. Since language is mind-based, one can hardly become a good writer without reading extensively and thinking deeply. Hone your thinking skills while reading, and your writing can be really improved.\nå†™ä½œå‚¨å¤‡ï¼š\nBe it a school, college, workplace or a society, writing has become a vital yardstick to assess oneâ€™s knowledge and intellectuality.\nä¸ç®¡æ˜¯åœ¨ä¸­å°å­¦ï¼Œå¤§å­¦ï¼ŒèŒåœºè¿˜æ˜¯åœ¨ç¤¾ä¼šä¸Šï¼Œå†™ä½œå·²ç»æˆä¸ºè¯„ä¼°ä¸€ä¸ªäººçŸ¥è¯†å’Œæ™ºåŠ›çš„é‡è¦æ ‡å°ºã€‚\n\nWriting improves the thinking process and contributes to the development of critical thinking skills because an individual has to clearly state ideas and lay out arguments in such a way as to cultivate higher order thinking.\nå†™ä½œèƒ½å¤Ÿæ”¹å–„æ€ç»´è¿‡ç¨‹ï¼Œå¹¶æœ‰åŠ©äºåŸ¹å…»æ‰¹åˆ¤æ€§æ€ç»´èƒ½åŠ›ï¼Œå› ä¸ºï¼ˆå†™ä½œä¸­ï¼‰ä¸ªäººéœ€è¦æ¸…æ¥šåœ°è¡¨è¿°è§‚ç‚¹å¹¶å±•å¼€è®ºè¯ï¼Œè¿™ç§æ–¹æ³•èƒ½ä½¿æˆ‘ä»¬åŸ¹å…»èµ·é«˜é˜¶æ¨ç†æ€ç»´ã€‚\n\nTaking the time to polish your writing skills is likely to pay off in the longer term, and learning how to write specific types of documents will also be useful. For example, being able to prepare a strong summary is a skill that is extremely useful for briefing senior managers.\nèŠ±æ—¶é—´å®Œå–„ä½ çš„å†™ä½œæŠ€å·§ä»é•¿è¿œæ¥çœ‹å¯èƒ½å¾ˆæœ‰ä»·å€¼ï¼Œå­¦ä¹ å†™ä½œä¸€äº›ç‰¹å®šç±»å‹çš„å…¬æ–‡ä¹Ÿå¾ˆæœ‰ç”¨ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œåœ¨ç»™ä¸»ç®¡ä½œç®€æŠ¥æ—¶ï¼Œæå®šä¸€ä»½æœ‰è¯´æœåŠ›çš„æ¦‚è¦å°±æ˜¯ä¸ªç›¸å½“æœ‰ç”¨çš„æŠ€å·§ã€‚\n\nThe ability to write the better sentence or choose the better word does not come from a book, the way grammar can come from a book. It comes with experience. With grammar, you can study the rules, memorize them, and then apply them to your writing almost immediately. The subtler aspects of writing can be learned, but they are usually learned over time through a combination of reading, studying the craft of writing, and practicing.\nå†™å‡ºæ›´å¥½çš„å¥å­æˆ–æ°å½“é€‰æ‹©å­—è¯çš„èƒ½åŠ›å¹¶ä¸åƒè¯­æ³•é‚£æ ·æ¥è‡ªä¹¦æœ¬ï¼Œè€Œæ˜¯æ¥æºäºç»éªŒã€‚å¯¹äºè¯­æ³•ï¼Œä½ å¯ä»¥å­¦ä¹ è§„åˆ™ã€è®°ä½è§„åˆ™ï¼Œå¹¶ä¸”å¯ä»¥å‡ ä¹é©¬ä¸Šå°±å°†å…¶è¿ç”¨åˆ°å†™ä½œä¸­å»ã€‚ä½†ä½ è¦å­¦åˆ°å†™ä½œä¸­ä¸€äº›æ›´å¾®å¦™çš„ä¸œè¥¿ï¼Œå¾€å¾€éœ€è¦é€šè¿‡ä¸€æ®µæ—¶é—´çš„é˜…è¯»ï¼Œå­¦æ‰“å†™ä½œè‰ç¨¿ã€ç»ƒç¬”å®è·µç›¸ç»“åˆçš„æ–¹å¼æ‰è¡Œã€‚\n\nMake your advice more practical by demonstrating your tips with lively examples.\né€šè¿‡ç”ŸåŠ¨çš„ä¾‹å­æ¥è®ºè¿°ä½ çš„å»ºè®®ï¼Œæ˜¯æŒ‡æ›´åŠ åˆ‡å®å¯è¡Œã€‚\n\n\né€‰è¯å¡«ç©º\næ ‡è¯æ€§ adj n v adv\nçœ‹ç©º åè¯å•å¤æ•°ï¼ŒåŠ¨è¯æ—¶æ€\n\nthe&#x2F;a&#x2F;adj&#x2F;oneâ€™s&#x2F;more&#x2F;+(å½¢å®¹è¯)+åè¯\nof å‰åæ˜¯åè¯\nTo&#x2F;æƒ…æ€åŠ¨è¯(would could can shouldâ€¦)+åŠ¨è¯åŸå½¢\nHas&#x2F;have&#x2F;had&#x2F;+è¿‡å»å®Œæˆæ—¶\n","slug":"é›…æ€","date":"2024-07-30T03:56:53.000Z","categories_index":"è‹±è¯­","tags_index":"","author_index":"æš—ä½¿å¼€å¼€"},{"id":"222b440dd80fa4c997be1565560f0d77","title":"C++é¢è¯•é¢˜","content":"C++é¢è¯•é¢˜ç®€è¿°ä¸‹ C++ è¯­è¨€çš„ç‰¹ç‚¹\nC++ åœ¨ C è¯­è¨€åŸºç¡€ä¸Šå¼•å…¥äº†é¢å¯¹å¯¹è±¡çš„æœºåˆ¶ï¼ŒåŒæ—¶ä¹Ÿå…¼å®¹Cè¯­è¨€ã€‚\n\nC++ æœ‰ä¸‰å¤§ç‰¹æ€§ï¼ˆ1ï¼‰å°è£…ï¼ˆ2ï¼‰ç»§æ‰¿ï¼ˆ3ï¼‰å¤šæ€ã€‚\n\nC++ è¯­è¨€ç¼–å†™å‡ºçš„ç¨‹åºç»“æ„æ¸…æ™°ã€æ˜“äºæ‰©å……ï¼Œç¨‹åºå¯è¯»æ€§å¥½ã€‚\n\nC++ ç”Ÿæˆçš„ä»£ç è´¨é‡é«˜ï¼Œè¿è¡Œæ•ˆç‡é«˜ï¼Œä»…æ¯”æ±‡ç¼–è¯­è¨€æ…¢ 10%ï½20%ï¼›\n\nC++ æ›´åŠ å®‰å…¨ï¼Œå¢åŠ äº† constå¸¸ é‡ã€å¼•ç”¨ã€å››ç±» cast è½¬æ¢ï¼ˆstatic_castã€dynamic_castã€const_castã€reinterpret_castï¼‰ã€æ™ºèƒ½æŒ‡é’ˆã€tryâ€”catch ç­‰ç­‰ï¼›\n\nC++ å¯å¤ç”¨æ€§é«˜ï¼ŒC++ å¼•å…¥äº†æ¨¡æ¿çš„æ¦‚å¿µï¼Œåé¢åœ¨æ­¤åŸºç¡€ä¸Šï¼Œå®ç°äº†æ–¹ä¾¿å¼€å‘çš„æ ‡å‡†æ¨¡æ¿åº“STLï¼ˆStandardTemplate Libraryï¼‰ã€‚\n\nåŒæ—¶ï¼ŒC++ æ˜¯ä¸æ–­åœ¨å‘å±•çš„è¯­è¨€ã€‚C++ åç»­ç‰ˆæœ¬æ›´æ˜¯å‘å±•äº†ä¸å°‘æ–°ç‰¹æ€§ï¼Œå¦‚ C++11 ä¸­å¼•å…¥äº† nullptrã€autoå˜é‡ã€Lambda åŒ¿åå‡½æ•°ã€å³å€¼å¼•ç”¨ã€æ™ºèƒ½æŒ‡é’ˆã€‚\n\n\nC è¯­è¨€å’Œ C++ çš„åŒºåˆ«\nC è¯­è¨€æ˜¯ C++ çš„å­é›†ï¼ŒC++ å¯ä»¥å¾ˆå¥½å…¼å®¹Cè¯­è¨€ã€‚ä½†æ˜¯ C++ åˆæœ‰å¾ˆå¤šæ–°ç‰¹æ€§ï¼Œå¦‚å¼•ç”¨ã€æ™ºèƒ½æŒ‡é’ˆã€auto å˜é‡ç­‰ã€‚\nC++ æ˜¯é¢å¯¹å¯¹è±¡çš„ç¼–ç¨‹è¯­è¨€ï¼›C è¯­è¨€æ˜¯é¢å¯¹è¿‡ç¨‹çš„ç¼–ç¨‹è¯­è¨€ã€‚\nC è¯­è¨€æœ‰ä¸€äº›ä¸å®‰å…¨çš„è¯­è¨€ç‰¹æ€§ï¼Œå¦‚æŒ‡é’ˆä½¿ç”¨çš„æ½œåœ¨å±é™©ã€å¼ºåˆ¶è½¬æ¢çš„ä¸ç¡®å®šæ€§ã€å†…å­˜æ³„éœ²ç­‰ã€‚è€Œ C++ å¯¹æ­¤å¢åŠ äº†ä¸å°‘æ–°ç‰¹æ€§æ¥æ”¹å–„å®‰å…¨æ€§ï¼Œå¦‚ const å¸¸é‡ã€å¼•ç”¨ã€castè½¬æ¢ã€æ™ºèƒ½æŒ‡é’ˆã€tryâ€”catch ç­‰ç­‰ï¼›\nC++ å¯å¤ç”¨æ€§é«˜ï¼ŒC++ å¼•å…¥äº†æ¨¡æ¿çš„æ¦‚å¿µï¼Œåé¢åœ¨æ­¤åŸºç¡€ä¸Šï¼Œå®ç°äº†æ–¹ä¾¿å¼€å‘çš„æ ‡å‡†æ¨¡æ¿åº“STLã€‚C++ çš„STL åº“ç›¸å¯¹äº C è¯­è¨€çš„å‡½æ•°åº“æ›´çµæ´»ã€æ›´é€šç”¨ã€‚\n\nC++ ç»“æ„ä½“å’Œ C ç»“æ„ä½“çš„åŒºåˆ«\nC çš„ç»“æ„ä½“å†…ä¸å…è®¸æœ‰å‡½æ•°å­˜åœ¨ï¼ŒC++ å…è®¸æœ‰å†…éƒ¨æˆå‘˜å‡½æ•°ï¼Œä¸”å…è®¸è¯¥å‡½æ•°æ˜¯è™šå‡½æ•°ã€‚\n\nC çš„ç»“æ„ä½“å¯¹å†…éƒ¨æˆå‘˜å˜é‡çš„è®¿é—®æƒé™åªèƒ½æ˜¯ publicï¼Œè€Œ C++ å…è®¸ public,protected,private ä¸‰ç§ã€‚\n\nCè¯­è¨€çš„ç»“æ„ä½“æ˜¯ä¸å¯ä»¥ç»§æ‰¿çš„ï¼ŒC++ çš„ç»“æ„ä½“æ˜¯å¯ä»¥ä»å…¶ä»–çš„ç»“æ„ä½“æˆ–è€…ç±»ç»§æ‰¿è¿‡æ¥çš„ã€‚\n\nC ä¸­ä½¿ç”¨ç»“æ„ä½“éœ€è¦åŠ ä¸Š struct å…³é”®å­—ï¼Œæˆ–è€…å¯¹ç»“æ„ä½“ä½¿ç”¨ typedef å–åˆ«åï¼Œè€Œ C++ ä¸­å¯ä»¥çœç•¥ struct å…³é”®å­—ç›´æ¥ä½¿ç”¨ã€‚\n\nä½¿ç”¨åŒºåˆ«\nC ä¸­ä½¿ç”¨ç»“æ„ä½“éœ€è¦åŠ ä¸Š struct å…³é”®å­—ï¼Œæˆ–è€…å¯¹ç»“æ„ä½“ä½¿ç”¨ typedef å–åˆ«åï¼Œè€Œ C++ ä¸­å¯ä»¥çœç•¥ struct å…³é”®å­—ç›´æ¥ä½¿ç”¨ï¼Œä¾‹å¦‚ï¼š\nstruct Student&#123; int iAgeNum; string strName; &#125;typedef struct Student Student2; \t\t// C ä¸­å–åˆ«åstruct Student stu1; \t\t\t\t\t// C ä¸­æ­£å¸¸ä½¿ç”¨Student2 stu2; \t\t\t\t\t\t// C ä¸­é€šè¿‡å–åˆ«åçš„ä½¿ç”¨Student stu3; \t\t\t\t\t\t// C++ ä¸­ä½¿ç”¨\n\né™æ€å±€éƒ¨å˜é‡ï¼Œå…¨å±€å˜é‡ï¼Œå±€éƒ¨å˜é‡çš„ç‰¹ç‚¹\nä»ä½œç”¨åŸŸè€ƒè™‘\nC++ é‡Œä½œç”¨åŸŸå¯åˆ†ä¸º6ç§ï¼šå…¨å±€ï¼Œå±€éƒ¨ï¼Œç±»ï¼Œè¯­å¥ï¼Œå‘½åç©ºé—´å’Œæ–‡ä»¶ä½œç”¨åŸŸã€‚å…¨å±€å˜é‡ï¼šå…¨å±€ä½œç”¨åŸŸï¼Œå¯ä»¥é€šè¿‡externä½œç”¨äºå…¶ä»–éå®šä¹‰çš„æºæ–‡ä»¶ã€‚å±€éƒ¨å˜é‡ï¼šå±€éƒ¨ä½œç”¨åŸŸï¼Œæ¯”å¦‚å‡½æ•°çš„å‚æ•°ï¼Œå‡½æ•°å†…çš„å±€éƒ¨å˜é‡ç­‰ç­‰ã€‚é™æ€å±€éƒ¨å˜é‡ ï¼šå±€éƒ¨ä½œç”¨åŸŸï¼Œåªè¢«åˆå§‹åŒ–ä¸€æ¬¡ï¼Œç›´åˆ°ç¨‹åºç»“æŸã€‚\n\n\nä»æ‰€åœ¨ç©ºé—´è€ƒè™‘\né™¤äº†å±€éƒ¨å˜é‡åœ¨æ ˆä¸Šå¤–ï¼Œå…¶ä»–éƒ½åœ¨é™æ€å­˜å‚¨åŒºã€‚å› ä¸ºé™æ€å˜é‡éƒ½åœ¨é™æ€å­˜å‚¨åŒºï¼Œæ‰€ä»¥ä¸‹æ¬¡è°ƒç”¨å‡½æ•°çš„æ—¶å€™è¿˜æ˜¯èƒ½å–åˆ°åŸæ¥çš„å€¼ã€‚\n\n\nä»ç”Ÿå‘½å‘¨æœŸè€ƒè™‘\nå±€éƒ¨å˜é‡åœ¨æ ˆä¸Šï¼Œå‡ºäº†ä½œç”¨åŸŸå°±å›æ”¶å†…å­˜ã€‚å…¨å±€å˜é‡ã€é™æ€å…¨å±€å˜é‡ã€é™æ€å±€éƒ¨å˜é‡éƒ½åœ¨é™æ€å­˜å‚¨åŒºï¼Œç›´åˆ°ç¨‹åºç»“æŸæ‰ä¼šå›æ”¶å†…å­˜ã€‚\n\n\n\ni++ å’Œ ++i çš„åŒºåˆ«ä»£ç ç¤ºä¾‹ï¼š\n#include &lt;iostream&gt;int main()&#123; int i = 2; int j = 2; j += i++; // å…ˆèµ‹å€¼ååŠ  std::cout &lt;&lt; &quot;i= &quot; &lt;&lt; i &lt;&lt; &quot;, j = &quot; &lt;&lt; j &lt;&lt; std::endl; //i= 3, j = 4 i = 2; j = 2; j += ++i; // å…ˆåŠ åèµ‹å€¼ std::cout &lt;&lt; &quot;i= &quot; &lt;&lt; i &lt;&lt; &quot;, j = &quot; &lt;&lt; j &lt;&lt; std::endl; //i= 3, j = 5&#125;\n\n\nèµ‹å€¼é¡ºåºä¸åŒï¼š++ i æ˜¯å…ˆåŠ åèµ‹å€¼ï¼›i ++ æ˜¯å…ˆèµ‹å€¼ååŠ ï¼›++iå’Œi++éƒ½æ˜¯åˆ†ä¸¤æ­¥å®Œæˆçš„ã€‚\n\næ•ˆç‡ä¸åŒï¼šåç½® ++ æ‰§è¡Œé€Ÿåº¦æ¯”å‰ç½®çš„æ…¢ã€‚\n\ni++ ä¸èƒ½ä½œä¸ºå·¦å€¼ï¼Œè€Œ++i å¯ä»¥ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š\n\n\nint i = 0;int* p1 = &amp;(++i); // æ­£ç¡®int* p2 = &amp;(i++); // é”™è¯¯++i = 1; \t  \t   // æ­£ç¡®i++ = 1; \t\t   // é”™è¯¯\n\n 4.ä¸¤è€…éƒ½ä¸æ˜¯åŸå­æ“ä½œã€‚\n\nç»“æ„ä½“å’Œç±»çš„åŒºåˆ«\nC++ä¸­çš„structå¯¹Cä¸­çš„structè¿›è¡Œäº†æ‰©å……ï¼Œå®ƒå·²ç»ä¸å†åªæ˜¯ä¸€ä¸ªåŒ…å«ä¸åŒæ•°æ®ç±»å‹çš„æ•°æ®ç»“æ„äº†ï¼Œå®ƒå·²ç»è·å–äº†å¤ªå¤šçš„åŠŸèƒ½ã€‚structèƒ½åŒ…å«æˆå‘˜å‡½æ•°å—ï¼Ÿ èƒ½ï¼structèƒ½ç»§æ‰¿å—ï¼Ÿ èƒ½ï¼ï¼structèƒ½å®ç°å¤šæ€å—ï¼Ÿ èƒ½ï¼ï¼ï¼\næ—¢ç„¶è¿™äº›å®ƒéƒ½èƒ½å®ç°ï¼Œé‚£å®ƒå’Œclassè¿˜èƒ½æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ\næœ€æœ¬è´¨çš„ä¸€ä¸ªåŒºåˆ«å°±æ˜¯é»˜è®¤çš„è®¿é—®æ§åˆ¶ï¼š\né»˜è®¤çš„ç»§æ‰¿è®¿é—®æƒé™\nstructæ˜¯publicçš„ï¼Œclassæ˜¯privateçš„ã€‚\n\nC++é¢å‘å¯¹è±¡\n\nstaticçš„ä½œç”¨\né™æ€åˆ†é…æ–¹å¼ä¸‹çš„å†…å­˜åœ¨ç¨‹åºç¼–è¯‘çš„æ—¶å€™å°±å·²ç»åˆ†é…å¥½äº†ä¸”å­˜åœ¨äºç¨‹åºçš„æ•´ä¸ªè¿è¡Œè¿‡ç¨‹ã€‚ä¾‹å¦‚ static å˜é‡ï¼Œå…¶ç”Ÿå‘½å‘¨æœŸéšç¨‹åºçš„ç»“æŸè€Œç»“æŸï¼Œè€Œéåƒä¸€èˆ¬å˜é‡éšå‡½æ•°æˆ–ä½œç”¨åŸŸçš„ç»“æŸè€Œç»“æŸã€‚\né™¤äº† static å˜é‡ï¼Œè¿˜æœ‰ä¸€ç§å…¨å±€å¯¹è±¡ static objectï¼Œä¹Ÿå¯ä»¥å­˜æ”¾åœ¨é™æ€å­˜å‚¨åŒºã€‚\nstaticæ˜¯C++ä¸­å¾ˆå¸¸ç”¨çš„ä¿®é¥°ç¬¦ï¼Œå®ƒè¢«ç”¨æ¥æ§åˆ¶å˜é‡çš„å­˜å‚¨æ–¹å¼å’Œå¯è§æ€§ã€‚ã€\néœ€è¦ä¸€ä¸ªæ•°æ®å¯¹è±¡ä¸ºæ•´ä¸ªç±»è€ŒéæŸä¸ªå¯¹è±¡æœåŠ¡,åŒæ—¶åˆåŠ›æ±‚ä¸ç ´åç±»çš„å°è£…æ€§,å³è¦æ±‚æ­¤æˆå‘˜éšè—åœ¨ç±»çš„å†…éƒ¨ï¼Œå¯¹å¤–ä¸å¯è§ã€‚\n\nå˜é‡çš„å£°æ˜å’Œå®šä¹‰æœ‰ä»€ä¹ˆåŒºåˆ«ä¸ºå˜é‡åˆ†é…åœ°å€å’Œå­˜å‚¨ç©ºé—´çš„ç§°ä¸ºå®šä¹‰ï¼Œä¸åˆ†é…åœ°å€çš„ç§°ä¸ºå£°æ˜ã€‚ä¸€ä¸ªå˜é‡å¯ä»¥åœ¨å¤šä¸ªåœ°æ–¹å£°æ˜ï¼Œä½†æ˜¯åªåœ¨ä¸€ä¸ªåœ°æ–¹å®šä¹‰ã€‚åŠ å…¥ extern ä¿®é¥°çš„æ˜¯å˜é‡çš„å£°æ˜ï¼Œè¯´æ˜æ­¤å˜é‡å°†åœ¨æ–‡ä»¶ä»¥å¤–æˆ–åœ¨æ–‡ä»¶åé¢éƒ¨åˆ†å®šä¹‰ã€‚è¯´æ˜ï¼šå¾ˆå¤šæ—¶å€™ä¸€ä¸ªå˜é‡ï¼Œåªæ˜¯å£°æ˜ä¸åˆ†é…å†…å­˜ç©ºé—´ï¼Œç›´åˆ°å…·ä½“ä½¿ç”¨æ—¶æ‰åˆå§‹åŒ–ï¼Œåˆ†é…å†…å­˜ç©ºé—´ï¼Œå¦‚å¤–éƒ¨å˜é‡ã€‚\n\nexternæ˜¯ä»€ä¹ˆ\nextern int i; //å£°æ˜ï¼Œä¸æ˜¯å®šä¹‰int i; //å£°æ˜ï¼Œä¹Ÿæ˜¯å®šä¹‰\n\n\n\n","slug":"Cé¢è¯•é¢˜","date":"2024-07-30T03:50:33.000Z","categories_index":"","tags_index":"","author_index":"æš—ä½¿å¼€å¼€"},{"id":"2d728caa47af746573cb7fba96b85d4f","title":"C++","content":"C++ä¸­mapä¸unordered_mapçš„åŒºåˆ«å¤´æ–‡ä»¶\nmap: #include &lt;map&gt;\nunordered_map: #include &lt;unordered_map&gt;\n\nå†…éƒ¨å®ç°æœºç†\nmapï¼š mapå†…éƒ¨å®ç°äº†ä¸€ä¸ªçº¢é»‘æ ‘ï¼Œè¯¥ç»“æ„å…·æœ‰è‡ªåŠ¨æ’åºçš„åŠŸèƒ½ï¼Œå› æ­¤mapå†…éƒ¨çš„æ‰€æœ‰å…ƒç´ éƒ½æ˜¯æœ‰åºçš„ï¼Œçº¢é»‘æ ‘çš„æ¯ä¸€ä¸ªèŠ‚ç‚¹éƒ½ä»£è¡¨ç€mapçš„ä¸€ä¸ªå…ƒç´ ï¼Œå› æ­¤ï¼Œå¯¹äºmapè¿›è¡Œçš„æŸ¥æ‰¾ï¼Œåˆ é™¤ï¼Œæ·»åŠ ç­‰ä¸€ç³»åˆ—çš„æ“ä½œéƒ½ç›¸å½“äºæ˜¯å¯¹çº¢é»‘æ ‘è¿›è¡Œè¿™æ ·çš„æ“ä½œï¼Œæ•…çº¢é»‘æ ‘çš„æ•ˆç‡å†³å®šäº†mapçš„æ•ˆç‡ã€‚\nunordered_map: unordered_mapå†…éƒ¨å®ç°äº†ä¸€ä¸ªå“ˆå¸Œè¡¨ï¼Œå› æ­¤å…¶å…ƒç´ çš„æ’åˆ—é¡ºåºæ˜¯æ‚ä¹±çš„ï¼Œæ— åºçš„\n\nunordered_mapå’Œmapç±»ä¼¼ï¼Œéƒ½æ˜¯å­˜å‚¨çš„key-valueçš„å€¼ï¼Œå¯ä»¥é€šè¿‡keyå¿«é€Ÿç´¢å¼•åˆ°valueã€‚ä¸åŒçš„æ˜¯unordered_mapä¸ä¼šæ ¹æ®keyçš„å¤§å°è¿›è¡Œæ’åºï¼Œå­˜å‚¨æ—¶æ˜¯æ ¹æ®keyçš„hashå€¼åˆ¤æ–­å…ƒç´ æ˜¯å¦ç›¸åŒï¼Œå³unordered_mapå†…éƒ¨å…ƒç´ æ˜¯æ— åºçš„ï¼Œè€Œmapä¸­çš„å…ƒç´ æ˜¯æŒ‰ç…§äºŒå‰æœç´¢æ ‘å­˜å‚¨ï¼Œè¿›è¡Œä¸­åºéå†ä¼šå¾—åˆ°æœ‰åºéå†ã€‚\næ‰€ä»¥ä½¿ç”¨æ—¶mapçš„keyéœ€è¦å®šä¹‰operator&lt;ã€‚è€Œunordered_mapéœ€è¦å®šä¹‰hash_valueå‡½æ•°å¹¶ä¸”é‡è½½operator==ã€‚ä½†æ˜¯å¾ˆå¤šç³»ç»Ÿå†…ç½®çš„æ•°æ®ç±»å‹éƒ½è‡ªå¸¦è¿™äº›ï¼Œé‚£ä¹ˆå¦‚æœæ˜¯è‡ªå®šä¹‰ç±»å‹ï¼Œé‚£ä¹ˆå°±éœ€è¦è‡ªå·±é‡è½½operator&lt;æˆ–è€…hash_value()äº†ã€‚\nä¼˜ç¼ºç‚¹ä»¥åŠé€‚ç”¨å¤„\n\n\n\nmap\nunordered_map\n\n\n\nä¼˜ç‚¹\næœ‰åºæ€§ï¼Œè¿™æ˜¯mapç»“æ„æœ€å¤§çš„ä¼˜ç‚¹ï¼Œå…¶å…ƒç´ çš„æœ‰åºæ€§åœ¨å¾ˆå¤šåº”ç”¨ä¸­éƒ½ä¼šç®€åŒ–å¾ˆå¤šçš„æ“ä½œçº¢é»‘æ ‘ï¼Œå†…éƒ¨å®ç°ä¸€ä¸ªçº¢é»‘ä¹¦ä½¿å¾—mapçš„å¾ˆå¤šæ“ä½œåœ¨lgnlgnçš„æ—¶é—´å¤æ‚åº¦ä¸‹å°±å¯ä»¥å®ç°ï¼Œå› æ­¤æ•ˆç‡éå¸¸çš„é«˜\nå› ä¸ºå†…éƒ¨å®ç°äº†å“ˆå¸Œè¡¨ï¼Œå› æ­¤å…¶æŸ¥æ‰¾é€Ÿåº¦éå¸¸çš„å¿«\n\n\nç¼ºç‚¹\nç©ºé—´å ç”¨ç‡é«˜ï¼Œå› ä¸ºmapå†…éƒ¨å®ç°äº†çº¢é»‘æ ‘ï¼Œè™½ç„¶æé«˜äº†è¿è¡Œæ•ˆç‡ï¼Œä½†æ˜¯å› ä¸ºæ¯ä¸€ä¸ªèŠ‚ç‚¹éƒ½éœ€è¦é¢å¤–ä¿å­˜çˆ¶èŠ‚ç‚¹ï¼Œå­©å­èŠ‚ç‚¹ä»¥åŠçº¢&#x2F;é»‘æ€§è´¨ï¼Œä½¿å¾—æ¯ä¸€ä¸ªèŠ‚ç‚¹éƒ½å ç”¨å¤§é‡çš„ç©ºé—´\nå“ˆå¸Œè¡¨çš„å»ºç«‹æ¯”è¾ƒè€—è´¹æ—¶é—´\n\n\né€‚ç”¨å¤„\nå¯¹äºé‚£äº›æœ‰é¡ºåºè¦æ±‚çš„é—®é¢˜ï¼Œç”¨mapä¼šæ›´é«˜æ•ˆä¸€äº›\nå¯¹äºæŸ¥æ‰¾é—®é¢˜ï¼Œunordered_mapä¼šæ›´åŠ é«˜æ•ˆä¸€äº›ï¼Œå› æ­¤é‡åˆ°æŸ¥æ‰¾é—®é¢˜ï¼Œå¸¸ä¼šè€ƒè™‘ä¸€ä¸‹ç”¨unordered_map\n\n\nç»“è®ºå¦‚æœéœ€è¦å†…éƒ¨å…ƒç´ è‡ªåŠ¨æ’åºï¼Œä½¿ç”¨mapï¼Œä¸éœ€è¦æ’åºä½¿ç”¨unordered_map\nnote:å¯¹äºunordered_mapæˆ–è€…unordered_setå®¹å™¨ï¼Œå…¶éå†é¡ºåºä¸åˆ›å»ºè¯¥å®¹å™¨æ—¶è¾“å…¥å…ƒç´ çš„é¡ºåºæ˜¯ä¸ä¸€å®šä¸€è‡´çš„ï¼Œéå†æ˜¯æŒ‰ç…§å“ˆå¸Œè¡¨ä»å‰å¾€åä¾æ¬¡éå†çš„\nå‚è€ƒ\nc++ä¸­mapä¸unordered_mapçš„åŒºåˆ«\nC++11 æ–°ç‰¹æ€§ï¼š unordered_map ä¸ map çš„å¯¹æ¯”\n\nC++ 11ä¹‹Lambdaè¡¨è¾¾å¼C++11çš„ä¸€å¤§äº®ç‚¹å°±æ˜¯å¼•å…¥äº†Lambdaè¡¨è¾¾å¼ã€‚åˆ©ç”¨Lambdaè¡¨è¾¾å¼ï¼Œå¯ä»¥æ–¹ä¾¿çš„å®šä¹‰å’Œåˆ›å»ºåŒ¿åå‡½æ•°,ç”¨ä»¥æ›¿æ¢ç‹¬ç«‹å‡½æ•°æˆ–è€…å‡½æ•°å¯¹è±¡ï¼Œå¹¶ä¸”ä½¿ä»£ç æ›´å¯è¯»ã€‚ä½†æ˜¯ä»æœ¬è´¨ä¸Šæ¥è®²ï¼Œlambdaè¡¨è¾¾å¼åªæ˜¯ä¸€ç§è¯­æ³•ç³–ï¼Œå› ä¸ºæ‰€æœ‰å…¶èƒ½å®Œæˆçš„å·¥ä½œéƒ½å¯ä»¥ç”¨å…¶å®ƒç¨å¾®å¤æ‚çš„ä»£ç æ¥å®ç°ã€‚ä½†æ˜¯å®ƒç®€ä¾¿çš„è¯­æ³•å´ç»™C++å¸¦æ¥äº†æ·±è¿œçš„å½±å“ã€‚å¦‚æœä»å¹¿ä¹‰ä¸Šè¯´ï¼Œlamdbaè¡¨è¾¾å¼äº§ç”Ÿçš„æ˜¯å‡½æ•°å¯¹è±¡ã€‚åœ¨ç±»ä¸­ï¼Œå¯ä»¥é‡è½½å‡½æ•°è°ƒç”¨è¿ç®—ç¬¦()ï¼Œæ­¤æ—¶ç±»çš„å¯¹è±¡å¯ä»¥å°†å…·æœ‰ç±»ä¼¼å‡½æ•°çš„è¡Œä¸ºï¼Œæˆ‘ä»¬ç§°è¿™äº›å¯¹è±¡ä¸ºå‡½æ•°å¯¹è±¡ï¼ˆFunction Objectï¼‰æˆ–è€…ä»¿å‡½æ•°ï¼ˆFunctorï¼‰ã€‚å¯¹äºC++è¿™é—¨è¯­è¨€æ¥è¯´æ¥è¯´ï¼Œâ€œLambdaè¡¨è¾¾å¼â€æˆ–â€œåŒ¿åå‡½æ•°â€è¿™äº›æ¦‚å¿µå¬èµ·æ¥å¥½åƒå¾ˆæ·±å¥¥ï¼Œä½†å¾ˆå¤šé«˜çº§è¯­è¨€åœ¨å¾ˆæ—©ä»¥å‰å°±å·²ç»æä¾›äº†Lambdaè¡¨è¾¾å¼çš„åŠŸèƒ½ï¼Œå¦‚C#ï¼ŒPythonç­‰ã€‚ä»Šå¤©ï¼Œæˆ‘ä»¬å°±æ¥ç®€å•ä»‹ç»ä¸€ä¸‹C++ä¸­Lambdaè¡¨è¾¾å¼çš„ç®€å•ä½¿ç”¨ã€‚\nå£°æ˜Lambdaè¡¨è¾¾å¼Lambdaè¡¨è¾¾å¼å®Œæ•´çš„å£°æ˜æ ¼å¼å¦‚ä¸‹ï¼š\n[capture list] (params list) mutable exception-&gt; return type &#123; function body &#125; \n\nå„é¡¹å…·ä½“å«ä¹‰å¦‚ä¸‹\n\ncapture listï¼šæ•è·å¤–éƒ¨å˜é‡åˆ—è¡¨\nparams listï¼šå½¢å‚åˆ—è¡¨\nmutableæŒ‡ç¤ºç¬¦ï¼šç”¨æ¥è¯´ç”¨æ˜¯å¦å¯ä»¥ä¿®æ”¹æ•è·çš„å˜é‡\nexceptionï¼šå¼‚å¸¸è®¾å®š\nreturn typeï¼šè¿”å›ç±»å‹\nfunction bodyï¼šå‡½æ•°ä½“\n\næ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥çœç•¥å…¶ä¸­çš„æŸäº›æˆåˆ†æ¥å£°æ˜â€œä¸å®Œæ•´â€çš„Lambdaè¡¨è¾¾å¼ï¼Œå¸¸è§çš„æœ‰ä»¥ä¸‹å‡ ç§ï¼š\n\n\n\nåºå·\næ ¼å¼\n\n\n\n1\n[capture list] (params list) -&gt; return type {function body}\n\n\n2\n[capture list] (params list) {function body}\n\n\n3\n[capture list] {function body}\n\n\nå…¶ä¸­ï¼š\n\næ ¼å¼1å£°æ˜äº†constç±»å‹çš„è¡¨è¾¾å¼ï¼Œè¿™ç§ç±»å‹çš„è¡¨è¾¾å¼ä¸èƒ½ä¿®æ”¹æ•è·åˆ—è¡¨ä¸­çš„å€¼ã€‚\næ ¼å¼2çœç•¥äº†è¿”å›å€¼ç±»å‹ï¼Œä½†ç¼–è¯‘å™¨å¯ä»¥æ ¹æ®ä»¥ä¸‹è§„åˆ™æ¨æ–­å‡ºLambdaè¡¨è¾¾å¼çš„è¿”å›ç±»å‹ï¼š ï¼ˆ1ï¼‰ï¼šå¦‚æœfunction bodyä¸­å­˜åœ¨returnè¯­å¥ï¼Œåˆ™è¯¥Lambdaè¡¨è¾¾å¼çš„è¿”å›ç±»å‹ç”±returnè¯­å¥çš„è¿”å›ç±»å‹ç¡®å®šï¼› ï¼ˆ2ï¼‰ï¼šå¦‚æœfunction bodyä¸­æ²¡æœ‰returnè¯­å¥ï¼Œåˆ™è¿”å›å€¼ä¸ºvoidç±»å‹ã€‚\næ ¼å¼3ä¸­çœç•¥äº†å‚æ•°åˆ—è¡¨ï¼Œç±»ä¼¼æ™®é€šå‡½æ•°ä¸­çš„æ— å‚å‡½æ•°ã€‚\n\nLambdaè¡¨è¾¾å¼çš„ä¸€ä¸ªå®ä¾‹\n#include &lt;iostream&gt;#include &lt;vector&gt;#include &lt;algorithm&gt;using namespace std;bool cmp(int a, int b)&#123;    return  a &lt; b;&#125;int main()&#123;    vector&lt;int&gt; myvec&#123; 3, 2, 5, 7, 3, 2 &#125;;    vector&lt;int&gt; lbvec(myvec);    sort(myvec.begin(), myvec.end(), cmp); // æ—§å¼åšæ³•    cout &lt;&lt; &quot;predicate function:&quot; &lt;&lt; endl;    for (int it : myvec)        cout &lt;&lt; it &lt;&lt; &#x27; &#x27;;    cout &lt;&lt; endl;    sort(lbvec.begin(), lbvec.end(), [](int a, int b) -&gt; bool &#123; return a &lt; b; &#125;);   // Lambdaè¡¨è¾¾å¼    cout &lt;&lt; &quot;lambda expression:&quot; &lt;&lt; endl;    for (int it : lbvec)        cout &lt;&lt; it &lt;&lt; &#x27; &#x27;;&#125;\n\nåœ¨C++11ä¹‹å‰ï¼Œæˆ‘ä»¬ä½¿ç”¨STLçš„sortå‡½æ•°ï¼Œéœ€è¦æä¾›ä¸€ä¸ªè°“è¯å‡½æ•°ã€‚å¦‚æœä½¿ç”¨C++11çš„Lambdaè¡¨è¾¾å¼ï¼Œæˆ‘ä»¬åªéœ€è¦ä¼ å…¥ä¸€ä¸ªåŒ¿åå‡½æ•°å³å¯ï¼Œæ–¹ä¾¿ç®€æ´ï¼Œè€Œä¸”ä»£ç çš„å¯è¯»æ€§ä¹Ÿæ¯”æ—§å¼çš„åšæ³•å¥½å¤šäº†ã€‚\nä¸‹é¢ï¼Œæˆ‘ä»¬å°±é‡ç‚¹ä»‹ç»ä¸€ä¸‹Lambdaè¡¨è¾¾å¼å„é¡¹çš„å…·ä½“ç”¨æ³•ã€‚\næ•è·å¤–éƒ¨å˜é‡Lambdaè¡¨è¾¾å¼å¯ä»¥ä½¿ç”¨å…¶å¯è§èŒƒå›´å†…çš„å¤–éƒ¨å˜é‡ï¼Œä½†å¿…é¡»æ˜ç¡®å£°æ˜ï¼ˆæ˜ç¡®å£°æ˜å“ªäº›å¤–éƒ¨å˜é‡å¯ä»¥è¢«è¯¥Lambdaè¡¨è¾¾å¼ä½¿ç”¨ï¼‰ã€‚é‚£ä¹ˆï¼Œåœ¨å“ªé‡ŒæŒ‡å®šè¿™äº›å¤–éƒ¨å˜é‡å‘¢ï¼ŸLambdaè¡¨è¾¾å¼é€šè¿‡åœ¨æœ€å‰é¢çš„æ–¹æ‹¬å·[]æ¥æ˜ç¡®æŒ‡æ˜å…¶å†…éƒ¨å¯ä»¥è®¿é—®çš„å¤–éƒ¨å˜é‡ï¼Œè¿™ä¸€è¿‡ç¨‹ä¹Ÿç§°è¿‡Lambdaè¡¨è¾¾å¼â€œæ•è·â€äº†å¤–éƒ¨å˜é‡ã€‚\n#include &lt;iostream&gt;using namespace std;int main()&#123;    int a = 123;    auto f = [a] &#123; cout &lt;&lt; a &lt;&lt; endl; &#125;;     f(); // è¾“å‡ºï¼š123    //æˆ–é€šè¿‡â€œå‡½æ•°ä½“â€åé¢çš„â€˜()â€™ä¼ å…¥å‚æ•°    auto x = [](int a)&#123;cout &lt;&lt; a &lt;&lt; endl;&#125;(123); &#125;  \n\nä¸Šé¢è¿™ä¸ªä¾‹å­å…ˆå£°æ˜äº†ä¸€ä¸ªæ•´å‹å˜é‡aï¼Œç„¶åå†åˆ›å»ºLambdaè¡¨è¾¾å¼ï¼Œè¯¥è¡¨è¾¾å¼â€œæ•è·â€äº†aå˜é‡ï¼Œè¿™æ ·åœ¨Lambdaè¡¨è¾¾å¼å‡½æ•°ä½“ä¸­å°±å¯ä»¥è·å¾—è¯¥å˜é‡çš„å€¼ã€‚\nç±»ä¼¼å‚æ•°ä¼ é€’æ–¹å¼ï¼ˆå€¼ä¼ é€’ã€å¼•å…¥ä¼ é€’ã€æŒ‡é’ˆä¼ é€’ï¼‰ï¼Œåœ¨Lambdaè¡¨è¾¾å¼ä¸­ï¼Œå¤–éƒ¨å˜é‡çš„æ•è·æ–¹å¼ä¹Ÿæœ‰å€¼æ•è·ã€å¼•ç”¨æ•è·ã€éšå¼æ•è·ã€‚\n1ã€å€¼æ•è·å€¼æ•è·å’Œå‚æ•°ä¼ é€’ä¸­çš„å€¼ä¼ é€’ç±»ä¼¼ï¼Œè¢«æ•è·çš„å˜é‡çš„å€¼åœ¨Lambdaè¡¨è¾¾å¼åˆ›å»ºæ—¶é€šè¿‡å€¼æ‹·è´çš„æ–¹å¼ä¼ å…¥ï¼Œå› æ­¤éšåå¯¹è¯¥å˜é‡çš„ä¿®æ”¹ä¸ä¼šå½±å“å½±å“Lambdaè¡¨è¾¾å¼ä¸­çš„å€¼ã€‚\nç¤ºä¾‹å¦‚ä¸‹ï¼š\nint main()&#123;    int a = 123;    auto f = [a] &#123; cout &lt;&lt; a &lt;&lt; endl; &#125;;     a = 321;    f(); // è¾“å‡ºï¼š123&#125;  1 2 3 4 5 6 7 int main() &#123;    int a = 123;    auto f = [a] &#123; cout &lt;&lt; a &lt;&lt; endl; &#125;;     a = 321;    f(); // è¾“å‡ºï¼š123 &#125;   \n\n*è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœä»¥ä¼ å€¼æ–¹å¼æ•è·å¤–éƒ¨å˜é‡ï¼Œåˆ™åœ¨Lambdaè¡¨è¾¾å¼å‡½æ•°ä½“ä¸­ä¸èƒ½ä¿®æ”¹è¯¥å¤–éƒ¨å˜é‡çš„å€¼ã€‚*\n2ã€å¼•ç”¨æ•è·ä½¿ç”¨å¼•ç”¨æ•è·ä¸€ä¸ªå¤–éƒ¨å˜é‡ï¼Œåªéœ€è¦åœ¨æ•è·åˆ—è¡¨å˜é‡å‰é¢åŠ ä¸Šä¸€ä¸ªå¼•ç”¨è¯´æ˜ç¬¦ &amp;ã€‚å¦‚ä¸‹ï¼š\nint main()&#123;    int a = 123;    auto f = [&amp;a] &#123; cout &lt;&lt; a &lt;&lt; endl; &#125;;     a = 321;    f(); // è¾“å‡ºï¼š321&#125;   \n\nä»ç¤ºä¾‹ä¸­å¯ä»¥çœ‹å‡ºï¼Œå¼•ç”¨æ•è·çš„å˜é‡ä½¿ç”¨çš„å®é™…ä¸Šå°±æ˜¯è¯¥å¼•ç”¨æ‰€ç»‘å®šçš„å¯¹è±¡ã€‚\n3ã€éšå¼æ•è·ä¸Šé¢çš„å€¼æ•è·å’Œå¼•ç”¨æ•è·éƒ½éœ€è¦æˆ‘ä»¬åœ¨æ•è·åˆ—è¡¨ä¸­æ˜¾ç¤ºåˆ—å‡ºLambdaè¡¨è¾¾å¼ä¸­ä½¿ç”¨çš„å¤–éƒ¨å˜é‡ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥è®©ç¼–è¯‘å™¨æ ¹æ®å‡½æ•°ä½“ä¸­çš„ä»£ç æ¥æ¨æ–­éœ€è¦æ•è·å“ªäº›å˜é‡ï¼Œè¿™ç§æ–¹å¼ç§°ä¹‹ä¸ºéšå¼æ•è·ã€‚éšå¼æ•è·æœ‰ä¸¤ç§æ–¹å¼ï¼Œåˆ†åˆ«æ˜¯[=]å’Œ[&amp;]ã€‚[=]è¡¨ç¤ºä»¥å€¼æ•è·çš„æ–¹å¼æ•è·å¤–éƒ¨å˜é‡ï¼Œ[&amp;]è¡¨ç¤ºä»¥å¼•ç”¨æ•è·çš„æ–¹å¼æ•è·å¤–éƒ¨å˜é‡ã€‚\néšå¼å€¼æ•è·ç¤ºä¾‹ï¼š\nint main()&#123;    int a = 123;    auto f = [=] &#123; cout &lt;&lt; a &lt;&lt; endl; &#125;;    // å€¼æ•è·    f(); // è¾“å‡ºï¼š123&#125;  \n\néšå¼å¼•ç”¨æ•è·ç¤ºä¾‹ï¼š\nint main()&#123;    int a = 123;    auto f = [&amp;] &#123; cout &lt;&lt; a &lt;&lt; endl; &#125;;    // å¼•ç”¨æ•è·    a = 321;    f(); // è¾“å‡ºï¼š321&#125;  \n\n4ã€æ··åˆæ–¹å¼ä¸Šé¢çš„ä¾‹å­ï¼Œè¦ä¹ˆæ˜¯å€¼æ•è·ï¼Œè¦ä¹ˆæ˜¯å¼•ç”¨æ•è·ï¼ŒLambdaè¡¨è¾¾å¼è¿˜æ”¯æŒæ··åˆçš„æ–¹å¼æ•è·å¤–éƒ¨å˜é‡ï¼Œè¿™ç§æ–¹å¼ä¸»è¦æ˜¯ä»¥ä¸Šå‡ ç§æ•è·æ–¹å¼çš„ç»„åˆä½¿ç”¨ã€‚\nåˆ°è¿™é‡Œï¼Œæˆ‘ä»¬æ¥æ€»ç»“ä¸€ä¸‹ï¼šC++11ä¸­çš„Lambdaè¡¨è¾¾å¼æ•è·å¤–éƒ¨å˜é‡ä¸»è¦æœ‰ä»¥ä¸‹å½¢å¼ï¼š\n\n\n\næ•è·å½¢å¼\nè¯´æ˜\n\n\n\n[]\nä¸æ•è·ä»»ä½•å¤–éƒ¨å˜é‡\n\n\n[å˜é‡å, â€¦]\né»˜è®¤ä»¥å€¼å¾—å½¢å¼æ•è·æŒ‡å®šçš„å¤šä¸ªå¤–éƒ¨å˜é‡ï¼ˆç”¨é€—å·åˆ†éš”ï¼‰ï¼Œå¦‚æœå¼•ç”¨æ•è·ï¼Œéœ€è¦æ˜¾ç¤ºå£°æ˜ï¼ˆä½¿ç”¨&amp; è¯´æ˜ç¬¦ï¼‰\n\n\n[this]\nä»¥å€¼çš„å½¢å¼æ•è·thisæŒ‡é’ˆ\n\n\n[&#x3D;]\nä»¥å€¼çš„å½¢å¼æ•è·æ‰€æœ‰å¤–éƒ¨å˜é‡\n\n\n[&amp;]\nä»¥å¼•ç”¨å½¢å¼æ•è·æ‰€æœ‰å¤–éƒ¨å˜é‡\n\n\n[&#x3D;, &amp;x]\nå˜é‡xä»¥å¼•ç”¨å½¢å¼æ•è·ï¼Œå…¶ä½™å˜é‡ä»¥ä¼ å€¼å½¢å¼æ•è·\n\n\n[&amp;, x]\nå˜é‡xä»¥å€¼çš„å½¢å¼æ•è·ï¼Œå…¶ä½™å˜é‡ä»¥å¼•ç”¨å½¢å¼æ•è·\n\n\nä¿®æ”¹æ•è·å˜é‡å‰é¢æˆ‘ä»¬æåˆ°è¿‡ï¼Œåœ¨Lambdaè¡¨è¾¾å¼ä¸­ï¼Œå¦‚æœä»¥ä¼ å€¼æ–¹å¼æ•è·å¤–éƒ¨å˜é‡ï¼Œåˆ™å‡½æ•°ä½“ä¸­ä¸èƒ½ä¿®æ”¹è¯¥å¤–éƒ¨å˜é‡ï¼Œå¦åˆ™ä¼šå¼•å‘ç¼–è¯‘é”™è¯¯ã€‚é‚£ä¹ˆæœ‰æ²¡æœ‰åŠæ³•å¯ä»¥ä¿®æ”¹å€¼æ•è·çš„å¤–éƒ¨å˜é‡å‘¢ï¼Ÿè¿™æ˜¯å°±éœ€è¦ä½¿ç”¨mutableå…³é”®å­—ï¼Œè¯¥å…³é”®å­—ç”¨ä»¥è¯´æ˜è¡¨è¾¾å¼ä½“å†…çš„ä»£ç å¯ä»¥ä¿®æ”¹å€¼æ•è·çš„å˜é‡ï¼Œç¤ºä¾‹ï¼š\nint main()&#123;    int a = 123;    auto f = [a]()mutable &#123; cout &lt;&lt; ++a; &#125;; // ä¸ä¼šæŠ¥é”™    cout &lt;&lt; a &lt;&lt; endl; // è¾“å‡ºï¼š123    f(); // è¾“å‡ºï¼š124&#125;   \n\nLambdaè¡¨è¾¾å¼çš„å‚æ•°Lambdaè¡¨è¾¾å¼çš„å‚æ•°å’Œæ™®é€šå‡½æ•°çš„å‚æ•°ç±»ä¼¼ï¼Œé‚£ä¹ˆè¿™é‡Œä¸ºä»€ä¹ˆè¿˜è¦æ‹¿å‡ºæ¥è¯´ä¸€ä¸‹å‘¢ï¼ŸåŸå› æ˜¯åœ¨Lambdaè¡¨è¾¾å¼ä¸­ä¼ é€’å‚æ•°è¿˜æœ‰ä¸€äº›é™åˆ¶ï¼Œä¸»è¦æœ‰ä»¥ä¸‹å‡ ç‚¹ï¼š\n\n\nå‚æ•°åˆ—è¡¨ä¸­ä¸èƒ½æœ‰é»˜è®¤å‚æ•°\n\n\n\nä¸æ”¯æŒå¯å˜å‚æ•°\n\n\n\næ‰€æœ‰å‚æ•°å¿…é¡»æœ‰å‚æ•°å\n\n\n\nå¸¸ç”¨ä¸¾ä¾‹ï¼š\n&#123;ã€€ã€€ã€€ã€€ int m = [](int x) &#123; return [](int y) &#123; return y * 2; &#125;(x)+6; &#125;(5);        std::cout &lt;&lt; &quot;m:&quot; &lt;&lt; m &lt;&lt; std::endl;            ã€€ã€€//è¾“å‡ºm:16        std::cout &lt;&lt; &quot;n:&quot; &lt;&lt; [](int x, int y) &#123; return x + y; &#125;(5, 4) &lt;&lt; std::endl;            //è¾“å‡ºn:9                auto gFunc = [](int x) -&gt; function&lt;int(int)&gt; &#123; return [=](int y) &#123; return x + y; &#125;; &#125;;        auto lFunc = gFunc(4);        std::cout &lt;&lt; lFunc(5) &lt;&lt; std::endl;        auto hFunc = [](const function&lt;int(int)&gt;&amp; f, int z) &#123; return f(z) + 1; &#125;;        auto a = hFunc(gFunc(7), 8);        int a = 111, b = 222;        auto func = [=, &amp;b]()mutable &#123; a = 22; b = 333; std::cout &lt;&lt; &quot;a:&quot; &lt;&lt; a &lt;&lt; &quot; b:&quot; &lt;&lt; b &lt;&lt; std::endl; &#125;;        func();        std::cout &lt;&lt; &quot;a:&quot; &lt;&lt; a &lt;&lt; &quot; b:&quot; &lt;&lt; b &lt;&lt; std::endl;        a = 333;        auto func2 = [=, &amp;a] &#123; a = 444; std::cout &lt;&lt; &quot;a:&quot; &lt;&lt; a &lt;&lt; &quot; b:&quot; &lt;&lt; b &lt;&lt; std::endl; &#125;;        func2();        auto func3 = [](int x) -&gt;function&lt;int(int)&gt; &#123; return [=](int y) &#123; return x + y; &#125;; &#125;;    ã€€ã€€ã€€ã€€ã€€ã€€ std::function&lt;void(int x)&gt; f_display_42 = [](int x) &#123; print_num(x); &#125;;\tf_display_42(44);ã€€ã€€&#125;  \n\nè¯¦ç»†çš„ä½¿ç”¨æ–¹å¼å¯ä»¥å‚è€ƒcppreference.comçš„Lambda è¡¨è¾¾å¼ (C++11 èµ·)çš„æ–‡æ¡£è¯´æ˜ã€‚\nå‚è€ƒ\nC++ 11 Lambdaè¡¨è¾¾å¼\nLambda è¡¨è¾¾å¼ (C++11 èµ·)\n\nC++ é˜»æ­¢ç±»è¢«ç»§æ‰¿ï¼ˆç»§æ‰¿ç±»è¢«å®ä¾‹åŒ–ï¼‰çš„å‡ ç§å¸¸ç”¨åŠæ³•ä¸æ—¶ä¼šç•™æ„åˆ°æœ‰äººé—®èµ·å¦‚ä½•é˜»æ­¢ C++ ä¸­çš„ç±»è¢«ç»§æ‰¿ï¼Œä½†å¤šæ•°äººéƒ½æ²¡æœ‰æŠŠè¿™ä¸ªé—®é¢˜é—®å¯¹ã€‚\nåœ¨ C++11 æ ‡å‡†ä¹‹å‰ï¼Œé˜»æ­¢ç±»è¢«ç»§æ‰¿åœ¨è¯­æ³•ä¸Šæ˜¯åšä¸åˆ°çš„ï¼Œå¤§å®¶é€šå¸¸åšåˆ°çš„åªæ˜¯ç»§æ‰¿è€Œæ¥çš„ç±»ä¸èƒ½è¢«å®ä¾‹åŒ–äº†ã€‚è¿™æ ·ä¸€æ¥ï¼Œç»§æ‰¿å¾—åˆ°çš„ç±»å°±å®Œå…¨æ²¡æœ‰ç”¨äº†ã€‚è™½ç„¶æœ€ç»ˆçš„æ•ˆæœä¸€è‡´ï¼Œä½†å¯¹é—®é¢˜çš„ç†è§£å…¶å®æ˜¯æœ‰å·®å¼‚çš„ã€‚\nä» C++11 æ ‡å‡†å¼€å§‹ï¼ŒC++ å¼•å…¥äº†ä¸€ä¸ªæ–°çš„å…³é”®å­— finalï¼Œåªæœ‰è¢« final ä¿®é¥°çš„ç±»æ‰èƒ½çœŸæ­£åšåˆ°ä¸èƒ½è¢«ç»§æ‰¿ã€‚\nä¸‹é¢ä¸¾ä¾‹å®ç°å¸¸ç”¨çš„ä»¥è¾¾åˆ°â€œä¸èƒ½è¢«ç»§æ‰¿&#x2F;ç»§æ‰¿ç±»ä¸èƒ½è¢«å®ä¾‹åŒ–â€çš„å‡ ç§æ‰‹æ®µã€‚\nç§æœ‰åŒ–æ„é€ å‡½æ•°class Demo1&#123;public:    static Demo1* Create()    &#123;        return new Demo1;    &#125;private:    // æ³¨æ„ï¼šç§æœ‰æ‰æ„é€ å‡½æ•°    Demo1() &#123;&#125;    Demo1(const Demo1&amp;);    void operator=(const Demo1&amp;);&#125;;class Test1 : public Demo1&#123;&#125;;int main()&#123;//  Demo1*      pd1 = new Demo1;        // é”™è¯¯ï¼šä¸èƒ½è°ƒç”¨ç§æœ‰æ„é€     Demo1*      pd1 = Demo1::Create();//  Test1*      pt1 = new Test1;        // é”™è¯¯ï¼šä¸èƒ½è°ƒç”¨åŸºç±»ç§æœ‰æ„é€ &#125;\n\nä½¿ç”¨ è™šç»§æ‰¿ + ç§æœ‰åŸºç±»æ„é€ å‡½æ•°template&lt;typename T&gt;class SealedT&#123;    // æ³¨æ„ï¼šä¸æ˜¯ friend class T;    friend T;private:    SealedT() &#123;&#125;&#125;;// æ³¨æ„ï¼šæ˜¯è™šç»§æ‰¿class Demo2 : virtual SealedT&lt;Demo2&gt;&#123;&#125;;int main()&#123;    Demo2*      pd2 = new Demo2;//  Test2*      pt2 = new Test2;        // é”™è¯¯ï¼šä¸èƒ½è®¿é—®é—´æ¥è™šåŸºç±»&#125;  \n\nä½¿ç”¨ è™šç»§æ‰¿ + å—ä¿æŠ¤çš„åŸºç±»æ„é€ å‡½æ•°è¿™ä¸ªå…¶å®ä¸å‰é¢ä¸€ç§å½¢å¼æ˜¯ç±»ä¼¼çš„ã€‚\nclass Sealed&#123;protected:    Sealed() &#123;&#125;&#125;;class Demo3 : virtual Sealed&#123;&#125;;class Test3 : public Demo3&#123;&#125;;int main()&#123;    Demo3*      pb3 = new Demo3;//  Test3*      pt3 = new Test3;        // é”™è¯¯ï¼šä¸èƒ½è®¿é—®é—´æ¥è™šåŸºç±»&#125;   \n\nä½¿ç”¨ final å…³é”®å­—è¿™ä¸ªæ˜¯æœ€ç®€å•ã€æœ€ç›´æ¥ã€æœ€å®Œç¾çš„ã€‚C++ æ ‡å‡†ä¸ºå•¥å¦‚æ­¤æ™šæ‰æ¨å‡ºæ­¤åŠŸèƒ½ã€‚\nclass Demo4 final&#123;&#125;;// ä¸èƒ½ä»è¢« final ä¿®é¥°çš„ç±»ç»§æ‰¿ï¼Œç¼–è¯‘å¤±è´¥/*class Test4 : public Demo4&#123;&#125;;*/  \n\nå‚è€ƒ\nPrevent class inheritance in C++\nVirtual inheritance\n\nVectoråˆå§‹åŒ–(1): vector ilist1;\né»˜è®¤åˆå§‹åŒ–ï¼Œvectorä¸ºç©ºï¼Œ sizeä¸º0ï¼Œè¡¨æ˜å®¹å™¨ä¸­æ²¡æœ‰å…ƒç´ ï¼Œè€Œä¸” capacity ä¹Ÿè¿”å› 0ï¼Œæ„å‘³ç€è¿˜æ²¡æœ‰åˆ†é…å†…å­˜ç©ºé—´ã€‚è¿™ç§åˆå§‹åŒ–æ–¹å¼é€‚ç”¨äºå…ƒç´ ä¸ªæ•°æœªçŸ¥ï¼Œéœ€è¦åœ¨ç¨‹åºä¸­åŠ¨æ€æ·»åŠ çš„æƒ…å†µã€‚\n(2): vector ilist2(ilist);\nvector ilist2  &#x3D; ilist; \nä¸¤ç§æ–¹å¼ç­‰ä»· ï¼Œilist2 åˆå§‹åŒ–ä¸ºilist çš„æ‹·è´ï¼Œilistå¿…é¡»ä¸ilist2 ç±»å‹ç›¸åŒï¼Œä¹Ÿå°±æ˜¯åŒä¸ºintçš„vectorç±»å‹ï¼Œilist2å°†å…·æœ‰å’Œilistç›¸åŒçš„å®¹é‡å’Œå…ƒç´ \n(3): vector ilist &#x3D; {1,2,3.0,4,5,6,7};\n vector ilist {1,2,3.0,4,5,6,7};\nilist åˆå§‹åŒ–ä¸ºåˆ—è¡¨ä¸­å…ƒç´ çš„æ‹·è´ï¼Œåˆ—è¡¨ä¸­å…ƒç´ å¿…é¡»ä¸ilistçš„å…ƒç´ ç±»å‹ç›¸å®¹ï¼Œæœ¬ä¾‹ä¸­å¿…é¡»æ˜¯ä¸æ•´æ•°ç±»å‹ç›¸å®¹çš„ç±»å‹ï¼Œæ•´å½¢ä¼šç›´æ¥æ‹·è´ï¼Œå…¶ä»–ç±»å‹ä¼šè¿›è¡Œç±»å‹è½¬æ¢ã€‚\n(4): vector ilist3(ilist.begin()+2,ilist.end()-1);\nilist3åˆå§‹åŒ–ä¸ºä¸¤ä¸ªè¿­ä»£å™¨æŒ‡å®šèŒƒå›´ä¸­å…ƒç´ çš„æ‹·è´ï¼ŒèŒƒå›´ä¸­çš„å…ƒç´ ç±»å‹å¿…é¡»ä¸ilist3 çš„å…ƒç´ ç±»å‹ç›¸å®¹ï¼Œåœ¨æœ¬ä¾‹ä¸­ilist3è¢«åˆå§‹åŒ–ä¸º{3,4,5,6}ã€‚æ³¨æ„ï¼šç”±äºåªè¦æ±‚èŒƒå›´ä¸­çš„å…ƒç´ ç±»å‹ä¸å¾…åˆå§‹åŒ–çš„å®¹å™¨çš„å…ƒç´ ç±»å‹ç›¸å®¹ï¼Œå› æ­¤è¿­ä»£å™¨æ¥è‡ªä¸åŒçš„å®¹å™¨æ˜¯å¯èƒ½çš„ï¼Œä¾‹å¦‚ï¼Œç”¨ä¸€ä¸ªdoubleçš„listçš„èŒƒå›´æ¥åˆå§‹åŒ–ilist3æ˜¯å¯è¡Œçš„ã€‚å¦å¤–ç”±äºæ„é€ å‡½æ•°åªæ˜¯è¯»å–èŒƒå›´ä¸­çš„å…ƒç´ è¿›è¡Œæ‹·è´ï¼Œå› æ­¤ä½¿ç”¨æ™®é€šè¿­ä»£å™¨è¿˜æ˜¯constè¿­ä»£å™¨æ¥æŒ‡å‡ºèŒƒå›´å¹¶æ²¡æœ‰åŒºåˆ«ã€‚è¿™ç§åˆå§‹åŒ–æ–¹æ³•ç‰¹åˆ«é€‚åˆäºè·å–ä¸€ä¸ªåºåˆ—çš„å­åºåˆ—ã€‚\n(5): vector ilist4(7);\né»˜è®¤å€¼åˆå§‹åŒ–ï¼Œilist4ä¸­å°†åŒ…å«7ä¸ªå…ƒç´ ï¼Œæ¯ä¸ªå…ƒç´ è¿›è¡Œç¼ºçœçš„å€¼åˆå§‹åŒ–ï¼Œå¯¹äºintï¼Œä¹Ÿå°±æ˜¯è¢«èµ‹å€¼ä¸º0ï¼Œå› æ­¤ilist4è¢«åˆå§‹åŒ–ä¸ºåŒ…å«7ä¸ª0ã€‚å½“ç¨‹åºè¿è¡ŒåˆæœŸå…ƒç´ å¤§è‡´æ•°é‡å¯é¢„çŸ¥ï¼Œè€Œå…ƒç´ çš„å€¼éœ€è¦åŠ¨æ€è·å–çš„æ—¶å€™ï¼Œå¯é‡‡ç”¨è¿™ç§åˆå§‹åŒ–æ–¹å¼ã€‚\n(6):vector ilist5(7,3);\næŒ‡å®šå€¼åˆå§‹åŒ–ï¼Œilist5è¢«åˆå§‹åŒ–ä¸ºåŒ…å«7ä¸ªå€¼ä¸º3çš„int\næ’åº\nsort(vec.rbegin(), vec.rend());\n&#x2F;&#x2F;é€†å‘æ’åº å³æŒ‰ç…§ä»å¤§åˆ°å°çš„é¡ºåºè¿›è¡Œæ’åº   \n\nsort(vec.begin(), vec.end());\n&#x2F;&#x2F;æ­£å‘æ’åº å³æŒ‰ç…§ä»å°åˆ°å¤§çš„é¡ºåºæ’åº\n\n\nåˆå¹¶â€‹\tvector vec3;&#x2F;&#x2F;vec3æ˜¯ç©ºçš„â€‹    vec3.insert(vec3.end(),vec1.begin(),vec1.end())&#x2F;&#x2F;å°†vec1å‹å…¥â€‹    vec3.insert(vec3.end(),vec2.begin(),vec2.end())&#x2F;&#x2F;ç»§ç»­å°†vec2å‹å…¥\n","slug":"C-11","date":"2024-07-29T16:00:00.000Z","categories_index":"ç¼–ç¨‹è¯­è¨€","tags_index":"C++","author_index":"æš—ä½¿å¼€å¼€"},{"id":"862ecabae65544f00e4a4f42f663a791","title":"Hexo","content":"Hexo åŸºæœ¬æ“ä½œ\nhexo cl\nhexo new post markdown_name\nhexo g\nhexo d\nhexo s\n\nä¸Šä¼ æ—¥å¿—åˆ°äº‘æœåŠ¡å™¨ or GitHub\nhexo clean\nhexo g -d\n\nå®‰è£…é…ç½®Hexoç¯å¢ƒé…ç½®nvmå®‰è£…\nhttps://github.com/coreybutler/nvm-windows/releases\nä¸‹è½½åå®‰è£… å®‰è£…å®Œæ¯•åï¼Œæ‰¾åˆ°å®‰è£…çš„è·¯å¾„ï¼Œä¸€äº›ç®€å•é…ç½®ï¼Œæ‰“å¼€setting.txtå¢åŠ é•œåƒæºæé«˜ä¸‹è½½é€Ÿåº¦\n\nnone\nnode_mirror: https://npm.taobao.org/mirrors/node/npm_mirror: https://npm.taobao.org/mirrors/npm/\n\n\nnvm version æ£€éªŒæ˜¯å¦å®‰è£…æˆåŠŸ\n\nNodeå®‰è£…\nnvm install 14\nnvm list\nnvm use 14 (è¿›å…¥å®‰è£…ç›®å½•ï¼Œç”¨ç®¡ç†å‘˜è¿è¡Œcmd)\nnode -v\n\nå®‰è£…hexonpm install hexo-cli -g\nåˆ›å»ºHexocd ç›®å½•\nhexo init blog(æ–‡ä»¶å)\ncd blog\nhexo s\nhexo n â€œmarkdown_nameâ€ &#x3D;&#x3D; hexo new post markdown_name\nè§£å†³è¿è¡ŒHexoæŠ¥é”™hexo : æ— æ³•åŠ è½½æ–‡ä»¶hexo.ps1ï¼Œå› ä¸ºåœ¨æ­¤ç³»ç»Ÿä¸Šç¦æ­¢è¿è¡Œè„šæœ¬è®¾ç½®-&gt;éšç§å’Œå®‰å…¨æ€§-&gt;å¼€å‘è€…é€‰é¡¹-&gt;å…è®¸æœ¬åœ°PowerShellè„šæœ¬åœ¨ä¸ºç­¾åçš„æƒ…å†µä¸‹è¿è¡Œ\nHexoå»é™¤ä»£ç å—è¡Œå·åœ¨é…ç½®æ–‡ä»¶-config.ymlä¸­ï¼Œæ‰¾åˆ°highlightï¼Œå¹¶å°†line_numberï¼štrueæ”¹ä¸ºfalseã€‚\n","slug":"Hexo åŸºæœ¬æ“ä½œ","date":"2022-08-29T15:02:22.000Z","categories_index":"","tags_index":"","author_index":"æš—ä½¿å¼€å¼€"},{"id":"fe4ea5ff50282301f0085214fc01e7b3","title":"æ€»çº¿æ§åˆ¶","content":"æ€»çº¿æ§åˆ¶ä¸€ã€æ€»çº¿åˆ¤ä¼˜æ§åˆ¶1. åŸºæœ¬æ¦‚å¿µ\nä¸»è®¾å¤‡(æ¨¡å—) å¯ä»¥æå‡ºæ€»çº¿å ç”¨è¯·æ±‚ï¼Œæ§åˆ¶å’Œå…¶ä»–è®¾å¤‡ä¹‹é—´çš„é€šä¿¡è¿‡ç¨‹ å¯¹æ€»çº¿æœ‰ æ§åˆ¶æƒï¼ˆæœ‰äº›æ€»çº¿å¯ä»¥ç”±å¤šä¸ªä¸»è®¾å¤‡ï¼‰\nä»è®¾å¤‡(æ¨¡å—) å“åº” ä»ä¸»è®¾å¤‡å‘æ¥çš„æ€»çº¿å‘½ä»¤\næ€»çº¿åˆ¤ä¼˜æ§åˆ¶ï¼šé›†ä¸­å¼(æ€»çº¿æ§åˆ¶éƒ¨ä»¶é›†ä¸­åœ¨ä¸€èµ·)ï¼Œåˆ†å¸ƒå¼\né›†ä¸­å¼ï¼šé“¾å¼æŸ¥è¯¢ï¼Œè®¡æ•°å™¨å®šæ—¶æŸ¥è¯¢ï¼Œç‹¬ç«‹è¯·æ±‚æ–¹å¼\nåˆ†å¸ƒå¼\n\n\n\n2. é“¾å¼æŸ¥è¯¢æ–¹å¼\næ•°æ®æ€»çº¿ï¼šç”¨äºä¿¡æ¯äº¤æ¢è¿‡ç¨‹ä¸­æ•°æ®ä¼ è¾“\nåœ°å€æ€»çº¿ï¼šä¸»è®¾å¤‡å ç”¨æ€»çº¿ä¹‹åï¼Œå’Œä»è®¾å¤‡è¿›è¡Œæ•°æ®ä¼ è¾“é€šè¿‡åœ°å€æ€»çº¿æ‰¾åˆ°ä»è®¾å¤‡\nBRï¼šæ‰€æœ‰è®¾å¤‡éƒ½é€šè¿‡BRå‘èµ·æ€»çº¿å ç”¨è¯·æ±‚\nBSï¼šå¦‚æœæœ‰è®¾å¤‡å ç”¨æ€»çº¿ï¼Œå°±é€šè¿‡BSå‘Šè¯‰å…¶ä»–è®¾å¤‡æ€»çº¿å¿™\nBGï¼šæ€»çº¿æˆæƒçº¿ï¼Œä¸€ä¸ªä¸€ä¸ªå‘ä¸‹æŸ¥è¯¢ï¼ˆé“¾å¼æŸ¥è¯¢ï¼‰\n\nI&#x2F;Oæ¥å£ï¼ˆå¤–è®¾ï¼‰æœ‰å ç”¨è¯·æ±‚æ—¶ï¼Œé€šè¿‡BRç»™æ€»çº¿æ§åˆ¶éƒ¨ä»¶å‘é€å ç”¨è¯·æ±‚\næ€»çº¿æ§åˆ¶éƒ¨ä»¶æ¥å—åˆ°è¯·æ±‚ä»¥åä¸”å¯ä»¥è®©å‡ºæ€»çº¿çš„æ§åˆ¶æƒï¼ˆBSæ€»çº¿ä¸å¿™ï¼‰æ—¶ï¼Œé€šè¿‡BGæ€»çº¿æˆæƒä¿¡å·é€ä¸ªè¿›è¡ŒæŸ¥è¯¢æ˜¯å“ªä¸ªI&#x2F;Oæ¥å£ï¼ˆè®¾å¤‡ï¼‰å‘å‡ºçš„è¯·æ±‚\næ€»çº¿æˆæƒä¿¡å·ç¢°åˆ°ç¬¬ä¸€ä¸ªæå‡ºæ€»çº¿å ç”¨è¯·æ±‚çš„æ¥å£ï¼Œåˆ™å®ƒå°±è·å¾—äº†æ€»çº¿çš„ä½¿ç”¨æƒï¼Œå¹¶ä¸”é€šè¿‡BSè®¾ç½®æ€»çº¿å¿™\n\né“¾å¼æŸ¥è¯¢\nç¼ºç‚¹ï¼šä¼˜å…ˆçº§äº‹å…ˆå·²ç»ç¡®å®šçš„ï¼Œä¼˜å…ˆçº§å¤ªä½çš„å¯èƒ½ä¸€ç›´å¾—ä¸åˆ°æ€»çº¿æˆæƒã€‚å¯¹ç”µè·¯æ•…éšœç‰¹åˆ«æ•æ„Ÿï¼Œå¦‚æœBGä¸Šçš„æŸæ¥å£å‡ºç°ç”µè·¯æ•…éšœï¼Œä¿¡å·ä¸ä¼šå¾€ä¸‹ä¼ ï¼Œåé¢çš„è®¾å¤‡æ°¸è¿œæ— æ³•è·å¾—ä½¿ç”¨æƒï¼Œé€Ÿåº¦æ…¢\nä¼˜ç‚¹ï¼šç»“æ„ç®€å•ï¼Œä¼˜å…ˆçº§ç®—æ³•ç®€å•ï¼Œå¢åˆ è®¾å¤‡ç®€å•ï¼Œè¿›è¡Œå¯é æ€§è®¾è®¡æ—¶å®¹æ˜“å®ç°\nä¸€èˆ¬è¿ç”¨åœ¨å¾®å‹è®¡ç®—æœºï¼Œç®€å•çš„åµŒå…¥å¼ç³»ç»Ÿä¸­\n3. è®¡æ•°å™¨å®šæ—¶æŸ¥è¯¢æ–¹å¼\nBGçº¿å˜æˆäº†è®¾å¤‡åœ°å€çº¿ï¼ˆå®½åº¦å’Œè®¾å¤‡åœ°å€æœ‰å…³ï¼‰\n\nI&#x2F;Oæ¥å£ï¼ˆå¤–è®¾ï¼‰æœ‰å ç”¨è¯·æ±‚æ—¶ï¼Œé€šè¿‡BRç»™æ€»çº¿æ§åˆ¶éƒ¨ä»¶å‘é€å ç”¨è¯·æ±‚\næ€»çº¿æ§åˆ¶éƒ¨ä»¶æ¥å—åˆ°è¯·æ±‚ä»¥åä¸”å¯ä»¥è®©å‡ºæ€»çº¿çš„æ§åˆ¶æƒï¼ˆBSæ€»çº¿ä¸å¿™ï¼‰æ—¶ï¼Œå¯åŠ¨æ€»çº¿æ§åˆ¶éƒ¨ä»¶ä¸­çš„è®¡æ•°å™¨ï¼Œè®¡æ•°å™¨çš„å€¼é€šè¿‡è®¾å¤‡åœ°å€è¿™æ¡çº¿å‘å¤–è¾“å‡ºæŸ¥è¯¢æ¥å£\nè®¡æ•°å™¨æ ¹æ®è®¡æ•°å™¨çš„å€¼è®¿é—®å¯¹åº”I&#x2F;Oæ¥å£ï¼Œå¦‚æœä¸æ˜¯å°±åŠ ä¸€ï¼Œç»§ç»­è®¿é—®ï¼Œç›´åˆ°ç¢°åˆ°ç¬¬ä¸€ä¸ªæå‡ºæ€»çº¿å ç”¨è¯·æ±‚çš„æ¥å£ï¼Œåˆ™å®ƒå°±è·å¾—äº†æ€»çº¿çš„ä½¿ç”¨æƒï¼Œå¹¶ä¸”é€šè¿‡BSè®¾ç½®æ€»çº¿å¿™\n\nç¼ºç‚¹ï¼šæ¯”é“¾å¼æŸ¥è¯¢éœ€è¦çš„çº¿å¤šï¼Œlog2nå‘ä¸Šå–æ•´+2æ¡çº¿ï¼Œé€Ÿåº¦æ…¢\nä¼˜ç‚¹ï¼šä¼˜å…ˆçº§ç¡®å®šéå¸¸çµæ´»ï¼Œå¦‚ï¼šæ¯æ¬¡ä»0æˆ–Kå¼€å§‹ä¸€ç›´åˆ°nï¼Œåˆ™0æˆ–kæ¥å£ä¼˜å…ˆçº§æœ€é«˜ï¼Œå¦‚ï¼šæ¯æ¬¡ä»ä¸Šä¸€æ¬¡æ•°å€¼å¼€å§‹å˜æˆå¾ªç¯ä¼˜å…ˆçº§ç­‰ç­‰ã€‚\n4. ç‹¬ç«‹è¯·æ±‚æ–¹å¼\næ¯ä¸ªæ¥å£éƒ½æœ‰è‡ªå·±çš„BRï¼ŒBGçº¿\nä¼˜å…ˆçº§ç”±æ€»çº¿æ§åˆ¶éƒ¨ä»¶å†…éƒ¨çš„æ’é˜Ÿå™¨å†³å®š\n\nI&#x2F;Oæ¥å£ï¼ˆå¤–è®¾ï¼‰æœ‰å ç”¨è¯·æ±‚æ—¶ï¼Œé€šè¿‡è‡ªå·±çš„BRç»™æ€»çº¿æ§åˆ¶éƒ¨ä»¶å‘é€å ç”¨è¯·æ±‚\næ€»çº¿æ§åˆ¶éƒ¨ä»¶æ¥å—åˆ°è¯·æ±‚ä»¥åä¸”å¯ä»¥è®©å‡ºæ€»çº¿çš„æ§åˆ¶æƒï¼ˆBSæ€»çº¿ä¸å¿™ï¼‰æ—¶ï¼Œç»è¿‡æ’é˜Ÿå…¶æ’é˜Ÿä»¥åï¼Œå¯¹æŸä¸€ä¸ªï¼ˆæ ¹æ®ä¼˜å…ˆçº§ï¼‰æå‡ºæ€»çº¿æ§åˆ¶è¯·æ±‚çš„è®¾å¤‡è¿›è¡Œæ€»çº¿æˆæƒ\nè·å¾—æ€»çº¿æ§åˆ¶éƒ¨ä»¶åº”ç­”çš„è®¾å¤‡ï¼Œå°±å ç”¨äº†æ€»çº¿çš„ä½¿ç”¨æƒ\n\nä¼˜ç‚¹ï¼šä¼˜å…ˆçº§ç¡®å®šéå¸¸çµæ´»ï¼Œè‡ªå®šä¹‰æ’é˜Ÿå™¨\nç¼ºç‚¹ï¼šéœ€è¦çš„çº¿å¤š2næ¡çº¿\näºŒã€æ€»çº¿é€šä¿¡æ§åˆ¶1. ç›®çš„ï¼š è§£å†³é€šä¿¡åŒæ–¹åè°ƒé…åˆé—®é¢˜2. æ€»çº¿ä¼ è¾“å‘¨æœŸ\nç”³è¯·åˆ†é…é˜¶æ®µï¼š ä¸»æ¨¡å—ç”³è¯·ï¼Œæ€»çº¿ä»²è£å†³å®šï¼ˆæ€»çº¿åˆ¤ä¼˜é€»è¾‘ï¼šä¸Šé¢æ‰€è§£å†³çš„é—®é¢˜ï¼‰\nå¯»å€é˜¶æ®µï¼š ä¸»æ¨¡å—ï¼ˆå‘ä»æ¨¡å—ï¼‰ç»™å‡ºåœ°å€ï¼ˆæ‰¾åˆ°ä»è®¾å¤‡ï¼‰ å’Œ å‘½ä»¤ï¼ˆæ§åˆ¶ä»è®¾å¤‡å®Œæˆç›¸åº”çš„æ“ä½œï¼‰\nä¼ æ•°é˜¶æ®µï¼š ä¸»æ¨¡å—å’Œä»æ¨¡å—äº¤æ¢æ•°æ®\nç»“æŸé˜¶æ®µï¼š ä¸»æ¨¡å—å’Œä»æ¨¡å—éƒ½æ’¤æ¶ˆæœ‰å…³ä¿¡æ¯\n\n3. æ€»çº¿é€šä¿¡çš„å››ç§æ–¹å¼\nåŒæ­¥é€šä¿¡ï¼šç”±ç»Ÿä¸€æ—¶æ ‡æ§åˆ¶æ•°æ®ä¼ é€ åº”ç”¨åœ¨æ€»çº¿é•¿åº¦æ¯”è¾ƒçŸ­ä¸”å„ä¸ªæ¨¡å—å­˜å–æ—¶é—´æ¯”è¾ƒä¸€è‡´çš„æƒ…å†µä¸‹\nå¼‚æ­¥é€šä¿¡ï¼šé‡‡ç”¨åº”ç­”æ–¹å¼ ï¼Œæ²¡æœ‰å…¬å…±æ—¶é’Ÿæ ‡å‡†\nåŠåŒæ­¥é€šä¿¡ï¼š åŒæ­¥ã€å¼‚æ­¥ç»“åˆ\nåˆ†ç¦»å¼é€šä¿¡ï¼š å……åˆ†æŒ–æ˜ç³»ç»Ÿæ€»çº¿æ¯ä¸ªç¬é—´çš„æ½œåŠ›\n\n\nåŒæ­¥é€šä¿¡ï¼šç”±ç»Ÿä¸€æ—¶æ ‡æ§åˆ¶æ•°æ®ä¼ é€(ä¸»ä»æ¨¡å—æ˜¯å¼ºåˆ¶åŒæ­¥çš„ï¼Œé€Ÿåº¦ä¸åŒæ¨¡å—éœ€è¦é€‰æ‹©é€Ÿåº¦æœ€æ…¢çš„æ¨¡å—ä½œä¸ºç»Ÿä¸€çš„æ—¶æ ‡)CPUç”¨åŒæ­¥é€šä¿¡çš„æ–¹å¼ä»å¤–éƒ¨è®¾å¤‡è¿›è¡Œæ•°æ®è¾“å…¥\nåŒæ­¥é€šè®¯æœ‰å®šå®½å®šè·çš„æ—¶æ ‡æ¥æ§åˆ¶æ•´ä¸ªæ•°æ®çš„ä¼ è¾“è¿‡ç¨‹\næ—¶é’Ÿä¿¡å·ï¼šæ€»çº¿ä¼ è¾“å‘¨æœŸç”±å››ä¸ªæ—¶é’Ÿå‘¨æœŸæ„æˆï¼Œè¿™å››ä¸ªæ—¶é’Ÿå‘¨æœŸå°±å¯ä»¥å®Œæˆä¸€æ¬¡å®Œæ•´å¯é çš„æ•°æ®é€šä¿¡\nCPUå®Œæˆæ•°æ®è¾“å…¥éœ€è¦åœ°å€ä¿¡å·ï¼Œè¯»ä¿¡å·ï¼Œä»è®¾å¤‡åœ¨ç»™å®šçš„æ—¶é—´ç‚¹ä¸Šç»™å‡ºæ•°æ®çš„è¾“å‡ºï¼Œå¯¹CPUæ¥è¯´æ—¶æ•°æ®çš„è¾“å…¥\nåœ¨å›ºå®šçš„æ—¶é—´ç‚¹ä¸Šè¦ç»™å‡ºå›ºå®šçš„æ“ä½œï¼š\n\nT1æ—¶é’Ÿå‘¨æœŸçš„ä¸Šå‡æ²¿CPUï¼ˆä¸»è®¾å¤‡ï¼‰å¿…é¡»ç»™å‡ºåœ°å€ä¿¡å·ï¼Œ\nT2æ—¶é’Ÿå‘¨æœŸçš„ä¸Šå‡æ²¿å¿…é¡»ç»™å‡ºè¯»å‘½ä»¤ä¿¡å·å‘Šè¯‰ä»è®¾å¤‡CPUï¼ˆä¸»è®¾å¤‡ï¼‰è¦ä»ä»æ¨¡å—è¯»å…¥æ•°æ®\nT3æ—¶é’Ÿå‘¨æœŸçš„ä¸Šå‡æ²¿åˆ°è¾¾ä¹‹å‰ä»è®¾å¤‡å¿…é¡»é€šè¿‡æ•°æ®æ€»çº¿ç»™å‡ºæ•°æ®ä¿¡å·\nT4æ—¶é’Ÿå‘¨æœŸçš„ä¸Šå‡æ²¿æ•°æ®ä¿¡å·å’Œè¯»ä¿¡å·ï¼ˆæ§åˆ¶ä¿¡å·ï¼‰å¯ä»¥æ’¤é”€ï¼ŒT4ç»“æŸæ—¶åœ°å€ä¿¡å·ä¹Ÿæ’¤é”€\n\n\nCPUç”¨åŒæ­¥é€šä¿¡çš„æ–¹å¼æŠŠæ•°æ®è¾“å‡ºåˆ°å¤–éƒ¨è®¾å¤‡\nåŒæ­¥é€šè®¯æœ‰å®šå®½å®šè·çš„æ—¶æ ‡æ¥æ§åˆ¶æ•´ä¸ªæ•°æ®çš„ä¼ è¾“è¿‡ç¨‹\næ—¶é’Ÿä¿¡å·ï¼šæ€»çº¿ä¼ è¾“å‘¨æœŸç”±å››ä¸ªæ—¶é’Ÿå‘¨æœŸæ„æˆï¼Œè¿™å››ä¸ªæ—¶é’Ÿå‘¨æœŸå°±å¯ä»¥å®Œæˆä¸€æ¬¡å®Œæ•´å¯é çš„æ•°æ®é€šä¿¡\nCPUå®Œæˆæ•°æ®è¾“å…¥éœ€è¦åœ°å€ä¿¡å·ï¼Œå†™ä¿¡å·\nåœ¨å›ºå®šçš„æ—¶é—´ç‚¹ä¸Šè¦ç»™å‡ºå›ºå®šçš„æ“ä½œï¼š\n\nT1æ—¶é’Ÿå‘¨æœŸçš„ä¸Šå‡æ²¿CPUï¼ˆä¸»è®¾å¤‡ï¼‰å¿…é¡»ç»™å‡ºåœ°å€ä¿¡å·ï¼Œ\nT1æ—¶é’Ÿå‘¨æœŸçš„ä¸‹é™æ²¿ç»™å‡ºæ•°æ®\nT2æ—¶é’Ÿå‘¨æœŸçš„ä¸Šå‡æ²¿å¿…é¡»ç»™å‡ºå†™å‘½ä»¤ä¿¡å· å‘ä»è®¾å¤‡è¿›è¡Œæ•°æ®å†™å…¥\nT4æ—¶é’Ÿå‘¨æœŸçš„ä¸Šå‡æ²¿æ•°æ®ä¿¡å·å’Œå†™ä¿¡å·ï¼ˆæ§åˆ¶ä¿¡å·ï¼‰å¯ä»¥æ’¤é”€ï¼ŒT4ç»“æŸæ—¶åœ°å€ä¿¡å·ä¹Ÿæ’¤é”€\n\n\nå¼‚æ­¥é€šä¿¡ï¼š é‡‡ç”¨åº”ç­”æ–¹å¼ï¼Œæ²¡æœ‰å…¬å…±æ—¶é’Ÿæ ‡å‡†ä¸»è®¾å¤‡å‘èµ·è¯·æ±‚ï¼Œä»è®¾å¤‡å—ä¸»è®¾å¤‡æ§åˆ¶ï¼Œä¸ç”¨å®šå®½å®šè·çš„æ—¶é’Ÿ\n\n\nå¼‚æ­¥é€šä¿¡ä¸äº’é”æ–¹å¼ï¼ˆé€šä¿¡æ²¡æœ‰å¯é æ€§ï¼‰ï¼šä¸»è®¾å¤‡å‘èµ·é€šä¿¡è¯·æ±‚ï¼Œä»è®¾å¤‡æ¥å—åˆ°ä¸»è®¾å¤‡è¯·æ±‚å‘å‡ºåº”ç­”ä¿¡å·ï¼Œä¸»è®¾å¤‡æ’¤é”€è¯·æ±‚ä¿¡å·ï¼Œä»è®¾å¤‡æ’¤é”€åº”ç­”ä¿¡å·ï¼Œä¸»è®¾å¤‡ä¸ç®¡æœ‰æ²¡æœ‰æ”¶åˆ°åº”ç­”ä¿¡å·ï¼Œä¸€å®šå»¶æ—¶åéƒ½ä¼šæ’¤é”€è¯·æ±‚ä¿¡å·ï¼Œä»è®¾å¤‡ä¸ç®¡ä¸»è®¾å¤‡æœ‰æ²¡æœ‰æ¥åˆ°åº”ç­”ä¿¡å·ï¼Œä¸€å®šå»¶æ—¶åéƒ½ä¼šæ’¤é”€åº”ç­”ä¿¡å·\nå¼‚æ­¥é€šä¿¡åŠäº’é”æ–¹å¼ï¼ˆå¯èƒ½é€ æˆä¸»è®¾å¤‡è¯·æ±‚ä¿¡å·ä¸€ç›´ä¿æŒé«˜ç”µå¹³ï¼‰ï¼šä¸»è®¾å¤‡å‘èµ·é€šä¿¡è¯·æ±‚ï¼Œä»è®¾å¤‡æ¥å—åˆ°ä¸»è®¾å¤‡è¯·æ±‚å‘å‡ºåº”ç­”ä¿¡å·ï¼Œä¸»è®¾å¤‡æ¥æ”¶åˆ°åº”ç­”ä¿¡å·ä»¥åæ’¤é”€è¯·æ±‚ä¿¡å·ï¼Œå¦‚æœæ¥æ”¶ä¸åˆ°ï¼Œè¯·æ±‚ä¿¡å·ä¼šä¿æŒï¼Œä»è®¾å¤‡ä¸ç®¡ä¸»è®¾å¤‡æœ‰æ²¡æœ‰æ¥åˆ°åº”ç­”ä¿¡å·ï¼Œä¸€å®šå»¶æ—¶åéƒ½ä¼šæ’¤é”€åº”ç­”ä¿¡å·\nå¼‚æ­¥é€šä¿¡å…¨äº’é”æ–¹å¼ï¼ˆé€šè¿‡æ¡æ‰‹ä¿¡å·å®Œæˆå¯é çš„æ•°æ®ä¼ è¾“é€šä¿¡è”ç»œï¼‰ï¼šä¸»è®¾å¤‡å‘èµ·é€šä¿¡è¯·æ±‚ï¼Œä»è®¾å¤‡æ¥å—åˆ°ä¸»è®¾å¤‡è¯·æ±‚å‘å‡ºåº”ç­”ä¿¡å·ï¼Œä¸»è®¾å¤‡æ¥æ”¶åˆ°åº”ç­”ä¿¡å·ä»¥åæ’¤é”€è¯·æ±‚ä¿¡å·ï¼Œå¦‚æœæ¥æ”¶ä¸åˆ°ï¼Œè¯·æ±‚ä¿¡å·ä¼šä¿æŒï¼Œåªæœ‰ä¸»è®¾å¤‡çš„è¯·æ±‚ä¿¡å·æ’¤é”€ä»¥åï¼Œä»è®¾å¤‡æ‰ä¼šæ’¤é”€è‡ªå·±çš„åº”ç­”ä¿¡å·\n\nåŠåŒæ­¥é€šä¿¡ï¼š åŒæ­¥ã€å¼‚æ­¥ç»“åˆ\nåŒæ­¥ï¼š å‘é€æ–¹ ç”¨ç³»ç»Ÿ æ—¶é’Ÿå‰æ²¿ å‘ä¿¡å·\næ¥æ”¶æ–¹ ç”¨ç³»ç»Ÿ æ—¶é’Ÿåæ²¿ åˆ¤æ–­ã€è¯†åˆ«\n\nå¼‚æ­¥ å…è®¸ä¸åŒé€Ÿåº¦çš„æ¨¡å—å’Œè°å·¥ä½œ å¢åŠ ä¸€æ¡ â€œç­‰å¾…â€å“åº”ä¿¡å· WAIT\n\n\nä»¥è¾“å…¥æ•°æ®ä¸ºä¾‹çš„åŠåŒæ­¥é€šä¿¡æ—¶åºï¼ˆä¸»æ¨¡å—ç†Ÿè¯»å¿«ï¼Œç­‰ä»æ¨¡å—å›åº”ï¼‰\nT1 ä¸»æ¨¡å—å‘åœ°å€\nT2 ä¸»æ¨¡å—å‘å‘½ä»¤\nTw å½“ WAITä¸ºä½ç”µå¹³æ—¶ï¼Œç­‰å¾…ä¸€ä¸ª T\nTw å½“ WAITä¸ºä½ç”µå¹³æ—¶ï¼Œç­‰å¾…ä¸€ä¸ª T\nâ€¦\nT3 ä»æ¨¡å—æä¾›æ•°æ®\nT4 ä»æ¨¡å—æ’¤é”€æ•°æ®ï¼Œä¸»æ¨¡å—æ’¤é”€å‘½ä»¤\n\nT1æ—¶é’Ÿå‘¨æœŸçš„ä¸Šå‡æ²¿CPUï¼ˆä¸»è®¾å¤‡ï¼‰å¿…é¡»ç»™å‡ºåœ°å€ä¿¡å·ï¼Œ\nT2æ—¶é’Ÿå‘¨æœŸçš„ä¸Šå‡æ²¿å¿…é¡»ç»™å‡ºè¯»å‘½ä»¤ä¿¡å·å‘Šè¯‰ä»è®¾å¤‡CPUï¼ˆä¸»è®¾å¤‡ï¼‰è¦ä»ä»æ¨¡å—è¯»å…¥æ•°æ®\nT3æ—¶é’Ÿå‘¨æœŸå¼€å§‹ä¹‹å‰ï¼Œä»è®¾å¤‡å¦‚æœä¸èƒ½æŠŠæ•°æ®å‡†å¤‡å¥½ï¼Œé€šè¿‡WAITä¿¡å·ç»™å‡ºä½ç”µå¹³ï¼Œå‘Šè¯‰ä¸»è®¾å¤‡è¿›è¡Œç­‰å¾…ï¼ŒCPUä¼šåœ¨ç¬¬ä¸‰ä¸ªæ—¶é’Ÿå‘¨æœŸåˆ°æ¥ä¹‹å‰æ’å…¥ä¸€ä¸ªæ—¶é’Ÿå‘¨æœŸTwï¼ˆå¾ªç¯å¾€å¤ï¼‰\næ•°æ®å·²ç»å‡†å¤‡å¥½æ”¾åœ¨æ•°æ®æ€»çº¿ä¸Šï¼ŒWAITå˜æˆé«˜ç”µå¹³æ—¶ï¼Œåˆ™è¯¥Twç»“æŸåå¼€å§‹T3å‘¨æœŸ\nT4æ—¶é’Ÿå‘¨æœŸçš„ä¸Šå‡æ²¿æ•°æ®ä¿¡å·å’Œè¯»ä¿¡å·ï¼ˆæ§åˆ¶ä¿¡å·ï¼‰å¯ä»¥æ’¤é”€ï¼ŒT4ç»“æŸæ—¶åœ°å€ä¿¡å·ä¹Ÿæ’¤é”€\n\n\nä¸Šè¿°ä¸‰ç§é€šä¿¡çš„å…±åŒç‚¹ä¸€ä¸ªæ€»çº¿ä¼ è¾“å‘¨æœŸï¼ˆä»¥è¾“å…¥æ•°æ®ä¸ºä¾‹ï¼‰\n\nä¸»æ¨¡å—å‘åœ°å€ ã€å‘½ä»¤ï¼š å ç”¨æ€»çº¿\nä»æ¨¡å—å‡†å¤‡æ•°æ®ï¼š ä¸å ç”¨æ€»çº¿ æ€»çº¿ç©ºé—²\nä»æ¨¡å—å‘ä¸»æ¨¡å—å‘æ•°æ®ï¼š å ç”¨æ€»çº¿\n\næ€»çº¿æœ‰ç©ºé—²\nåˆ†ç¦»å¼é€šä¿¡ å……åˆ†æŒ–æ˜ç³»ç»Ÿæ€»çº¿æ¯ä¸ªç¬é—´çš„æ½œåŠ›ä¸€ä¸ªæ€»çº¿ä¼ è¾“å‘¨æœŸï¼Œå­å‘¨æœŸ1å’Œ2ä¹‹é—´ç”¨æ¥è®©ä»æ¨¡å—å‡†å¤‡æ•°æ®ï¼Œå­å‘¨æœŸ2ä¸­ä»æ¨¡å—å·²ç»å˜æˆäº†ä¸»æ¨¡å—\n\nè¯»æ•°æ®æ—¶ï¼Œå‡†å¤‡æ•°æ® ç¡¬ç›˜æœ‰ä¸‰æ­¥æ“ä½œï¼š\nä¸»æ¨¡å—å‘ä»æ¨¡å—å‘å‡ºæ‰¾æŒ‡å®šç£é“è¯·æ±‚åï¼Œæ”¾å¼ƒæ€»çº¿ä½¿ç”¨æƒ\n\nå®šä½ï¼šç£å¤´é•œåƒç§»åŠ¨ï¼Œå¯»æ‰¾æŒ‡å®šç£é“ï¼ˆæ—¶é—´é•¿ï¼‰\n\nç¡¬ç›˜æ‰¾åˆ°æŒ‡å®šç£é“å˜æˆä¸»æ¨¡å—ï¼Œå‘å‡ºæ‰¾å¯¹åº”æ‰‡åŒºçš„è¯·æ±‚åï¼Œæ”¾å¼ƒæ€»çº¿ä½¿ç”¨æƒ\n\næ‰¾åˆ°æŒ‡å®šæ‰‡åŒºï¼šç£å¤´åœæ­¢åœ¨ç£ç›˜è¡¨é¢ä¸åŠ¨ï¼Œç£ç›˜å›´ç»•è½´è½¬åŠ¨ï¼ˆæ—¶é—´é•¿ï¼‰\n\nç¡¬ç›˜æ‰¾åˆ°æŒ‡å®šæ‰‡åŒºå˜æˆä¸»æ¨¡å—ï¼Œå‘å‡ºè¯»è¯·æ±‚ï¼Œè¿›è¡Œæ•°æ®ä¼ è¾“\n\nè¯»æ•°æ®\n\n\nåˆ†ç¦»å¼é€šä¿¡ç‰¹ç‚¹ï¼ˆå……åˆ†æé«˜äº†æ€»çº¿çš„æœ‰æ•ˆå ç”¨ï¼‰\n\n\nå„æ¨¡å—æœ‰æƒç”³è¯·å ç”¨æ€»çº¿\né‡‡ç”¨åŒæ­¥æ–¹å¼é€šä¿¡ï¼Œä¸ç­‰å¯¹æ–¹å›ç­”\nå„æ¨¡å—å‡†å¤‡æ•°æ®æ—¶ï¼Œä¸å ç”¨æ€»çº¿\næ€»çº¿è¢«å ç”¨æ—¶ï¼Œæ— ç©ºé—²\n\n","slug":"æ€»çº¿æ§åˆ¶","date":"2022-08-29T15:02:22.000Z","categories_index":"","tags_index":"","author_index":"æš—ä½¿å¼€å¼€"},{"id":"ba68949a58e3c0521996a1c671405388","title":"æ€»çº¿çš„åŸºæœ¬æ¦‚å¿µ","content":"æ€»çº¿çš„åŸºæœ¬æ¦‚å¿µä¸€ã€ä¸ºä»€ä¹ˆè¦ç”¨æ€»çº¿æŠŠå„ä¸ªéƒ¨ä»¶è¿æ¥èµ·æ¥ï¼Œæ–¹ä¾¿ç»´æŠ¤ç®¡ç†å„éƒ¨ä»¶\näºŒã€ä»€ä¹ˆæ˜¯æ€»çº¿æ€»çº¿æ˜¯è¿æ¥å„ä¸ªéƒ¨ä»¶çš„ä¿¡æ¯ä¼ è¾“çº¿ï¼Œæ˜¯å„ä¸ªéƒ¨ä»¶å…±äº«çš„ä¼ è¾“ä»‹è´¨\nä¸‰ã€æ€»çº¿ä¸Šä¿¡æ¯çš„ä¼ é€ä¸²è¡Œâ€”â€”-\nå¹¶è¡Œ&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\nå››ã€æ€»çº¿ç»“æ„çš„è®¡ç®—æœºä¸¾ä¾‹\nå•æ€»çº¿ç»“æ„æ¡†å›¾\n\n\né¢å‘ CPU çš„åŒæ€»çº¿ç»“æ„æ¡†å›¾\n\n\nä»¥å­˜å‚¨å™¨ä¸ºä¸­å¿ƒçš„åŒæ€»çº¿ç»“æ„æ¡†å›¾\n\n\n\n","slug":"æ€»çº¿çš„åŸºæœ¬æ¦‚å¿µ","date":"2022-08-29T15:02:22.000Z","categories_index":"","tags_index":"","author_index":"æš—ä½¿å¼€å¼€"},{"id":"88e51c25651f7ab23251517d494ade0d","title":"æ€»çº¿ç‰¹æ€§åŠæ€§èƒ½æŒ‡æ ‡","content":"æ€»çº¿ç‰¹æ€§åŠæ€§èƒ½æŒ‡æ ‡ä¸€ã€æ€»çº¿ç‰©ç†å®ç°\næ€»çº¿å°åˆ·åœ¨ä¸»æ¿ï¼ˆå°åˆ·ç”µè·¯æ¿ï¼‰ä¸Š ï¼Œåœ¨æ€»çº¿ä¸Šç•™å‡ºæ¥å£ç»™æ¨¡å—æ’æ¿ç”¨æ¥è¿æ¥\näºŒã€æ€»çº¿ç‰¹æ€§\næœºæ¢°ç‰¹æ€§ å°ºå¯¸ã€å½¢çŠ¶ã€ç®¡è„šæ•° åŠ æ’åˆ—é¡ºåº\nç”µæ°”ç‰¹æ€§ ä¼ è¾“æ–¹å‘ å’Œæœ‰æ•ˆçš„ ç”µå¹³ èŒƒå›´\nåŠŸèƒ½ç‰¹æ€§ æ¯æ ¹ä¼ è¾“çº¿çš„ åŠŸèƒ½ï¼šåœ°å€ï¼Œæ•°æ®ï¼Œæ§åˆ¶\næ—¶é—´ç‰¹æ€§ ä¿¡å·çš„ æ—¶åº å…³ç³»\n\nä¸‰ã€æ€»çº¿çš„æ€§èƒ½æŒ‡æ ‡\næ€»çº¿å®½åº¦ æ•°æ®çº¿ çš„æ ¹æ•°\næ ‡å‡†ä¼ è¾“ç‡ æ¯ç§’ä¼ è¾“çš„æœ€å¤§å­—èŠ‚æ•°ï¼ˆMBpsï¼‰\næ—¶é’ŸåŒæ­¥&#x2F;å¼‚æ­¥ åŒæ­¥ã€ä¸åŒæ­¥\næ€»çº¿å¤ç”¨ åœ°å€çº¿ ä¸ æ•°æ®çº¿ å¤ç”¨\nä¿¡å·çº¿æ•° åœ°å€çº¿ã€æ•°æ®çº¿å’Œæ§åˆ¶çº¿çš„ æ€»å’Œ\næ€»çº¿æ§åˆ¶æ–¹å¼ çªå‘ã€è‡ªåŠ¨ã€ä»²è£ã€é€»è¾‘ã€è®¡æ•°\nå…¶ä»–æŒ‡æ ‡ è´Ÿè½½èƒ½åŠ›\n\nå››ã€æ€»çº¿æ ‡å‡†\n\nå¸¦å®½ï¼ˆ28ï¼‰&#x3D;æ•°æ®çº¿ï¼ˆ16æ ¹å°±æ˜¯2å­—èŠ‚Byteï¼‰æ€»çº¿æ—¶é’Ÿï¼ˆ8MHzï¼‰\nISAï¼šå·¥ä¸šæ ‡å‡†ä½“ç³»ç»“æ„\nEISAï¼šå…¼å®¹ISA\nVESAï¼ˆVL-BUSï¼‰ï¼šè§†é¢‘ç”µå­æ ‡å‡†åä¼š å¤§éƒ¨åˆ†ä¿¡å·æ¥è‡ªCPU é©±åŠ¨èƒ½åŠ›å·®\nPCIï¼šå¤–è®¾éƒ¨ä»¶äº’è”æ ‡å‡† ç‹¬ç«‹äºå¤„ç†å™¨çš„ç»“æ„ å½¢æˆç‰¹æ®Šçš„ä¸­é—´ç¼“å†²å™¨å¼çš„è®¾è®¡ï¼ŒæŠŠä¸­å¤®å¤„ç†å™¨å­ç³»ç»Ÿå’Œå¤–è®¾åˆ†å¼€ï¼Œç”¨æˆ·å¯ä»¥éšæ„æ·»åŠ å¤–è®¾ï¼Œä¸ç”¨æ‹…å¿ƒåœ¨ä¸åŒçš„æ—¶é’Ÿé¢‘ç‡ä¸‹å¯¼è‡´è®¡ç®—æœºæ€§èƒ½çš„ä¸‹é™\nAGPï¼šInteræ¨å‡ºçš„æ¥å£ï¼Œç‚¹å¯¹ç‚¹çš„å±€éƒ¨æ€»çº¿ ä¸ºäº†è¿æ¥æ§åˆ¶èŠ¯ç‰‡å’Œæ˜¾å¡\nRS-232ï¼šä¸²è¡Œé€šä¿¡ æ€»çº¿æ ‡å‡†\nUSBï¼šä¸²è¡Œæ¥å£ æ€»çº¿æ ‡å‡†\n","slug":"æ€»çº¿ç‰¹æ€§åŠæ€§èƒ½æŒ‡æ ‡","date":"2022-08-29T15:02:22.000Z","categories_index":"","tags_index":"","author_index":"æš—ä½¿å¼€å¼€"},{"id":"67a07993746681dd1e13888391663bfc","title":"æ€»çº¿çš„åˆ†ç±»","content":"æ€»çº¿çš„åˆ†ç±»1.ç‰‡å†…æ€»çº¿èŠ¯ç‰‡å†…éƒ¨ çš„æ€»çº¿\n2.ç³»ç»Ÿæ€»çº¿è®¡ç®—æœºå„éƒ¨ä»¶ä¹‹é—´ çš„ä¿¡æ¯ä¼ è¾“çº¿\næ•°æ®æ€»çº¿ åŒå‘ ä¸æœºå™¨å­—é•¿ã€å­˜å‚¨å­—é•¿æœ‰å…³åœ°å€æ€»çº¿ å•å‘ ä¸å­˜å‚¨åœ°å€ã€ I&#x2F;Oåœ°å€æœ‰å…³æ§åˆ¶æ€»çº¿ æœ‰å‡ºï¼ˆä¸­æ–­è¯·æ±‚ã€æ€»çº¿è¯·æ±‚ï¼‰ æœ‰å…¥ï¼ˆå­˜å‚¨å™¨è¯»ã€å­˜å‚¨å™¨å†™ æ€»çº¿å…è®¸ã€ä¸­æ–­ç¡®è®¤ï¼‰\n3.é€šä¿¡æ€»çº¿ç”¨äº è®¡ç®—æœºç³»ç»Ÿä¹‹é—´ æˆ– è®¡ç®—æœºç³»ç»Ÿä¸å…¶ä»–ç³»ç»Ÿï¼ˆå¦‚æ§åˆ¶ä»ªè¡¨ã€ç§»åŠ¨é€šä¿¡ç­‰ï¼‰ä¹‹é—´çš„é€šä¿¡\nä¼ è¾“æ–¹å¼ï¼šä¸²è¡Œé€šä¿¡æ€»çº¿ å¹¶è¡Œé€šä¿¡æ€»çº¿\n","slug":"æ€»çº¿çš„åˆ†ç±»","date":"2022-08-29T15:02:22.000Z","categories_index":"","tags_index":"","author_index":"æš—ä½¿å¼€å¼€"},{"id":"01d906b6031118ca7dc7178db4a7223b","title":"æ€»çº¿ç»“æ„","content":"æ€»çº¿ç»“æ„ä¸€ã€å•æ€»çº¿ç»“æ„\næŠŠæ‰€æœ‰è®¾å¤‡è¿æ¥åˆ°ä¸€æ¡æ€»çº¿ä¸Šï¼Œå¯¼è‡´æ€»çº¿æˆä¸ºç³»ç»Ÿç“¶é¢ˆï¼Œé‡‡ç”¨å¤šæ€»çº¿ç»“æ„\näºŒã€å¤šæ€»çº¿ç»“æ„1. åŒæ€»çº¿ç»“æ„\nå­˜å‚¨æ€»çº¿å’ŒI&#x2F;Oæ€»çº¿åˆ†ç¦»ï¼Œé€šè¿‡é€šé“è¿æ¥ï¼Œé€šé“æœ‰è‡ªå·±çš„æ§åˆ¶å™¨ï¼ŒæŒ‡ä»¤ç³»ç»Ÿç­‰ç­‰ï¼Œé€šé“é€šå¸¸ç”±æ“ä½œç³»ç»Ÿæ¥ç¼–å†™çš„\n2.ä¸‰æ€»çº¿ç»“æ„\nDMAæ€»çº¿ï¼šç›´æ¥å­˜å‚¨å™¨è®¿é—®ï¼Œé«˜é€Ÿå¤–è®¾ç›´æ¥è®¿é—®å†…å­˜ï¼Œä½é€Ÿè¿˜è¦èµ°I&#x2F;Oæ€»çº¿\n3. ä¸‰æ€»çº¿ç»“æ„çš„åˆä¸€å½¢å¼\nCPUæ›´æ–°å¿«ï¼Œå†…å­˜é€Ÿåº¦è¿­ä»£æ…¢ï¼Œåœ¨CPUå’Œå†…å­˜ä¹‹é—´å¢åŠ äº†ä¸€ä¸ªå°å®¹é‡é«˜é€Ÿåº¦çš„Cacheï¼Œå¯¹ä¸»å­˜ä¸­çš„æ•°æ®è¿›è¡Œç¼“å­˜ï¼ŒCPUè¿è¡Œéœ€è¦çš„æŒ‡ä»¤å’Œæ•°æ®ä¸»è¦ä»Cacheä¸­è·å–ï¼Œå±€éƒ¨æ€»çº¿æŠŠCPUå’ŒCacheè¿æ¥èµ·æ¥ï¼Œå±€éƒ¨I&#x2F;Oæ§åˆ¶å™¨è¿æ¥é«˜é€ŸI&#x2F;Oè®¾å¤‡ï¼Œç³»ç»Ÿæ€»çº¿é€šè¿‡æ‰©å±•æ€»çº¿æ¥å£è¿æ¥æ‰©å±•æ€»çº¿ï¼Œå„ç§è®¾å¤‡éƒ½è¿æ¥åˆ°äº†æ‰©å±•æ€»çº¿ä¸Šï¼Œè§£å†³äº†I&#x2F;Oè®¾å¤‡çš„æ‰©å±•é—®é¢˜ã€‚ä½†æ˜¯å¤šç§ç±»å‹çš„è®¾å¤‡è¿æ¥åˆ°æ‰©å±•æ€»çº¿ï¼Œå½±å“å¤–è®¾çš„å·¥ä½œé€Ÿåº¦\n4. å››æ€»çº¿ç»“æ„\nå±€éƒ¨æ€»çº¿è¿æ¥CPUå’ŒCache&#x2F;æ¡¥ï¼Œç³»ç»Ÿæ€»çº¿è¿æ¥ä¸»å­˜å’ŒCache&#x2F;æ¡¥ï¼Œæ¡¥ç”µè·¯æ‰©å±•å‡ºäº†ä¸€ä¸ªé«˜é€Ÿæ€»çº¿ï¼Œç”¨æ¥è¿æ¥é«˜é€Ÿå¤–è®¾ï¼Œä½é€Ÿè®¾å¤‡å¯ä»¥è¿æ¥åˆ°æ‰©å±•æ€»çº¿ä¸Šï¼Œæ‰©å±•æ€»çº¿é€šè¿‡æ¥å£è¿æ¥é«˜é€Ÿæ€»çº¿ï¼ŒæŠŠé«˜é€Ÿå’Œä½é€Ÿåˆ†å¼€ç»„ç»‡ï¼Œæé«˜æ•°æ®ä¼ è¾“é€Ÿç‡\nä¸‰ã€æ€»çº¿ç»“æ„ä¸¾ä¾‹1. ä¼ ç»Ÿå¾®å‹æœºæ€»çº¿ç»“æ„\n2. VL-BUSå±€éƒ¨æ€»çº¿ç»“æ„\nVL-BUSé«˜é€Ÿä½é€Ÿåˆ†å¼€\n3. PCI æ€»çº¿ç»“æ„\nPCIé«˜é€Ÿä½é€Ÿåˆ†å¼€\n4. å¤šå±‚ PCI æ€»çº¿ç»“æ„\nå¦‚æœPCIæ€»çº¿è¿æ¥çš„è®¾å¤‡å¤ªå¤šï¼Œæ€»çº¿é©±åŠ¨èƒ½åŠ›ä¸å¤Ÿï¼Œå¯ä»¥é€šè¿‡PCIæ¡¥è¿›è¡Œæ‰©å±•\nCPUå’Œå­˜å‚¨å™¨é€šè¿‡å­˜å‚¨å™¨æ€»çº¿è¿æ¥ï¼Œä¸‹é¢æ˜¯æ¡¥ç”µè·¯ï¼Œé€šè¿‡æ¡¥ç”µè·¯å®ç°é©±åŠ¨èƒ½åŠ›çš„æé«˜\n","slug":"æ€»çº¿ç»“æ„","date":"2022-08-29T15:02:22.000Z","categories_index":"","tags_index":"","author_index":"æš—ä½¿å¼€å¼€"},{"id":"8dc7cd46376ad8466899f7367562bde2","title":"è®¡ç®—æœºçš„å±•æœ›","content":"è®¡ç®—æœºçš„å±•æœ›ä¸€ã€è®¡ç®—æœºå…·æœ‰ç±»ä¼¼äººè„‘çš„ä¸€äº›è¶…çº§æ™ºèƒ½åŠŸèƒ½\nè¦æ±‚è®¡ç®—æœºçš„é€Ÿåº¦è¦è¶³å¤Ÿå¿«\näºŒã€èŠ¯ç‰‡é›†æˆåº¦çš„æé«˜å—ä»¥ä¸‹ä¸‰æ–¹é¢çš„é™åˆ¶\n\nèŠ¯ç‰‡é›†æˆåº¦å—ç‰©ç†æé™çš„åˆ¶çº¦\næŒ‰å‡ ä½•çº§æ•°é€’å¢çš„åˆ¶ä½œæˆæœ¬\nèŠ¯ç‰‡çš„åŠŸè€—ã€æ•£çƒ­ã€çº¿å»¶è¿Ÿ\n\nä¸‰ã€æ›¿ä»£ä¼ ç»Ÿçš„ç¡…èŠ¯ç‰‡\n\nå…‰è®¡ç®—æœº\nåˆ©ç”¨å…‰å­å–ä»£ç”µå­è¿›è¡Œè¿ç®—å’Œå­˜å‚¨\n\nDNAç”Ÿç‰©è®¡ç®—æœº\né€šè¿‡æ§åˆ¶DNAåˆ†å­é—´çš„ç”ŸåŒ–ååº”\n\né‡å­è®¡ç®—æœº\nåˆ©ç”¨åŸå­æ‰€å…·æœ‰çš„é‡å­ç‰¹æ€§\n\n\n","slug":"è®¡ç®—æœºçš„å±•æœ›","date":"2022-08-29T15:02:22.000Z","categories_index":"","tags_index":"è®¡ç»„","author_index":"æš—ä½¿å¼€å¼€"},{"id":"13d39ce5494ddd5022f4722dceb80b96","title":"è®¡ç®—åœ¨ä¸–ç•Œä¸Šçš„å¤©æ•°","content":"è®¡ç®—åœ¨ä¸–ç•Œä¸Šçš„å¤©æ•°#include &lt;stdio.h&gt;int main()&#123;        int year1,year2,month1,month2,day1,day2;        int a[13]= &#123;0,31,28,31,30,31,30,31,31,30,31,30,31&#125;;        printf(&quot;birthday:2001 02 06:&quot;);        scanf(&quot;%d %d %d&quot;,&amp;year1,&amp;month1,&amp;day1);        printf(&quot;now:2022 05 16:&quot;);        scanf(&quot;%d %d %d&quot;,&amp;year2,&amp;month2,&amp;day2);        int num=0,i,j,k;        if((year2-year1)&gt;1)        &#123;                for(i=year1+1;i&lt;=year2-1;i++)                &#123;                        if(i%4==0&amp;&amp;i%100!=0||i%400==0)                        &#123;                                num=num+366;                        &#125;                        else num=num+365;                &#125;        &#125;        if(year1%4==0&amp;&amp;year1%100!=0||year1%400==0) a[2]=29;        if(year1==year2)        &#123;                for(i=month1+1;i&lt;month2;i++)                &#123;                        num=num+a[i];                &#125;                num=num+(a[month1]-day1)+day2;        &#125;        a[2]=28;        if(year1!=year2)        &#123;                if(year1%4==0&amp;&amp;year1%100!=0||year1%400==0) a[2]=29;                for(i=month1+1;i&lt;=12;i++)                &#123;                        num+=a[i];                &#125;\t\t\t\tnum+=(a[month1]-day1);                a[2]=28;                if(year2%4==0&amp;&amp;year1%100!=0||year2%400==0) a[2]=29;                for(i=month2-1;i&gt;=1;i--)                &#123;                num+=a[i];                &#125;                num+=day2;        &#125;        printf(&quot;You have lived %d days.\\n&quot;,num);        return 0;&#125;","slug":"è®¡ç®—åœ¨ä¸–ç•Œä¸Šçš„å¤©æ•°","date":"2022-08-29T15:02:22.000Z","categories_index":"","tags_index":"è®¡ç»„","author_index":"æš—ä½¿å¼€å¼€"},{"id":"57fbb8bedac43540c8f51c0ee11adbc5","title":"è®¡ç®—æœºç¡¬ä»¶çš„ä¸»è¦æŠ€æœ¯æŒ‡æ ‡","content":"è®¡ç®—æœºç¡¬ä»¶çš„ä¸»è¦æŠ€æœ¯æŒ‡æ ‡\n1.æœºå™¨å­—é•¿CPU ä¸€æ¬¡èƒ½å¤„ç†æ•°æ®çš„ä½æ•° ä¸ CPU ä¸­çš„ å¯„å­˜å™¨ä½æ•° æœ‰å…³ï¼ˆç›¸ç­‰ï¼‰\n\n2.è¿ç®—é€Ÿåº¦ä¸»é¢‘\næ ¸æ•°ï¼Œæ¯ä¸ªæ ¸æ”¯æŒçš„çº¿ç¨‹æ•°\nå‰æ™®æ£®æ³•\nCPI æ‰§è¡Œä¸€æ¡æŒ‡ä»¤æ‰€éœ€æ—¶é’Ÿå‘¨æœŸæ•°\nIPC ä¸€ä¸ªæ—¶é’Ÿå‘¨æœŸæ•°èƒ½æ‰§è¡Œå¤šå°‘æ¡æŒ‡ä»¤\nMIPS æ¯ç§’æ‰§è¡Œç™¾ä¸‡æ¡æŒ‡ä»¤\nFLOPS æ¯ç§’æµ®ç‚¹è¿ç®—æ¬¡æ•°\n\n3.å­˜å‚¨å®¹é‡å­˜æ”¾äºŒè¿›åˆ¶ä¿¡æ¯çš„æ€»ä½æ•°\n\nä¸»å­˜å®¹é‡\n\nå­˜å‚¨å•å…ƒä¸ªæ•° Ã— å­˜å‚¨å­—é•¿\n\n\n\nMAR\nMDR\nå®¹é‡\n\n\n\n10ä½\n8ä½\n1 K*8ä½ï¼ˆ1 K&#x3D;210ï¼‰\n\n\n16ä½\n32ä½\n64 K*32ä½\n\n\n\nå­—èŠ‚æ•°\n213 b&#x3D; 1 KB(1 B &#x3D; 23 b)\n221 b&#x3D; 256 KB\n\n\n\nè¾…å­˜å®¹é‡\nå­—èŠ‚æ•° 80 GBï¼ˆ1GB &#x3D; 230Bï¼‰\n\n\n\n\n","slug":"è®¡ç®—æœºç¡¬ä»¶çš„ä¸»è¦æŠ€æœ¯æŒ‡æ ‡","date":"2022-08-29T15:02:22.000Z","categories_index":"","tags_index":"è®¡ç»„","author_index":"æš—ä½¿å¼€å¼€"},{"id":"0c48a428566e19d732a05162b62e7687","title":"è®¡ç®—æœºçš„åŸºæœ¬ç»„æˆ","content":"è®¡ç®—æœºçš„åŸºæœ¬ç»„æˆç°åœ¨çš„è®¡ç®—æœºéƒ½æ˜¯å­˜å‚¨ç¨‹åºç»“æ„çš„è®¡ç®—æœº\nä¸€ã€å†¯Â·è¯ºä¾æ›¼è®¡ç®—æœºï¼ˆä»¥è¿ç®—å™¨ä¸ºä¸­å¿ƒï¼‰çš„ç‰¹ç‚¹\n\nè®¡ç®—æœºç”±äº”å¤§éƒ¨ä»¶ç»„æˆï¼ˆè¾“å…¥è®¾å¤‡ï¼Œè¿ç®—å™¨ï¼Œæ§åˆ¶å™¨ï¼Œå­˜å‚¨å™¨ï¼Œè¾“å‡ºè®¾å¤‡ï¼‰\næŒ‡ä»¤å’Œæ•°æ®ä»¥åŒç­‰åœ°ä½å­˜äºå­˜å‚¨å™¨ï¼Œå¯æŒ‰åœ°å€å¯»è®¿\næŒ‡ä»¤å’Œæ•°æ®ç”¨äºŒè¿›åˆ¶è¡¨ç¤º\næŒ‡ä»¤ç”±æ“ä½œç å’Œåœ°å€ç ç»„æˆ\nå­˜å‚¨ç¨‹åº\nä»¥è¿ç®—å™¨ä¸ºä¸­å¿ƒ\n\näºŒã€è®¡ç®—æœºç¡¬ä»¶æ¡†å›¾1.è®¡ç®—æœºç¡¬ä»¶æ¡†å›¾ï¼ˆä»¥å­˜å‚¨å™¨ä¸ºä¸­å¿ƒï¼‰\n2.ç°ä»£è®¡ç®—æœºç¡¬ä»¶æ¡†å›¾\nCPUï¼šALUï¼ˆè¿ç®—å™¨ï¼‰ï¼ŒCUï¼ˆæ§åˆ¶å™¨ï¼‰\nå­˜å‚¨å™¨ï¼šä¸»å­˜ï¼Œå‰¯å­˜\nä¸»æœºï¼šCPUï¼Œå­˜å‚¨å™¨\nI&#x2F;Oè®¾å¤‡ï¼šè¾“å…¥è®¾å¤‡ï¼Œè¾“å‡ºè®¾å¤‡\nç¡¬ä»¶ï¼šä¸»æœºç³»ç»Ÿï¼ŒI&#x2F;Oè®¾å¤‡\nç³»ç»Ÿå¤æ‚æ€§ç®¡ç†çš„æ–¹æ³•-2ï¼ˆ3â€™Yï¼‰\nå±‚æ¬¡åŒ–ï¼ˆHierachyï¼‰ï¼šå°†è¢«è®¾è®¡çš„ç³»ç»Ÿåˆ’åˆ†ä¸ºå¤šä¸ªæ¨¡å—æˆ–å­æ¨¡å—\næ¨¡å—åŒ–ï¼ˆModularityï¼‰ï¼šæœ‰æ˜ç¡®å®šä¹‰ï¼ˆwell-definedï¼‰çš„åŠŸèƒ½å’Œæ¥å£\nè§„åˆ™æ€§ï¼ˆregularityï¼‰ï¼šæ¨¡å—æ›´å®¹æ˜“è¢«é‡ç”¨\n\nä¸‰ã€è®¡ç®—æœºçš„å·¥ä½œæ­¥éª¤ä¸€ä¸ªç°å®ä¸­çš„é—®é¢˜ï¼Œå¦‚ä½•ç”¨è®¡ç®—æœºæ¥è§£å†³ï¼Ÿ\n1. ä¸Šæœºå‰çš„å‡†å¤‡\nå»ºç«‹æ•°å­¦æ¨¡å‹\nç¼–åˆ¶è§£é¢˜ç¨‹åº\nç¡®å®šè®¡ç®—æ–¹æ³•ç¨‹åº â€”â€” è¿ç®—çš„ å…¨éƒ¨æ­¥éª¤æŒ‡ä»¤ â€”â€” æ¯ ä¸€ä¸ªæ­¥éª¤\nç¼–ç¨‹ä¸¾ä¾‹ï¼šè®¡ç®— ax2 + bx + c&#x3D; (ax + b)x + c\n\n\nå–x è‡³è¿ç®—å™¨ä¸­\nä¹˜ä»¥x åœ¨è¿ç®—å™¨ä¸­\nä¹˜ä»¥a åœ¨è¿ç®—å™¨ä¸­\nå­˜ax2 åœ¨å­˜å‚¨å™¨ä¸­\nå–b è‡³è¿ç®—å™¨ä¸­\nä¹˜ä»¥x åœ¨è¿ç®—å™¨ä¸­\nåŠ ax2 åœ¨è¿ç®—å™¨ä¸­\nåŠ c åœ¨è¿ç®—å™¨ä¸­\n\næˆ–è€…\n\nå–x è‡³è¿ç®—å™¨ä¸­\nä¹˜ä»¥a åœ¨è¿ç®—å™¨ä¸­\nåŠ b åœ¨è¿ç®—å™¨ä¸­\nä¹˜ä»¥x åœ¨è¿ç®—å™¨ä¸­\nåŠ c åœ¨è¿ç®—å™¨ä¸­\n\n\næŒ‡ä»¤æ ¼å¼ä¸¾ä¾‹ï¼šæ“ä½œç |åœ°å€ç \n\n\n\n\næŒ‡ä»¤å’Œæ•°æ®å­˜äºä¸»å­˜å•å…ƒçš„åœ°å€\næ“ä½œç \nåœ°å€ç \næ­¥éª¤\næ³¨é‡Š\n\n\n\n0\n000001(å–æ•°)\n0000001000ï¼ˆÎ±ï¼‰\n[Î±] -&gt;ACC\nå–æ•°xè‡³ACC\n\n\n1\n000100(å­˜æ•°)\n0000001001(Î²)\n[ACC] -&gt; Î²\nä¹˜aå¾—ax ,å­˜äºACCä¸­\n\n\n2\n000011(åŠ )\n0000001010(Î³)\n[ACC]+[Î³] -&gt; ACC\nåŠ bå¾—ax+b ,å­˜äºACCä¸­\n\n\n3\n000100(ä¹˜)\n0000001000(Î´)\n[ACC]Ã—[Î´] -&gt; ACC\nä¹˜xå¾—ï¼ˆax+b)x,å­˜äºACCä¸­\n\n\n4\n000011\n0000001011\n\nåŠ cå¾—ax2 + bx + c ,å­˜äºACC\n\n\n5\n000010\n0000001100\n\nå°†ax2 + bx +c ,å­˜äºä¸»å­˜å•å…ƒ\n\n\n6\n000011(æ‰“å°)\n0000001011(o)\n[ o ] -&gt; æ‰“å°æœº\næ‰“å°\n\n\n7\n000110\n\n\nåœæœº\n\n\n8\nx\n\n\nåŸå§‹æ•°æ®x\n\n\n9\na\n\n\nåŸå§‹æ•°æ®a\n\n\n10\nb\n\n\nåŸå§‹æ•°æ®b\n\n\n11\nc\n\n\nåŸå§‹æ•°æ®c\n\n\n12\n\n\n\nå­˜æ”¾ç»“æœ\n\n\næŒ‡ä»¤å’Œæ•°æ®éƒ½æ˜¯ä¿å­˜åœ¨å­˜å‚¨å™¨ä¸­çš„\n2.è®¡ç®—æœºçš„è§£é¢˜è¿‡ç¨‹1. å­˜å‚¨å™¨çš„åŸºæœ¬ç»„æˆ\nå­˜å‚¨å™¨ï¼šå­˜å‚¨ä½“ï¼ŒMARï¼ŒMDR\n\nå­˜å‚¨ä½“ -å­˜å‚¨å•å…ƒ -å­˜å‚¨å…ƒä»¶ï¼ˆ0&#x2F;1ï¼‰\nå¤§æ¥¼ -æˆ¿é—´ -åºŠä½ï¼ˆæ— äºº&#x2F;æœ‰äººï¼‰\n\n\n\n\nå­˜å‚¨å•å…ƒ\nå­˜æ”¾ä¸€ä¸²äºŒè¿›åˆ¶ä»£ç \n\n\n\nå­˜å‚¨å­—\nå­˜å‚¨å•å…ƒä¸­äºŒè¿›åˆ¶ä»£ç çš„ç»„åˆ\n\n\nå­˜å‚¨å­—é•¿\nå­˜å‚¨å•å…ƒä¸­äºŒè¿›åˆ¶ä»£ç çš„ä½æ•°\n\n\næŒ‰åœ°å€å¯»è®¿\næ¯ä¸ªå­˜å‚¨å•å…ƒèµ‹äºˆä¸€ä¸ªåœ°å€å·\n\n\nMARï¼šå­˜å‚¨å™¨åœ°å€å¯„å­˜å™¨ï¼Œåæ˜ å­˜å‚¨å•å…ƒï¼ˆæˆ¿é—´ï¼‰çš„ä¸ªæ•°\nMDRï¼šå­˜å‚¨å™¨æ•°æ®å¯„å­˜å™¨ï¼Œåæ˜ å­˜å‚¨å­—é•¿\nä¾‹å¦‚ï¼šMAR &#x3D; 4 ä½ -&gt; å­˜å‚¨å•å…ƒä¸ªæ•° 16MDR &#x3D; 8 ä½ -&gt; å­˜å‚¨å­—é•¿ 8\n2. è¿ç®—å™¨çš„åŸºæœ¬ç»„æˆåŠæ“ä½œè¿‡ç¨‹\nè¿ç®—å™¨ï¼šX-&gt;ALU&lt;&#x3D;&gt;ACC&lt;&#x3D;&gt;MQ\n\n\n\n\nACC\nMQ\nX\n\n\n\nåŠ æ³•\nè¢«åŠ æ•°å’Œ\n\nåŠ æ•°\n\n\nå‡æ³•\nè¢«å‡æ•°å·®\n\nå‡æ•°\n\n\nä¹˜æ³•\nä¹˜ç§¯é«˜ä½\nä¹˜æ•°ä¹˜ç§¯ä½ä½\nè¢«ä¹˜æ³•\n\n\né™¤æ³•\nè¢«é™¤æ•°ä½™æ•°\nå•†\né™¤æ³•\n\n\nALUï¼šç®—å’¯è¿ç®—å•å…ƒ\nâ‘  åŠ æ³•æ“ä½œè¿‡ç¨‹\n\n\n\n\næŒ‡ä»¤\nåŠ \nM\n\n\n\nåˆæ€ACCè¢«åŠ æ•°\n\n[M] -&gt; X æŠŠMä¸­çš„å€¼ç»™X\n\n\nå¾—åˆ°\n[ACC]+[X] -&gt; ACC è¿ç®—ç»“æœç»™ACC\n\n\n\nâ‘¡ å‡æ³•æ“ä½œè¿‡ç¨‹\n\n\n\n\næŒ‡ä»¤\nå‡\nM\n\n\n\nåˆæ€ACCè¢«å‡æ•°\n\n[M] -&gt; X æŠŠMä¸­çš„å€¼ç»™X\n\n\nå¾—åˆ°\n[ACC]-[X] -&gt; ACC è¿ç®—ç»“æœç»™ACC\n\n\n\nâ‘¢ ä¹˜æ³•æ“ä½œè¿‡ç¨‹\n\n\n\n\næŒ‡ä»¤\nä¹˜\nM\n\n\n\nåˆæ€ACCè¢«ä¹˜æ•°\n\n[M] -&gt; MQ\n\n\n[ACC] -&gt; XæŠŠACCçš„å†…å®¹é€åˆ°X\n0 -&gt; ACCæŠŠACCæ¸…é›¶\n\n\n\nå¾—åˆ°\n[X]*[MQ] -&gt; ACC&#x2F;MQ\n\n\n\nâ‘£ é™¤æ³•æ“ä½œè¿‡ç¨‹\n\n\n\n\næŒ‡ä»¤\né™¤\nM\n\n\n\nåˆæ€ACCè¢«é™¤æ•°\n\n[M] -&gt; X\n\n\nå¾—åˆ°\n[ACC]&#x2F;[X] -&gt; MQ\n\n\n\nä½™æ•°åœ¨ACCä¸­\n3.æ§åˆ¶å™¨çš„åŸºæœ¬ç»„æˆ\n\næ§åˆ¶å™¨ï¼šCUï¼ŒIRï¼ŒPC\n\nCUï¼šæ§åˆ¶å•å…ƒ\nPC: å­˜æ”¾å½“å‰æ¬²æ‰§è¡ŒæŒ‡ä»¤çš„åœ°å€ï¼Œ å…·æœ‰è®¡æ•°åŠŸèƒ½ï¼ˆPCï¼‰+ 1 -&gt; PC\nIR: å­˜æ”¾å½“å‰æ¬²æ‰§è¡Œçš„æŒ‡ä»¤\n\n\nå®Œæˆä¸€æ¡æŒ‡ä»¤ï¼šå–æŒ‡ä»¤PC -&gt; åˆ†ææŒ‡ä»¤IR -&gt; æ‰§è¡ŒæŒ‡ä»¤CU\nè¿ç®—å™¨ã€æ§åˆ¶å™¨ã€å­˜å‚¨å™¨æ„æˆäº†ä»€ä¹ˆä¸»æœº\nä¸€æ¡æŒ‡ä»¤åœ¨ä¸»æœºä¸Šçš„å®Œæˆè¿‡ç¨‹\nç¨‹åºåœ¨ä¸»æœºä¸Šæ˜¯å¦‚ä½•æ‰§è¡Œçš„\n\n4.ä¸»æœºå®Œæˆä¸€æ¡æŒ‡ä»¤çš„è¿‡ç¨‹ä»¥å–æ•°æŒ‡ä»¤ä¸ºä¾‹\n\nPCæŠŠéœ€è¦çš„æŒ‡ä»¤çš„åœ°å€é€ç»™MARï¼ˆæ§åˆ¶å™¨ä¸Šçš„PCä¸­å­˜æ”¾ç€è¦æ‰§è¡Œçš„æŒ‡ä»¤çš„åœ°å€ï¼ŒæŒ‡ä»¤ä¿å­˜åœ¨å­˜å‚¨ä½“å½“ä¸­ï¼‰\nMARæŠŠåœ°å€é€ç»™å­˜å‚¨ä½“ï¼ˆåœ¨æ§åˆ¶å™¨çš„æ§åˆ¶ä¸‹ï¼Œå­˜å‚¨ä½“æŠŠæŒ‡å®šå­˜å‚¨å•å…ƒå½“ä¸­ä¿å­˜çš„å–æ•°æŒ‡ä»¤å–å‡ºæ¥ï¼Œé€å…¥MDRä¸­ï¼‰\nå­˜å‚¨ä½“æŠŠæŒ‡å®šå­˜å‚¨å•å…ƒå½“ä¸­ä¿å­˜çš„å–æ•°æŒ‡ä»¤å–å‡ºæ¥ï¼Œç»™MDRä¸­ï¼ˆMDRä¸­ç°åœ¨å°±æœ‰äº†æŒ‡ä»¤ï¼‰\nMDRæŠŠå–å‡ºæ¥çš„æŒ‡ä»¤é€ç»™IRï¼ˆIRå­˜æ”¾å½“å‰æ¬²æ‰§è¡Œçš„æŒ‡ä»¤å’Œå½“å‰æŒ‡ä»¤æ“ä½œæ•°çš„åœ°å€ï¼‰\nåˆ†ææŒ‡ä»¤ IRé€ç»™CU\nä»IRçš„åœ°å€ç éƒ¨åˆ†å–å‡ºæ“ä½œæ•°åœ°å€é€ç»™MARï¼ˆCUæ§åˆ¶IRæŠŠæ“ä½œæ•°åœ°å€é€ç»™MARï¼‰\nMARæŠŠåœ°å€ç»™å­˜å‚¨ä½“ï¼ˆåœ¨æ§åˆ¶å™¨çš„æ§åˆ¶ä¸‹ï¼Œå­˜å‚¨ä½“æŠŠæŒ‡å®šå­˜å‚¨å•å…ƒå½“ä¸­ä¿å­˜çš„å–æ•°æŒ‡ä»¤è¦å»çš„æ•°å–å‡ºæ¥ï¼Œï¼‰\nå­˜å‚¨ä½“æŠŠæ‰¾åˆ°çš„æ•°æ®ç»™MDR\nMDRé€ç»™è¿ç®—å™¨ä¸­çš„ACC\n\nä»¥å­˜æ•°æŒ‡ä»¤ä¸ºä¾‹\n\nPCæŠŠéœ€è¦çš„æŒ‡ä»¤çš„åœ°å€é€ç»™MARï¼ˆæ§åˆ¶å™¨ä¸Šçš„PCä¸­å­˜æ”¾ç€è¦æ‰§è¡Œçš„æŒ‡ä»¤çš„åœ°å€ï¼ŒæŒ‡ä»¤ä¿å­˜åœ¨å­˜å‚¨ä½“å½“ä¸­ï¼‰\nMARæŠŠåœ°å€é€ç»™å­˜å‚¨ä½“ï¼ˆåœ¨æ§åˆ¶å™¨çš„æ§åˆ¶ä¸‹ï¼Œå­˜å‚¨ä½“æŠŠæŒ‡å®šå­˜å‚¨å•å…ƒå½“ä¸­ä¿å­˜çš„å­˜æ•°æŒ‡ä»¤å–å‡ºæ¥ï¼Œé€å…¥MDRä¸­ï¼‰\nå­˜å‚¨ä½“æŠŠæŒ‡å®šå­˜å‚¨å•å…ƒå½“ä¸­ä¿å­˜çš„å­˜æ•°æŒ‡ä»¤å–å‡ºæ¥ï¼Œç»™MDRä¸­ï¼ˆMDRä¸­ç°åœ¨å°±æœ‰äº†æŒ‡ä»¤ï¼‰\nMDRæŠŠå–å‡ºæ¥çš„æŒ‡ä»¤é€ç»™IRï¼ˆIRå­˜æ”¾å½“å‰æ¬²æ‰§è¡Œçš„æŒ‡ä»¤å’Œå½“å‰æŒ‡ä»¤æ“ä½œæ•°çš„åœ°å€ï¼‰\nåˆ†ææŒ‡ä»¤ IRé€ç»™CU\nä»IRçš„åœ°å€ç éƒ¨åˆ†å–å‡ºæ“ä½œæ•°åœ°å€é€ç»™MARï¼ˆCUæ§åˆ¶IRæŠŠæ“ä½œæ•°åœ°å€é€ç»™MARï¼‰\nMARæŠŠåœ°å€ç»™å­˜å‚¨ä½“ï¼ˆåœ¨æ§åˆ¶å™¨CUçš„æ§åˆ¶ä¸‹ï¼ŒMARæŠŠåœ°å€ç»™å­˜å‚¨ä½“ï¼Œå‘Šè¯‰å­˜å‚¨ä½“ç°åœ¨æœ‰ä¸€ä¸ªæ•°æ®è¦å­˜è¿›æ¥ï¼Œå¯¹åº”çš„åœ°å€æ˜¯å¤šå°‘ï¼‰\nè¿ç®—å™¨ä¸­ACCä¸­çš„å†…å®¹å–å‡ºæ¥é€ç»™MDRï¼ˆCUæ§åˆ¶ï¼‰\nMDRæŠŠå¾—åˆ°çš„æ•°æ®ä¿å­˜åˆ°å­˜å‚¨ä½“ï¼ˆåœ¨CUæ§åˆ¶çš„æ§åˆ¶ä¹‹ä¸‹æŠŠMDRä¸­çš„æ•°æ®ä¿å­˜çš„å­˜å‚¨ä½“å¯¹åº”çš„åœ°å€ä¸­ï¼‰\n\nax2 + bx + c ç¨‹åºçš„è¿è¡Œè¿‡ç¨‹\nå°†ç¨‹åºé€šè¿‡è¾“å…¥è®¾å¤‡é€è‡³è®¡ç®—æœº\n\nç¨‹åºé¦–åœ°å€ -&gt; PC\n\nå¯åŠ¨ç¨‹åºè¿è¡Œ\n\nå–æŒ‡ä»¤ PC -&gt; MAR -&gt; M(å­˜å‚¨ä½“) -&gt; MDR -&gt; IR ,(PC)+1 -&gt; PC\n\nåˆ†ææŒ‡ä»¤ OP(IR)(æŒ‡ä»¤çš„æ“ä½œç éƒ¨åˆ†) -&gt; CU\n\næ‰§è¡ŒæŒ‡ä»¤ Ad(IR)(æŒ‡ä»¤çš„æ“ä½œæ•°éƒ¨åˆ†) -&gt; MAR -&gt; M -&gt; MDR -&gt; ACC\nâ€¦\n\næ‰“å°ç»“æœ\n\nåœæœº\n\n\n","slug":"è®¡ç®—æœºçš„åŸºæœ¬ç»„æˆ","date":"2022-08-29T15:02:22.000Z","categories_index":"","tags_index":"è®¡ç»„","author_index":"æš—ä½¿å¼€å¼€"},{"id":"ef19fa8a649369ddae37d49f372def59","title":"è®¡ç®—æœºçš„åº”ç”¨","content":"è®¡ç®—æœºçš„åº”ç”¨ä¸€ã€ç§‘å­¦è®¡ç®—å’Œæ•°æ®å¤„ç†\näºŒã€å·¥ä¸šæ§åˆ¶å’Œå®æ—¶æ§åˆ¶\nä¸‰ã€ç½‘ç»œæŠ€æœ¯\n\nç”µå­å•†åŠ¡\nç½‘ç»œæ•™è‚²\næ•æ·åˆ¶é€ \n\nå››ã€è™šæ‹Ÿç°å®\näº”ã€åŠå…¬è‡ªåŠ¨åŒ–å’Œç®¡ç†ä¿¡æ¯ç³»ç»Ÿ\nå…­ã€CAD&#x2F;CAM&#x2F;CIMS\nä¸ƒã€å¤šåª’ä½“æŠ€æœ¯\nå…«ã€äººå·¥æ™ºèƒ½\n","slug":"è®¡ç®—æœºçš„åº”ç”¨","date":"2022-08-29T15:02:22.000Z","categories_index":"","tags_index":"è®¡ç»„","author_index":"æš—ä½¿å¼€å¼€"},{"id":"ee6ffbefdb1e53ca7036ca0db67b41e3","title":"è®¡ç®—æœºç³»ç»Ÿç®€ä»‹","content":"è®¡ç®—æœºç³»ç»Ÿç®€ä»‹ç‰©è”ç½‘æŠŠæ„Ÿåº”å™¨åµŒå…¥å’Œè£…å¤‡åˆ°ç”µç½‘ã€é“è·¯ã€æ¡¥æ¢ã€éš§é“ã€å…¬è·¯ã€å»ºç­‘ã€ä¾›æ°´ç³»ç»Ÿã€å¤§åã€æ²¹æ°”ç®¡é“ç­‰å„ç§ç‰©ä½“ä¸­ï¼Œå¹¶ä¸”è¢«æ™®éè¿æ¥ï¼Œå½¢æˆæ‰€è°“â€œç‰©è”ç½‘â€\nä¸€.è®¡ç®—æœºç³»ç»Ÿç¡¬ä»¶ï¼šè®¡ç®—æœºçš„å®ä½“ï¼Œå¦‚ä¸»æœºï¼Œå¤–è®¾ç­‰\nè½¯ä»¶ï¼šç”±å…·æœ‰å„ç±»ç‰¹æ®ŠåŠŸèƒ½çš„ä¿¡æ¯ï¼ˆç¨‹åºï¼‰ç»„æˆ\nè½¯ä»¶ç³»ç»Ÿè½¯ä»¶ï¼šç”¨æ¥ç®¡ç†æ•´ä¸ªè®¡ç®—æœºç³»ç»Ÿ\n\nè¯­è¨€å¤„ç†ç¨‹åº\næ“ä½œç³»ç»Ÿ\næœåŠ¡æ€§ç¨‹åº\næ•°æ®åº“ç®¡ç†ç³»ç»Ÿ\nç½‘ç»œè½¯ä»¶\n\nåº”ç”¨è½¯ä»¶ï¼šæŒ‰ä»»åŠ¡éœ€è¦ç¼–åˆ¶æˆçš„å„ç§ç¨‹åº\näºŒ.è®¡ç®—æœºç³»ç»Ÿçš„å±‚æ¬¡ç»“æ„ç³»ç»Ÿå¤æ‚æ€§ç®¡ç†çš„æ–¹æ³•-1\næŠ½è±¡æŠ½è±¡-å¯¹äºä¸€ä¸ªè¿‡ç¨‹æˆ–è€…ä¸€ä»¶åˆ¶å“çš„æŸäº›ç»†èŠ‚æœ‰ç›®çš„çš„éšè—ï¼Œä»¥ä¾¿æŠŠå…¶ä»–æ–¹é¢ã€ç»†èŠ‚æˆ–è€…ç»“æ„è¡¨è¾¾å¾—æ›´åŠ æ¸…æ¥šâ€”-ç™¾åº¦ç™¾ç§‘æŠ½è±¡-æŒ‡é«˜çº§çš„æ¨¡å‹ï¼Œå’Œä½çº§çš„å®ä½“ç›¸å¯¹â€”â€“ç»´åŸºç™¾ç§‘æŠ½è±¡-éšè—ç³»ç»Ÿä¸­ä¸é‡è¦çš„ç»†èŠ‚ã€‚â€”â€“David Harris\n\nä»ç‰©ç†æ„æˆçš„è§’åº¦æŠŠè®¡ç®—æœºç³»ç»ŸæŠ½è±¡æˆä¹å±‚ ä¾æ®æ˜¯æ¯ä¸€å±‚è®¡ç®—æœºå…¸å‹çš„æ„å»ºæ¨¡å—\n\n\n\nApplication Software\nprograms\n\n\n\nOperating Systems\nadders memories\n\n\nArchitecture\ndevice drivers\n\n\nMicroarchitecture\ninstructions registers\n\n\nLogic\ndatapaths controllers\n\n\nDigital Circuits\nand gate not gate\n\n\nAnalog Circuits\namplifiers filters\n\n\nDevices\ntransistors diodes\n\n\nPhysics\nelectros\n\n\n\nä»ç¨‹åºå‘˜çš„è§’åº¦ï¼ŒæŠŠè®¡ç®—æœºç³»ç»ŸæŠ½è±¡æˆäº”å±‚\n\n\n\né«˜çº§è¯­è¨€\nè™šæ‹Ÿæœºå™¨M4ï¼ˆè½¯ä»¶ï¼‰\nç”¨ç¼–è¯‘ç¨‹åºç¿»è¯‘æˆæ±‡ç¼–è¯­è¨€ç¨‹åº\n\n\n\næ±‡ç¼–è¯­è¨€\nè™šæ‹Ÿæœºå™¨M3ï¼ˆè½¯ä»¶ï¼‰\nç”¨æ±‡ç¼–ç¨‹åºç¿»è¯‘æˆæœºå™¨è¯­è¨€ç¨‹åº\n\n\næ“ä½œç³»ç»Ÿ\nè™šæ‹Ÿæœºå™¨M2ï¼ˆè½¯ä»¶ï¼‰\nç”¨æœºå™¨è¯­è¨€è§£é‡Šæ“ä½œç³»ç»Ÿ\n\n\næœºå™¨è¯­è¨€\nå®é™…æœºå™¨M1ï¼ˆç¡¬ä»¶ï¼‰\nç”¨å¾®æŒ‡ä»¤è§£é‡Šæœºå™¨æŒ‡ä»¤\n\n\nå¾®æŒ‡ä»¤ç³»ç»Ÿ\nå¾®ç¨‹åºæœºå™¨M0ï¼ˆç¡¬ä»¶ï¼‰\nç”±ç¡¬ä»¶ç›´æ¥æ‰§è¡Œå¾®æŒ‡ä»¤\n\n\n\n\nè®¡ç®—æœºç³»ç»Ÿï¼ˆä½“ç³»ï¼‰ç»“æ„ï¼šï¼ˆä¾‹å¦‚ï¼šå®šä¹‰æœ‰æ— ä¹˜æ³•æŒ‡ä»¤ï¼‰\n\nç¨‹åºå‘˜ï¼ˆæœºå™¨è¯­è¨€ç¨‹åºå‘˜ï¼‰æ‰€è§åˆ°çš„è®¡ç®—æœºç³»ç»Ÿçš„å±æ€§ï¼ˆæŒ‡ä»¤é›†åŠå…¶èƒ½å¤Ÿå¯¹å“ªäº›ç±»å‹çš„æ•°æ®è¿›è¡Œæ“ä½œï¼Œå¯„å­˜å™¨æ–‡ä»¶çš„ç»„ç»‡ï¼Œå†…å­˜çš„ç¼–å€å•ä½ï¼‰ æ¦‚å¿µæ€§çš„ç»“æ„ä¸åŠŸèƒ½ç‰¹æ€§ï¼ˆæŒ‡ä»¤ç³»ç»Ÿã€æ•°æ®ç±»å‹ã€å¯»å€æŠ€æœ¯ã€I&#x2F;Oæœºç†ï¼‰\nå®šä¹‰äº†è®¡ç®—æœºç³»ç»Ÿè½¯ç¡¬ä»¶çš„äº¤ç•Œé¢ï¼Œå®šä¹‰äº†å“ªäº›åŠŸèƒ½ç”±è½¯ä»¶æ¥å®ç°ï¼Œå“ªäº›åŠŸèƒ½ç”±ç¡¬ä»¶æ¥å®ç°ï¼Œæä¾›äº†ä¸Šå±‚è½¯ä»¶è¿›è¡Œç¼–å†™çš„æ—¶å€™å’Œç¡¬ä»¶è¿›è¡Œäº¤äº’çš„æ¥å£\n\nè®¡ç®—æœºç»„æˆï¼šï¼ˆä¾‹å¦‚ï¼šå¦‚ä½•å®ç°ä¹˜æ³•æŒ‡ä»¤ï¼‰\n\nå®ç°è®¡ç®—æœºä½“ç³»ç»“æ„æ‰€ä½“ç°çš„å±æ€§ï¼ˆå…·ä½“æŒ‡ä»¤çš„å®ç°ï¼‰\n\n","slug":"è®¡ç®—æœºç³»ç»Ÿç®€ä»‹","date":"2022-08-29T15:02:22.000Z","categories_index":"","tags_index":"è®¡ç»„","author_index":"æš—ä½¿å¼€å¼€"},{"id":"f18e335be203daef5375edd1ee27ca4d","title":"è®¡ç®—æœºçš„å‘å±•å²","content":"è®¡ç®—æœºçš„å‘å±•å²ä¸€ã€è®¡ç®—æœºçš„äº§ç”Ÿå’Œå‘å±•ä¸–ç•Œä¸Šç¬¬ä¸€å°ç”µå­è®¡ç®—æœº ENIAC(1946)\n1946å¹´ ç¾å›½ ENIAC 1955å¹´é€€å½¹åè¿›åˆ¶è¿ç®—18 000 å¤šä¸ªç”µå­ç®¡1 500 å¤šä¸ªç»§ç”µå™¨150 åƒç“¦30 å¨1 500 å¹³æ–¹è‹±å°º5 000 æ¬¡åŠ æ³•ï¼ç§’ç”¨æ‰‹å·¥æ¬åŠ¨å¼€å…³å’Œæ‹”æ’ç”µç¼†æ¥ç¼–ç¨‹\nç°ä»£è®¡ç®—æœºäº§ç”Ÿçš„é©±åŠ¨åŠ›\néœ€æ±‚ã€éœ€æ±‚ã€è¿˜æ˜¯éœ€æ±‚\næŠ€æœ¯å‘å±•\nç”µå­æŠ€æœ¯çš„å‘å±•\nè®¡ç®—æœºä½“ç³»ç»“æ„æŠ€æœ¯çš„å‘å±•\n\n\n\nç¡¬ä»¶æŠ€æœ¯å¯¹è®¡ç®—æœºæ›´æ–°æ¢ä»£çš„å½±å“\n\n\nä»£\næ—¶é—´\nç¡¬ä»¶æŠ€æœ¯\né€Ÿåº¦ï¼ˆæ¬¡&#x2F;ç§’ï¼‰\n\n\n\nä¸€\n1946ï¼1957\nç”µå­ç®¡\n40 000\n\n\näºŒ\n1958ï¼1964\næ™¶ä½“ç®¡\n200 000\n\n\nä¸‰\n1965ï¼1971\nä¸­å°è§„æ¨¡é›†æˆç”µè·¯\n1 000 000\n\n\nå››\n1972ï¼1977\nå¤§è§„æ¨¡é›†æˆç”µè·¯\n10 000 000\n\n\näº”\n1978ï¼ç°åœ¨\nè¶…å¤§è§„æ¨¡é›†æˆç”µè·¯\n100 000 000\n\n\nIASçš„é€»è¾‘ç»“æ„ä»¥è¿ç®—å™¨ä¸ºä¸­å¿ƒçš„å†¯è¯ºä¾æ›¼è®¡ç®—æœºç»“æ„\n\n\n\n\n\n\n\n\n\n\n\n\nMain Memory\n&lt;&#x3D;&gt;\nArithmetic Logic Unit\n&lt;&#x3D;&gt;\nI&#x2F;O Equipment\n\n\n\n\n||\n\n\n\n\n\n&lt;&#x3D;&gt;\nProgram Control Unit\n\n\n\n\nIBM System &#x2F; 360ç³»åˆ—äº§å“ å¤§ä¸­å°å‹360\näºŒã€å¾®å‹è®¡ç®—æœºçš„å‡ºç°å’Œå‘å±•å¾®å¤„ç†å™¨ï¼šç”¨ä¸€ç‰‡å¤§è§„æ¨¡çš„é›†æˆç”µè·¯ï¼Œç»„æˆçš„å¤„ç†å™¨ï¼Œé›†æˆäº†è¿ç®—å™¨å’Œæ§åˆ¶å™¨\nå¾®å‹è®¡ç®—æœºï¼šä½¿ç”¨å¾®å¤„ç†å™¨ã€é›†æˆåº¦ç›¸å½“é«˜ã€å¤§è§„æ¨¡é›†æˆç”µè·¯ï¼Œé¢å‘ä¸ªäººç”¨æˆ·ä½“ç§¯å°ã€é‡é‡è½»ã€ä»·æ ¼ä½çš„è®¡ç®—æœº\n\n\n\nå¾®å¤„ç†å™¨èŠ¯ç‰‡ï¼ˆIntelï¼‰\n1971å¹´\nå­˜å‚¨å™¨èŠ¯ç‰‡\n1970\n\n\n\n4ä½ï¼ˆ4004ï¼‰\n1971\n256 ä½\n\n\n\n8ä½ï¼ˆ8080ï¼‰\n1974\n1 Kä½\n\n\n\n16ä½ï¼ˆ8086ã€80286ï¼‰2.9 ä¸‡ä¸ªæ™¶ä½“ç®¡\n1979ã€1982\n4 Kä½\n\n\n\n32ä½ï¼ˆ80386ã€80486ï¼‰27.5 ä¸‡ä¸ªæ™¶ä½“ç®¡\n1985ã€1989\n16 Kä½\n\n\n\n64ä½ï¼ˆPentiumã€Pentium Proã€Pentium â…¡ã€Pentium â…¢ã€Pentium â…£ï¼‰4 200.0 ä¸‡ä¸ªæ™¶ä½“ç®¡\n1993ã€1995ã€1997ã€1999ã€2000\n64 Kä½\n\n\n\nç›®å‰èŠ¯ç‰‡å¯é›†æˆ30äº¿ä¸ªæ™¶ä½“ç®¡\n\n256 Kä½\n\n\n\n\n\n1 Mä½\n\n\n\n\n\n4 Mä½\n\n\n\n\n\n16 Mä½\n\n\n\n\n\n64 Mä½\n\n\n\nMoore å®šå¾‹ï¼šIntel å…¬å¸çš„ç¼”é€ è€…ä¹‹ä¸€ Gordon Moore æå‡ºå¾®èŠ¯ç‰‡ä¸Šé›†æˆçš„æ™¶ä½“ç®¡æ•°ç›®æ¯ä¸‰å¹´ç¿»ä¸¤ç•ªï¼ˆ4å€ï¼‰\nä¸‰ã€è½¯ä»¶æŠ€æœ¯çš„å…´èµ·å’Œå‘å±•1. å„ç§è¯­è¨€æœºå™¨è¯­è¨€ é¢å‘æœºå™¨\næ±‡ç¼–è¯­è¨€ é¢å‘æœºå™¨\né«˜çº§è¯­è¨€ é¢å‘é—®é¢˜\n FORTRAN ç§‘å­¦è®¡ç®—å’Œå·¥ç¨‹è®¡ç®—\n PASCAL ç»“æ„åŒ–ç¨‹åºè®¾è®¡\n Cï¼‹ï¼‹ é¢å‘å¯¹è±¡\n Java é€‚åº”ç½‘ç»œç¯å¢ƒ\n2. ç³»ç»Ÿè½¯ä»¶\n\n\nè¯­è¨€å¤„ç†ç¨‹åº\næ±‡ç¼–ç¨‹åº ç¼–è¯‘ç¨‹åº è§£é‡Šç¨‹åº\n\n\n\næ“ä½œç³»ç»Ÿ\nDOSã€UNIXã€Windowsã€Linuxã€Kylin Linux\n\n\næœåŠ¡æ€§ç¨‹åº\nè£…é… è°ƒè¯• è¯Šæ–­ æ’é”™\n\n\næ•°æ®åº“ç®¡ç†ç³»ç»Ÿ\næ•°æ®åº“å’Œæ•°æ®åº“ç®¡ç†è½¯ä»¶\n\n\nç½‘ç»œè½¯ä»¶\n\n\n\n3. è½¯ä»¶å‘å±•çš„ç‰¹ç‚¹\nå¼€å‘å‘¨æœŸé•¿\n\nåˆ¶ä½œæˆæœ¬æ˜‚è´µ\n\næ£€æµ‹è½¯ä»¶äº§å“è´¨é‡çš„ç‰¹æ®Šæ€§\nè½¯ä»¶æ˜¯ç¨‹åºä»¥åŠå¼€å‘ã€ä½¿ç”¨å’Œç»´æŠ¤ç¨‹åºæ‰€éœ€è¦çš„æ‰€æœ‰æ–‡æ¡£\n\n\n","slug":"è®¡ç®—æœºçš„å‘å±•å²","date":"2022-08-28T16:00:00.000Z","categories_index":"","tags_index":"è®¡ç»„","author_index":"æš—ä½¿å¼€å¼€"},{"id":"75d33a392d03942d61d72e896069198e","title":"VScode","content":"VScodeMacvscodeå¼€å‘flutter\nå®‰è£…æ’ä»¶ï¼šFlutter Snippetsï¼šå®ç°è‡ªåŠ¨è¡¥å…¨\n\nfcolï¼šåˆ›å»ºä¸€ä¸ªColumn Widget\n\nfcontï¼šåˆ›å»ºä¸€ä¸ªContainer Widget\n\nfrowï¼šåˆ›å»ºä¸€ä¸ªRow Widget\n\nftxtï¼šåˆ›å»ºä¸€ä¸ªText Widget\n\nå¿«é€Ÿåˆ›å»ºWidgetï¼šåœ¨dartæ–‡ä»¶ä¸­è¾“å…¥stfæˆ–stlå‡ºç°æç¤ºåæŒ‰å›è½¦é”®\n\nå¿«é€Ÿä¿®å¤ï¼šcommand + .\n\nè‡ªåŠ¨ç”Ÿæˆæ„é€ å‡½æ•°ï¼šé€‰ä¸­finalå‚æ•°ï¼Œå¿«æ·é”®command + .\n\næ·»åŠ çˆ¶ç»„ä»¶ã€å˜æˆå­ç»„ä»¶ã€åˆ é™¤å­ç»„ä»¶ï¼šcommand + .\n\né‡æ–°æ‰“å¼€ å…³é—­çš„ç¼–è¾‘é¡µé¢ï¼šCommand + shift +T\n\né€šè¿‡åŒ¹é…æ–‡æœ¬æ‰“å¼€æ–‡ä»¶ï¼šcommand + T\n\nä»£ç æ ¼å¼åŒ–ï¼šshift+option+F\n\næ‰“å¼€consoleï¼šcommand+3\n\næŸ¥çœ‹æºç ï¼šé•¿æŒ‰command ç‚¹å‡»æ–¹æ³•åç±»å\n\næŸ¥çœ‹ç±»çš„å­ç±»ï¼šé€‰ä¸­è¦æŸ¥çœ‹çš„ç±»ï¼Œç„¶åcommand+F12\n\nåé€€ï¼šå½“è·Ÿè¸ªä»£ç çš„æ—¶å€™ç»å¸¸è·³åˆ°å…¶å®ƒç±»ï¼Œåé€€ï¼šctrl + -\n\nå¯¼å…¥ç±»çš„å¿«æ·é”®ï¼šæŠŠå…‰æ ‡æ”¾åœ¨è¦å¯¼å…¥çš„ç±»ä¸Šï¼Œç„¶åæŒ‰command + -\n\nå…¨å±€æœç´¢ï¼šcommand + shift + F\n\nå½“å‰è¡Œä»£ç äº¤æ¢ä½ç½®ï¼šoption + ä¸Š&#x2F;ä¸‹\n\nå¿«é€Ÿå¤åˆ¶å½“å‰è¡Œï¼šoption + shift + ä¸‹\n\n\ncmdï¼š\nflutter run\nflutter run -d è®¾å¤‡id\nq:ç»ˆæ­¢è¿è¡Œ\nc:æ¸…é™¤å±å¹•\nr:çƒ­é‡è½½\ncommand+kï¼šæ¸…é™¤ç»ˆç«¯è¾“å‡ºçš„ä¿¡æ¯\nflutter cleanï¼šæ¸…ç†ç¼“å­˜ï¼Œå¯ç”¨äºæ›´æ”¹ä»£ç åè¿è¡Œæœ‰äº›å¼‚å¸¸çš„å¤„ç†æ–¹å¼\nflutter â€“versionï¼šæŸ¥çœ‹flutterç‰ˆæœ¬\né—®é¢˜è§£å†³vscodeç¼–è¯‘ ä¸å…è®¸ä½¿ç”¨ä¸å·(&amp;)åŸå› ï¼švscodeç»ˆç«¯ï¼ˆterminalï¼‰é»˜è®¤æ˜¯powershellï¼Œvscodeåœ¨powershellä¸­è¾“å…¥æŒ‡ä»¤æ—¶ä¼šå‡ºç°æŸç§æˆ‘æ— æ³•ç†è§£çš„é—®é¢˜\nè§£å†³æ–¹æ³•ï¼šå°†é»˜è®¤ç»ˆç«¯è®¾ç½®ä¸ºcmd\n\nç‚¹å‡»Select Default Profile\n\né€‰æ‹©Command Prompt\n\n\n","slug":"VScode","date":"2021-08-29T15:02:22.000Z","categories_index":"","tags_index":"","author_index":"æš—ä½¿å¼€å¼€"},{"id":"4df92e277050af68278af1388258011f","title":"C++é«˜å¹¶å‘è§£å†³æ–¹æ¡ˆ","content":"C++é«˜å¹¶å‘è§£å†³æ–¹æ¡ˆ\nTCP+å¤šçº¿ç¨‹ å¯¹æœåŠ¡å™¨æ€§èƒ½è¦æ±‚æ¯”è¾ƒé«˜\n\nselectï¼ˆæ˜¯ä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦ï¼ˆfdï¼‰çš„é›†åˆï¼Œä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦å¯¹åº”ä¸€ä¸ªå®¢æˆ·ç«¯ï¼‰å¯¹æœåŠ¡å™¨æ€§èƒ½è¦æ±‚æ¯”è¾ƒä½ï¼Œæ˜¯å•çº¿ç¨‹åœ¨å¾ªç¯ï¼Œå¹¶å‘é‡æœ‰é™ï¼Œå¤„ç†æ•ˆç‡ä½ï¼ˆå¾ªç¯éå†æ•´åˆé›†åˆï¼‰\n\nepoll ç†è®ºä¸Šå¹¶å‘é‡æ— é™ï¼Œå¤„ç†æ•ˆç‡è¾ƒé«˜ï¼Œä¸ç”¨éå†æ•´ä¸ªäº‹ä»¶ï¼Œæœ‰äº‹ä»¶å‘ç”Ÿæ—¶ç›´æ¥è·³è¿‡å»ï¼ˆepoll_eventç»“æ„ä½“ï¼‰é›†åˆ\n\nepoll+å¤šçº¿ç¨‹ é¢‘ç¹å¯åŠ¨çº¿ç¨‹æµªè´¹æ—¶é—´\n\nepoll+çº¿ç¨‹æ± \n\nlibeventï¼ˆbuffereventçš„é›†åˆï¼Œæ¯ä¸ªbuffereventå¯¹åº”ä¸€ä¸ªå®¢æˆ·ç«¯ï¼‰\n\nlibevent+å¤šçº¿ç¨‹ï¼ˆå’Œepoll+å¤šçº¿ç¨‹ä¸åŒï¼Œå®ƒä¸å…è®¸ç”±å¤šä¸ªçº¿ç¨‹æ¥æ“ä½œè¿™ä¸ªé›†åˆï¼‰\n\n\n","slug":"C-é«˜å¹¶å‘è§£å†³æ–¹æ¡ˆ","date":"2021-07-30T03:48:58.000Z","categories_index":"","tags_index":"","author_index":"æš—ä½¿å¼€å¼€"}]