{"title":"docker","uid":"4122a09df2e4f3d18921791a0dcc0507","slug":"docker","date":"2024-07-30T07:12:50.000Z","updated":"2024-08-04T09:58:12.467Z","comments":true,"path":"api/articles/docker.json","keywords":null,"cover":null,"content":"<h1 id=\"Docker\"><a href=\"#Docker\" class=\"headerlink\" title=\"Docker\"></a>Docker</h1><p>真心不推荐使用</p>\n<ol>\n<li>高度集成，仓库消失等于白费，个人最不喜欢把心放在别人那里，自己掌握技术才是最好的。</li>\n<li>对技术提升没帮助，直接跳过环境部署会让你对使用的开发软件永远处于小白阶段，自己都做开发了还怕这点麻烦，其实也不麻烦，所谓难者不会，会者不难。</li>\n</ol>\n<h2 id=\"启动-Docker\"><a href=\"#启动-Docker\" class=\"headerlink\" title=\"启动 Docker\"></a>启动 Docker</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">sudo systemctl start docker</span><br><span class=\"line\">sudo systemctl restart docker</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"镜像管理\"><a href=\"#镜像管理\" class=\"headerlink\" title=\"镜像管理\"></a>镜像管理</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">查看镜像</span><br><span class=\"line\">docker image ls</span><br><span class=\"line\">docker images</span><br><span class=\"line\"></span><br><span class=\"line\">检索镜像</span><br><span class=\"line\">docker search [image]</span><br><span class=\"line\">docker search nginx</span><br><span class=\"line\"></span><br><span class=\"line\">拉取镜像</span><br><span class=\"line\">docker pull [image]</span><br><span class=\"line\"></span><br><span class=\"line\">上传镜像</span><br><span class=\"line\">docker push [image]</span><br><span class=\"line\">docker push hello-docker</span><br><span class=\"line\"></span><br><span class=\"line\">保存镜像</span><br><span class=\"line\">docker save [image] -o FILE /</span><br><span class=\"line\">docker save [image] &gt; FILE</span><br><span class=\"line\">docker save hello-docker &gt; hello-docer.tar</span><br><span class=\"line\"></span><br><span class=\"line\">导入镜像</span><br><span class=\"line\">docker load -i FILE</span><br><span class=\"line\">docker load -i hello-docer.tar</span><br><span class=\"line\"></span><br><span class=\"line\">查看镜像历史</span><br><span class=\"line\">docer history [image]</span><br><span class=\"line\"></span><br><span class=\"line\">删除镜像</span><br><span class=\"line\">docker rmi [image]</span><br><span class=\"line\">docker image rm [image]</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"容器管理\"><a href=\"#容器管理\" class=\"headerlink\" title=\"容器管理\"></a>容器管理</h2><h2 id=\"容器运行\"><a href=\"#容器运行\" class=\"headerlink\" title=\"容器运行\"></a>容器运行</h2><h1 id=\"安装docker\"><a href=\"#安装docker\" class=\"headerlink\" title=\"安装docker\"></a>安装docker</h1><h2 id=\"卸载旧版本\"><a href=\"#卸载旧版本\" class=\"headerlink\" title=\"卸载旧版本\"></a>卸载旧版本</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">sudo yum remove docker \\</span><br><span class=\"line\">        docker-client \\</span><br><span class=\"line\">         docker-client-latest \\</span><br><span class=\"line\">         docker-common \\</span><br><span class=\"line\">         docker-latest \\</span><br><span class=\"line\">         docker-latest-logrotate \\</span><br><span class=\"line\">         docker-logrotate \\</span><br><span class=\"line\">         docker-engine</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"设置仓库\"><a href=\"#设置仓库\" class=\"headerlink\" title=\"设置仓库\"></a><strong>设置仓库</strong></h2><p>在新主机上首次安装 Docker Engine-Community 之前，需要设置 Docker 仓库。之后，可以从仓库安装和更新 Docker。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">sudo yum install -y yum-utils</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"官方源地址\"><a href=\"#官方源地址\" class=\"headerlink\" title=\"官方源地址\"></a>官方源地址</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">sudo yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"阿里云\"><a href=\"#阿里云\" class=\"headerlink\" title=\"阿里云\"></a>阿里云</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">sudo yum-config-manager --add-repo https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"安装-Docker-Engine-Community\"><a href=\"#安装-Docker-Engine-Community\" class=\"headerlink\" title=\"安装 Docker Engine-Community\"></a>安装 Docker Engine-Community</h2><p>安装最新版本的 Docker Engine-Community 和 containerd，或者转到下一步安装特定版本：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">sudo yum install -y docker-ce docker-ce-cli containerd.io docker-compose-plugin</span><br></pre></td></tr></table></figure>\n\n<p>启动 Docker</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">sudo systemctl start docker</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"卸载-docker\"><a href=\"#卸载-docker\" class=\"headerlink\" title=\"卸载 docker\"></a>卸载 docker</h1><p>删除安装包：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">yum remove -y docker \\</span><br><span class=\"line\">           docker-client \\</span><br><span class=\"line\">           docker-client-latest \\</span><br><span class=\"line\">           docker-common \\</span><br><span class=\"line\">           docker-latest \\</span><br><span class=\"line\">           docker-latest-logrotate \\</span><br><span class=\"line\">           docker-logrotate \\</span><br><span class=\"line\">           docker-selinux \\</span><br><span class=\"line\">           docker-engine-selinux \\</span><br><span class=\"line\">           docker-engine</span><br></pre></td></tr></table></figure>\n\n<p>删除镜像、容器、配置文件等内容：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">yum remove -y docker-ce \\</span><br><span class=\"line\">           docker-ce-cli \\</span><br><span class=\"line\">           containerd</span><br><span class=\"line\"></span><br><span class=\"line\">rm -rf /etc/systemd/system/docker.service.d</span><br><span class=\"line\">rm -rf /etc/systemd/system/docker.service</span><br><span class=\"line\">rm -rf /var/lib/docker</span><br><span class=\"line\">rm -rf /var/run/docker</span><br><span class=\"line\">rm -rf /usr/local/docker</span><br><span class=\"line\">rm -rf /etc/docker</span><br><span class=\"line\">rm -rf /usr/bin/docker* /usr/bin/containerd* /usr/bin/runc /usr/bin/ctr</span><br></pre></td></tr></table></figure>\n\n","text":"Docker真心不推荐使用 高度集成，仓库消失等于白费，个人最不喜欢把心放在别人那里，自己掌握技术才是最好的。 对技术提升没帮助，直接跳过环境部署会让你对使用的...","permalink":"/post/docker","photos":[],"count_time":{"symbolsCount":"2k","symbolsTime":"2 mins."},"categories":[{"name":"开发工具","slug":"开发工具","count":3,"path":"api/categories/开发工具.json"}],"tags":[{"name":"docker","slug":"docker","count":1,"path":"api/tags/docker.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#Docker\"><span class=\"toc-text\">Docker</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%90%AF%E5%8A%A8-Docker\"><span class=\"toc-text\">启动 Docker</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E9%95%9C%E5%83%8F%E7%AE%A1%E7%90%86\"><span class=\"toc-text\">镜像管理</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%AE%B9%E5%99%A8%E7%AE%A1%E7%90%86\"><span class=\"toc-text\">容器管理</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%AE%B9%E5%99%A8%E8%BF%90%E8%A1%8C\"><span class=\"toc-text\">容器运行</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%AE%89%E8%A3%85docker\"><span class=\"toc-text\">安装docker</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%8D%B8%E8%BD%BD%E6%97%A7%E7%89%88%E6%9C%AC\"><span class=\"toc-text\">卸载旧版本</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E8%AE%BE%E7%BD%AE%E4%BB%93%E5%BA%93\"><span class=\"toc-text\">设置仓库</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%AE%98%E6%96%B9%E6%BA%90%E5%9C%B0%E5%9D%80\"><span class=\"toc-text\">官方源地址</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E9%98%BF%E9%87%8C%E4%BA%91\"><span class=\"toc-text\">阿里云</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%AE%89%E8%A3%85-Docker-Engine-Community\"><span class=\"toc-text\">安装 Docker Engine-Community</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%8D%B8%E8%BD%BD-docker\"><span class=\"toc-text\">卸载 docker</span></a></li></ol>","author":{"name":"暗使开开","slug":"blog-author","avatar":"\\favicon.ico","link":"/","description":"<p>即使是虚拟的也会开心</p>唯有终夜长开眼，报以平生未展眉","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili.svg","link":"https://space.bilibili.com/344723412"},"qq":{"icon":"/svg/qq.svg","link":"https://qm.qq.com/q/MXqKNejl6g"}}}},"mapped":true,"hidden":false,"prev_post":{"title":"git","uid":"58b7f561a82cc9dd7c27d8845a6fb9dd","slug":"git","date":"2024-07-30T07:15:25.000Z","updated":"2024-08-04T10:40:53.019Z","comments":true,"path":"api/articles/git.json","keywords":null,"cover":null,"text":"使用github搜索awesome xxx //找百科全书 xxx sample //找例子 xxx starter /xxx boilerplate //找空...","permalink":"/post/git","photos":[],"count_time":{"symbolsCount":"2.5k","symbolsTime":"2 mins."},"categories":[{"name":"开发工具","slug":"开发工具","count":3,"path":"api/categories/开发工具.json"}],"tags":[{"name":"git","slug":"git","count":1,"path":"api/tags/git.json"}],"author":{"name":"暗使开开","slug":"blog-author","avatar":"\\favicon.ico","link":"/","description":"<p>即使是虚拟的也会开心</p>唯有终夜长开眼，报以平生未展眉","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili.svg","link":"https://space.bilibili.com/344723412"},"qq":{"icon":"/svg/qq.svg","link":"https://qm.qq.com/q/MXqKNejl6g"}}}}},"next_post":{"title":"雅思","uid":"487367ff609355e6216873e9408d459b","slug":"雅思","date":"2024-07-30T03:56:53.000Z","updated":"2024-07-30T07:14:44.302Z","comments":true,"path":"api/articles/雅思.json","keywords":null,"cover":null,"text":"IELTS 剑雅真题8-16 考点词538 SIMON雅思课 慎小嶷写作素材库 软件 雅思哥 雅思考满分 每日英语听题 part1 一般加特殊 设置条件，一定要...","permalink":"/post/雅思","photos":[],"count_time":{"symbolsCount":"11k","symbolsTime":"10 mins."},"categories":[{"name":"英语","slug":"英语","count":1,"path":"api/categories/英语.json"}],"tags":[],"author":{"name":"暗使开开","slug":"blog-author","avatar":"\\favicon.ico","link":"/","description":"<p>即使是虚拟的也会开心</p>唯有终夜长开眼，报以平生未展眉","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili.svg","link":"https://space.bilibili.com/344723412"},"qq":{"icon":"/svg/qq.svg","link":"https://qm.qq.com/q/MXqKNejl6g"}}}}}}